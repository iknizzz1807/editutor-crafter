title: Task Planning DAG Example

direction: right

classes: {
  task_node: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  phase_container: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#c9d1d9"
    style.double-border: true
  }
}

Research_Phase: {
  shape: rectangle
  class: phase_container
  label: "Research Phase"
  
  Web_Search: "Web Search" {
    class: task_node
  }
  Gather_Sources: "Gather Relevant Sources" {
    class: task_node
  }
  Summarize_Notes: "Summarize Research Notes" {
    class: task_node
  }
  
  Web_Search -> Gather_Sources: "Find URLs"
  Gather_Sources -> Summarize_Notes: "Extract key info"
}

Planning_Phase: {
  shape: rectangle
  class: phase_container
  label: "Planning Phase"

  Draft_Outline: "Draft Outline" {
    class: task_node
  }
  Define_Sections: "Define Report Sections" {
    class: task_node
  }
  Allocate_Content: "Allocate Content to Sections" {
    class: task_node
  }

  Define_Sections -> Draft_Outline: "Structure"
  Draft_Outline -> Allocate_Content: "Map research notes"
}

Writing_Phase: {
  shape: rectangle
  class: phase_container
  label: "Writing Phase"

  Write_Section_1: "Write Section 1: Introduction" {
    class: task_node
  }
  Write_Section_2: "Write Section 2: Analysis" {
    class: task_node
  }
  Write_Section_3: "Write Section 3: Conclusion" {
    class: task_node
  }
  Write_Abstract: "Write Abstract" {
    class: task_node
  }

  Write_Section_1 -> Write_Section_2
  Write_Section_2 -> Write_Section_3
  Write_Section_3 -> Write_Abstract: "After all sections"
}

Review_Phase: {
  shape: rectangle
  class: phase_container
  label: "Review & Finalize"

  Proofread: "Proofread Entire Report" {
    class: task_node
  }
  Check_Formatting: "Check Formatting & Citations" {
    class: task_node
  }
  Finalize_Report: "Finalize Report (PDF)" {
    class: task_node
  }

  Proofread -> Check_Formatting: "After corrections"
  Check_Formatting -> Finalize_Report: "Export final version"
}

# Cross-phase dependencies
Summarize_Notes -> Draft_Outline: "Provide research basis"
Allocate_Content -> Write_Section_1: "Content mapping"
Allocate_Content -> Write_Section_2: "Content mapping"
Allocate_Content -> Write_Section_3: "Content mapping"
Write_Abstract -> Proofread: "Complete draft ready"