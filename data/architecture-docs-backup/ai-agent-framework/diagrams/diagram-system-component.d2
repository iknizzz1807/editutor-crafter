# System Component Diagram: AI Agent Framework

direction: right

classes: {
  external: {
    style.fill: "#0d1117"
    style.stroke: "#8b949e"
    style.font-color: "#c9d1d9"
    style.stroke-width: 2
    style.stroke-dash: 0
  }
  internal: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.stroke-width: 2
    style.stroke-dash: 0
  }
  highlight: {
    style.stroke: "#3fb950"
    style.stroke-width: 3
    style.bold: true
  }
}

# External Entities
user: User {
  class: external
  shape: rectangle
}

llm_provider: LLM Provider {
  class: external
  shape: cloud
}

# System Boundary
system: AI Agent Framework {
  class: internal
  shape: rectangle
  style.double-border: true
  
  # Five Major Pillars
  agent_core: Agent Core {
    class: internal
    shape: rectangle
    label: |md
      ## Agent Core
      Central controller that orchestrates
      the complete task execution flow
    |
  }
  
  tool_system: Tool System {
    class: internal
    shape: rectangle
    label: |md
      ## Tool System
      Manages tool registration, selection,
      and execution for external actions
    |
  }
  
  planner: Planner {
    class: internal
    shape: rectangle
    label: |md
      ## Planner
      Decomposes complex tasks into
      executable sub-tasks and plans
    |
  }
  
  memory: Memory {
    class: internal
    shape: rectangle
    label: |md
      ## Memory
      Short-term and long-term storage
      for context, history, and state
    |
  }
  
  orchestrator: Orchestrator {
    class: internal
    shape: rectangle
    label: |md
      ## Orchestrator
      Coordinates step execution and
      manages the ReAct loop flow
    |
  }
  
  # Layout within system
  agent_core -> planner: Decompose task {class: highlight}
  agent_core -> orchestrator: Execute plan {class: highlight}
  agent_core -> memory: Store/retrieve context {class: highlight}
  orchestrator -> tool_system: Invoke tool {class: highlight}
  tool_system -> orchestrator: Tool response {class: highlight}
  orchestrator -> memory: Update state {class: highlight}
  memory -> orchestrator: Provide context {class: highlight}
}

# External Connections
user -> system.agent_core: Task request {class: highlight}
system.agent_core -> user: Task response {class: highlight}
system.agent_core -> llm_provider: Reasoning call {class: highlight}
system.planner -> llm_provider: Planning call {class: highlight}
llm_provider -> system.agent_core: LLM response {class: highlight}
llm_provider -> system.planner: Planning response {class: highlight}

