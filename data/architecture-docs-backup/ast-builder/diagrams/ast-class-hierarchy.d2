direction: down

classes: {
  node_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  abstract_style: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.italic: true
  }
  expression_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  statement_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

title: AST Node Class Hierarchy

note: {
  text: "## Abstract Syntax Tree Node Types\n**Expression** nodes evaluate to values\n**Statement** nodes perform actions\nAll nodes track source location"
  shape: page
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  near: top-center
}

node: Node {
  shape: class
  class: abstract_style
  "loc: SourceRange"
  "accept(visitor: Visitor): void"
}

node -> expression: extends
node -> statement: extends

expression: Expression {
  shape: class
  class: abstract_style
  "loc: SourceRange"
  "accept(visitor: Visitor): void"
}

statement: Statement {
  shape: class
  class: abstract_style
  "loc: SourceRange"
  "accept(visitor: Visitor): void"
}

binary_expr: BinaryExpr {
  shape: class
  class: expression_style
  "loc: SourceRange"
  "left: Expression"
  "operator: Token"
  "right: Expression"
  "accept(visitor: Visitor): void"
}

unary_expr: UnaryExpr {
  shape: class
  class: expression_style
  "loc: SourceRange"
  "operator: Token"
  "operand: Expression"
  "accept(visitor: Visitor): void"
}

literal_expr: LiteralExpr {
  shape: class
  class: expression_style
  "loc: SourceRange"
  "value: any"
  "accept(visitor: Visitor): void"
}

grouping_expr: GroupingExpr {
  shape: class
  class: expression_style
  "loc: SourceRange"
  "expression: Expression"
  "accept(visitor: Visitor): void"
}

variable_expr: VariableExpr {
  shape: class
  class: expression_style
  "loc: SourceRange"
  "name: Token"
  "accept(visitor: Visitor): void"
}

if_stmt: IfStmt {
  shape: class
  class: statement_style
  "loc: SourceRange"
  "condition: Expression"
  "then_branch: Statement"
  "else_branch: Statement?"
  "accept(visitor: Visitor): void"
}

while_stmt: WhileStmt {
  shape: class
  class: statement_style
  "loc: SourceRange"
  "condition: Expression"
  "body: Statement"
  "accept(visitor: Visitor): void"
}

block_stmt: BlockStmt {
  shape: class
  class: statement_style
  "loc: SourceRange"
  "statements: Statement[]"
  "accept(visitor: Visitor): void"
}

expression_stmt: ExpressionStmt {
  shape: class
  class: statement_style
  "loc: SourceRange"
  "expression: Expression"
  "accept(visitor: Visitor): void"
}

variable_decl: VariableDeclaration {
  shape: class
  class: statement_style
  "loc: SourceRange"
  "name: Token"
  "initializer: Expression?"
  "accept(visitor: Visitor): void"
}

expression -> binary_expr: extends
expression -> unary_expr: extends
expression -> literal_expr: extends
expression -> grouping_expr: extends
expression -> variable_expr: extends

statement -> if_stmt: extends
statement -> while_stmt: extends
statement -> block_stmt: extends
statement -> expression_stmt: extends
statement -> variable_decl: extends