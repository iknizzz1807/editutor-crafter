title: Runtime Module Registry State Machine

style: {
  stroke: "#3fb950"
  fill: "#1a1a2e"
  font-color: "#e6edf3"
}

states: {
  UNLOADED: {
    shape: circle
    style: {
      fill: "#0f3460"
    }
  }
  LOADING: {
    shape: oval
    style: {
      fill: "#0f3460"
    }
  }
  LOADED: {
    shape: circle
    style: {
      fill: "#0f3460"
    }
  }
}

start_node: "" {
  shape: circle
  style.fill: "#3fb950"
  width: 20
  height: 20
}
start_node -> UNLOADED
UNLOADED -> LOADING: "require(id)\nif not cached"
LOADING -> LOADING: "recursive require calls\nwait for current load"
LOADING -> LOADED: "factory executes\nexports resolved"
LOADED -> LOADED: "require(id)\nreturns cached exports"
