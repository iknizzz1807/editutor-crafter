title: Module Resolution Sequence
description: |md
  Resolution of a bare specifier like 'lodash' following Node.js module resolution algorithm.
  The Resolver interacts with the file system to locate the correct module file.
|
shape: sequence_diagram

# Actors (participants in the sequence)
resolver: Resolver
filesystem: FileSystem

# Sequence of interactions
resolver -> filesystem: check node_modules for 'lodash' (starting from current directory)
filesystem -> resolver: not found
resolver: move to parent directory
resolver -> filesystem: check node_modules for 'lodash'
filesystem -> resolver: found at /project/node_modules/lodash
resolver -> filesystem: read /project/node_modules/lodash/package.json
filesystem -> resolver: package.json content
resolver: evaluate "exports" field in package.json
resolver -> filesystem: check for file based on exports resolution (e.g., "./index.js")
filesystem -> resolver: file exists at /project/node_modules/lodash/index.js
resolver: module resolved successfully