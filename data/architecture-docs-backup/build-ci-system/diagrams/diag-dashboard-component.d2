title: Web Dashboard Component Breakdown
direction: right

# Containers
frontend: Frontend (User Interface) {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  html_ui: HTML/JS Dashboard {
    shape: rectangle
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

backend: Backend API Server {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  rest_api: REST API {
    shape: rectangle
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  realtime_server: Realtime Log Server {
    shape: rectangle
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

# Database
main_db: Main System Database {
  shape: cylinder
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  label: "Main System Database\n(Stores pipeline run history,\nconfigurations, job statuses)"
}

# Connections
frontend.html_ui -> backend.rest_api: "1. HTTP/REST API\n• Fetch run history\n• Trigger pipelines\n• Get job status"
frontend.html_ui <-> backend.realtime_server: "2. WebSocket/SSE Connection\n• Real-time log streaming\n• Live status updates\n• Build progress events"

backend.rest_api -> main_db: "3. Database Queries\n• Read/write run history\n• Update job status\n• Fetch pipeline configs"
backend.realtime_server -> backend.rest_api: "4. Internal API Calls\n• Get run metadata\n• Validate permissions\n• Fetch initial logs"

# Styling classes for consistency
classes: {
  container: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  component: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  connection: {
    style.stroke: "#8b949e"
    style.font-size: 11
  }
}

# Apply classes
frontend.class: container
backend.class: container
html_ui.class: component
rest_api.class: component
realtime_server.class: component

# Connection styling
"frontend.html_ui -> backend.rest_api".class: connection
"frontend.html_ui <-> backend.realtime_server".class: connection
"backend.rest_api -> main_db".class: connection
"backend.realtime_server -> backend.rest_api".class: connection