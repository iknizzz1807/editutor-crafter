direction: right

Zone: {
  shape: class
  +name: string
  +ttl: int
  +records: "Map<string, List<ResourceRecord>>"
  +findRecords(): "List<ResourceRecord>"
  +addRecord(): void
  +isAuthoritative(): boolean
  
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

ResourceRecord: {
  shape: class
  +name: string
  +type: RecordType
  +recordClass: RecordClass
  +ttl: int
  +rdlength: int
  +rdata: "bytes[]"
  +serialize(): "bytes[]"
  +isExpired(): boolean
  
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

ARecord: {
  shape: class
  +ipv4Address: string
  +getAddress(): IPv4Address
  
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

AAAARecord: {
  shape: class
  +ipv6Address: string
  +getAddress(): IPv6Address
  
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

CNAMERecord: {
  shape: class
  +canonicalName: string
  +getTarget(): string
  
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

MXRecord: {
  shape: class
  +priority: int
  +mailServer: string
  +getPriority(): int
  +getMailServer(): string
  
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

NSRecord: {
  shape: class
  +nameServer: string
  +getNameServer(): string
  
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

SOARecord: {
  shape: class
  +primaryNS: string
  +adminEmail: string
  +serial: int
  +refresh: int
  +retry: int
  +expire: int
  +minimum: int
  +isZoneApex(): boolean
  
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

TXTRecord: {
  shape: class
  +textData: string
  +getText(): string
  
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

RecordIndex: {
  shape: class
  +domainIndex: "Map<string, List<ResourceRecord>>"
  +typeIndex: "Map<RecordType, List<ResourceRecord>>"
  +queryByDomainAndType(): "List<ResourceRecord>"
  +addToIndex(): void
  +removeFromIndex(): void
  
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

Zone -> ResourceRecord: "contains *"
Zone -> RecordIndex: "uses"

ResourceRecord -> ARecord: "extends" { target-arrowhead.shape: triangle }
ResourceRecord -> AAAARecord: "extends" { target-arrowhead.shape: triangle }
ResourceRecord -> CNAMERecord: "extends" { target-arrowhead.shape: triangle }
ResourceRecord -> MXRecord: "extends" { target-arrowhead.shape: triangle }
ResourceRecord -> NSRecord: "extends" { target-arrowhead.shape: triangle }
ResourceRecord -> SOARecord: "extends" { target-arrowhead.shape: triangle }
ResourceRecord -> TXTRecord: "extends" { target-arrowhead.shape: triangle }

RecordIndex -> ResourceRecord: "indexes *"

queryNote: {
  near: top-center
  label: Efficient querying by domain name and type
  shape: page
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
