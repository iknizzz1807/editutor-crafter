shape: sequence_diagram

CPU: CPU Core {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

PPU: Picture Processing Unit {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

Memory: Memory Manager {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

Timer: System Timer {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

Timer -> CPU: Frame start signal {
  style.stroke: "#8b949e"
}

CPU -> Memory: Fetch instruction {
  style.stroke: "#8b949e"
}

Memory -> CPU: Return opcode {
  style.stroke: "#8b949e"
}

CPU -> CPU: Decode & execute {
  style.stroke: "#8b949e"
}

CPU -> Memory: Read/write data {
  style.stroke: "#8b949e"
}

Memory -> CPU: Data response {
  style.stroke: "#8b949e"
}

Timer -> PPU: PPU cycle tick {
  style.stroke: "#8b949e"
}

PPU -> Memory: Read VRAM/OAM {
  style.stroke: "#8b949e"
}

Memory -> PPU: Graphics data {
  style.stroke: "#8b949e"
}

PPU -> PPU: Render scanline {
  style.stroke: "#8b949e"
}

PPU -> CPU: VBlank interrupt {
  style.stroke: "#3fb950"
  style.bold: true
}

CPU -> PPU: Acknowledge IRQ {
  style.stroke: "#8b949e"
}

Timer -> Timer: Check frame complete {
  style.stroke: "#8b949e"
}

Timer -> CPU: Sync timing {
  style.stroke: "#8b949e"
}

PPU -> Timer: Frame rendered {
  style.stroke: "#8b949e"
}