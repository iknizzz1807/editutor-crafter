direction: down

start: Start {
  shape: circle
  style.fill: "#3fb950"
  style.font-color: "#000000"
}

init: Initialize sets A and B with commit1 and commit2 {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

check_intersection: Sets A âˆ© B empty? {
  shape: diamond
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

expand_a: Add parents of commits in A to set A {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

expand_b: Add parents of commits in B to set B {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

check_parents_a: A has unexplored parents? {
  shape: diamond
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

check_parents_b: B has unexplored parents? {
  shape: diamond
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

find_lca: Find commit with latest timestamp in intersection {
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

no_merge_base: Return null - no merge base exists {
  style.fill: "#d63031"
  style.stroke: "#e17055"
  style.font-color: "#ffffff"
  style.bold: true
}

return_lca: Return lowest common ancestor {
  shape: circle
  style.fill: "#3fb950"
  style.font-color: "#000000"
}

start -> init
init -> check_intersection
check_intersection -> find_lca: No
check_intersection -> check_parents_a: Yes
check_parents_a -> expand_a: Yes
check_parents_a -> check_parents_b: No
expand_a -> check_intersection
check_parents_b -> expand_b: Yes
check_parents_b -> no_merge_base: No
expand_b -> check_intersection
find_lca -> return_lca
no_merge_base -> return_lca