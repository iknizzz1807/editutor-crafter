title: High-Level System Component Diagram

direction: right

# Main containers
lexical_phase: Lexical Analysis {
  scanner: Scanner {
    style.bold: true
    style.fill: "#0f3460"
  }
}

syntax_phase: Syntax Analysis {
  parser: Parser {
    style.bold: true
    style.fill: "#0f3460"
  }
}

execution_phase: Execution {
  interpreter: Interpreter {
    style.bold: true
    style.fill: "#0f3460"
  }
}

# Data components
source_code: Source Code {
  shape: page
  style.fill: "#1a1a2e"
}

tokens: Tokens {
  shape: cylinder
  style.fill: "#1a1a2e"
}

ast: Abstract Syntax Tree (AST) {
  shape: hexagon
  style.fill: "#1a1a2e"
}

output: Output {
  shape: page
  style.fill: "#1a1a2e"
}

# Persistent state
environment: Environment {
  shape: cylinder
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.stroke-width: 3
}

# Data flow arrows
source_code -> scanner: "character stream"
scanner -> tokens: "token stream"
tokens -> parser: "token stream"
parser -> ast: "syntax tree"
ast -> interpreter: "walk tree"
interpreter -> output: "evaluated result"

# Environment connection
interpreter <-> environment: "read/write state"

# Styling
* {
  style.font-color: "#e6edf3"
  style.stroke: "#8b949e"
  style.stroke-width: 2
}

lexical_phase, syntax_phase, execution_phase {
  style.fill: "transparent"
  style.stroke-dash: 3
  style.stroke: "#8b949e"
  label: ""
}

source_code, tokens, ast, output {
  style.font-size: 14
}