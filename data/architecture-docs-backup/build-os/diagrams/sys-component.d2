title: System Component Diagram
description: Shows the major software components of the OS (Bootloader, Kernel Core, Drivers, Managers) and their rough dependency/communication relationships. Include arrows for calls/interrupts.

Bootloader: {
  shape: cylinder
  BIOS/UEFI: {
    shape: cloud
    style.fill: "#0f3460"
  }
  GRUB: Bootloader
  
  BIOS/UEFI -> GRUB: "boots"
  GRUB -> Kernel Core: "loads & transfers control"
}

Kernel Core: {
  shape: package
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.bold: true
  
  Init: Initialization {
    style.bold: false
  }
  ISR: Interrupt Service Routines
  Syscall: System Call Handler
  
  Init -> ISR: "sets up"
  Init -> Syscall: "configures"
  ISR <-> Syscall: "shared handlers"
}

Managers: {
  shape: rectangle
  label: "Kernel Managers"
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  
  PM: Process Manager {
    shape: class
    style.bold: false
  }
  MM: Memory Manager {
    shape: class
    style.bold: false
  }
  FS: File System Manager {
    shape: class
    style.bold: false
  }
  Sched: Scheduler {
    shape: class
    style.bold: false
  }
  
  PM -> Sched: "provides processes"
  PM -> MM: "requests memory"
  Sched -> PM: "switches processes"
}

Drivers: {
  shape: rectangle
  label: "Hardware Drivers"
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  
  Disk: Storage Driver
  Video: Display Driver
  Input: Keyboard/Mouse Driver
  Timer: Timer Driver
  Network: Network Driver
  
  Disk -> FS: "block I/O"
  Timer -> Sched: "interrupts for scheduling"
}

Kernel Core.Init -> Managers: "initializes all managers"
Kernel Core.ISR -> Drivers: "handles hardware interrupts"
Kernel Core.Syscall -> Managers: "handles system calls"

Drivers -> Kernel Core.ISR: "raise interrupts"
Managers -> Kernel Core.Syscall: "service requests"

Hardware: {
  shape: rectangle
  label: "Physical Hardware"
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  
  CPU: Processor
  RAM: Memory
  Storage: Disk
  Display: Monitor
  Peripherals: I/O Devices
}

Drivers -> Hardware: "control hardware"
Hardware -> Drivers: "generate interrupts" {
  style.stroke-dash: 3
}

User Space: {
  shape: rectangle
  label: "User Applications"
  style.fill: "#1a1a2e"
  style.stroke: "#8b949e"
  
  App1: Process 1
  App2: Process 2
  App3: Process 3
  
  App1 -> Kernel Core.Syscall: "system call"
  App2 -> Kernel Core.Syscall: "system call"
  App3 -> Kernel Core.Syscall: "system call"
}

Managers.PM -> User Space: "manages processes"
Managers.MM -> User Space: "allocates memory"
Kernel Core.Syscall -> User Space: "returns results"