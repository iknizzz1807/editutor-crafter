title: System Architecture Overview {
  near: top-center
}

camera: Camera {
  shape: circle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

geometry_system: Geometry System {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  sphere: Sphere
  plane: Plane
  triangle: Triangle
  
  sphere.style.fill: "#1a1a2e"
  plane.style.fill: "#1a1a2e"
  triangle.style.fill: "#1a1a2e"
  sphere.style.font-color: "#e6edf3"
  plane.style.font-color: "#e6edf3"
  triangle.style.font-color: "#e6edf3"
}

material_system: Material System {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  lambertian: Diffuse
  metal: Metal
  glass: Dielectric
  
  lambertian.style.fill: "#1a1a2e"
  metal.style.fill: "#1a1a2e"
  glass.style.fill: "#1a1a2e"
  lambertian.style.font-color: "#e6edf3"
  metal.style.font-color: "#e6edf3"
  glass.style.font-color: "#e6edf3"
}

rendering_pipeline: Rendering Pipeline {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  ray_gen: Ray Generation
  intersection: Ray-Object Intersection
  shading: Material Shading
  sampling: Light Sampling
  
  ray_gen.style.fill: "#1a1a2e"
  intersection.style.fill: "#1a1a2e"
  shading.style.fill: "#1a1a2e"
  sampling.style.fill: "#1a1a2e"
  ray_gen.style.font-color: "#e6edf3"
  intersection.style.font-color: "#e6edf3"
  shading.style.font-color: "#e6edf3"
  sampling.style.font-color: "#e6edf3"
  
  ray_gen -> intersection: Primary Rays
  intersection -> shading: Hit Records
  shading -> sampling: Surface Properties
  sampling -> ray_gen: Secondary Rays
}

image_output: Image Output {
  shape: page
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

camera -> rendering_pipeline.ray_gen: Eye Rays {
  style.stroke: "#8b949e"
}

rendering_pipeline.intersection -> geometry_system: Intersection Tests {
  style.stroke: "#8b949e"
}

geometry_system -> rendering_pipeline.intersection: Hit Data {
  style.stroke: "#8b949e"
}

rendering_pipeline.shading -> material_system: Material Queries {
  style.stroke: "#8b949e"
}

material_system -> rendering_pipeline.shading: Scattering Data {
  style.stroke: "#8b949e"
}

rendering_pipeline.sampling -> image_output: Final Pixels {
  style.stroke: "#8b949e"
}