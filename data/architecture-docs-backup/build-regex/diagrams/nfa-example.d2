title: Example NFA State Machine - Pattern 'a(b|c)*'

# States
s0: Start {
  shape: circle
  style.fill: "#3fb950"
  style.font-color: "#000000"
}

s1: After 'a' {
  shape: circle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

s2: Choice {
  shape: circle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

s3: b-path {
  shape: circle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

s4: c-path {
  shape: circle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

s5: Loop back {
  shape: circle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

s6: Accept {
  shape: circle
  style.fill: "#d63031"
  style.stroke: "#3fb950"
  style.stroke-width: 3
  style.font-color: "#ffffff"
  style.bold: true
}

# Character transitions
s0 -> s1: a {
  style.stroke: "#e6edf3"
  style.font-color: "#e6edf3"
}

s2 -> s3: b {
  style.stroke: "#e6edf3"
  style.font-color: "#e6edf3"
}

s2 -> s4: c {
  style.stroke: "#e6edf3"
  style.font-color: "#e6edf3"
}

# Epsilon transitions (ε)
s1 -> s2: ε {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
  style.font-color: "#8b949e"
}

s1 -> s6: ε {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
  style.font-color: "#8b949e"
}

s3 -> s5: ε {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
  style.font-color: "#8b949e"
}

s4 -> s5: ε {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
  style.font-color: "#8b949e"
}

s5 -> s2: ε {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
  style.font-color: "#8b949e"
}

s5 -> s6: ε {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
  style.font-color: "#8b949e"
}

# Legend
legend: Legend {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  
  solid_line: Character transition {
    style.fill: "#1a1a2e"
    style.font-color: "#e6edf3"
  }
  
  dashed_line: Epsilon transition (ε) {
    style.fill: "#1a1a2e"
    style.font-color: "#8b949e"
  }
  
  start_state: Start state (green) {
    style.fill: "#1a1a2e"
    style.font-color: "#e6edf3"
  }
  
  accept_state: Accept state (red) {
    style.fill: "#1a1a2e"
    style.font-color: "#e6edf3"
  }
}