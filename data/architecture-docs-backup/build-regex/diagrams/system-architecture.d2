regex_engine_system: Regex Engine System Architecture {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"

  input: Regex Pattern {
    shape: page
    style.fill: "#16213e"
    style.stroke: "#3fb950"
  }

  lexer: Lexer {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }

  tokens: Token Stream {
    shape: queue
    style.fill: "#16213e"
    style.stroke: "#3fb950"
  }

  parser: Parser {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }

  ast: Abstract Syntax Tree {
    shape: diamond
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.bold: true
  }

  nfa_constructor: NFA Constructor {
    thompson: Thompson's Construction {
      style.fill: "#0f3460"
      style.stroke: "#8b949e"
    }
    style.fill: "#16213e"
    style.stroke: "#3fb950"
  }

  nfa: Non-deterministic Finite Automaton {
    shape: circle
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.bold: true
  }

  dfa_converter: DFA Converter {
    subset: Subset Construction {
      style.fill: "#0f3460"
      style.stroke: "#8b949e"
    }
    style.fill: "#16213e"
    style.stroke: "#3fb950"
  }

  dfa: Deterministic Finite Automaton {
    shape: circle
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.bold: true
  }

  execution_engine: Execution Engine {
    matcher: Pattern Matcher {
      style.fill: "#0f3460"
      style.stroke: "#8b949e"
    }
    style.fill: "#16213e"
    style.stroke: "#3fb950"
  }

  text_input: Input Text {
    shape: page
    style.fill: "#16213e"
    style.stroke: "#3fb950"
  }

  result: Match Result {
    shape: hexagon
    style.fill: "#d63031"
    style.stroke: "#3fb950"
    style.font-color: "#ffffff"
    style.bold: true
  }

  input -> lexer: tokenize
  lexer -> tokens: produces
  tokens -> parser: parse
  parser -> ast: builds
  ast -> nfa_constructor: transforms
  nfa_constructor -> nfa: creates
  nfa -> dfa_converter: converts
  dfa_converter -> dfa: optimizes
  dfa -> execution_engine: compiles
  text_input -> execution_engine: match against
  execution_engine -> result: produces
}