{
  "types": {
    "ShellState": "fields: job_table JobTable, foreground_pgid pid_t, terminal_fd int, last_exit_status int, interactive int",
    "JobTable": "fields: jobs Job**, capacity int, count int, next_job_id int",
    "Job": "fields: id int, pgid pid_t, command_string char*, state JobState, command_list Command*",
    "Command": "fields: argv char**, argc int, input_redir Redirection*, output_redir Redirection*, next Command*",
    "Redirection": "fields: type RedirType, filename char*, fd int, next Redirection*",
    "ParseResult": "fields: ast Command*, error_message char*, success bool",
    "AliasTable": "fields: entries AliasEntry**, size int, capacity int",
    "AliasEntry": "fields: name char*, value char*",
    "Node": "fields: type NodeType, union { Command* command; struct { Node* condition; Node* then_branch; Node* else_branch; } if_stmt; struct { Node* condition; Node* body; } while_loop; }"
  },
  "methods": {
    "shell_state_init(ShellState*) void": "initializes shell global state",
    "parse_command_line(char*, ShellState*) ParseResult": "Tokenizes and parses input line into AST",
    "execute_ast(Command*, ShellState*) int": "Executes command AST, returns exit status",
    "job_control_check_completed_jobs(ShellState*) void": "Checks and reports finished background jobs",
    "builtin_test(int, char**, ShellState*) int": "built-in command for internal shell diagnostics",
    "run_repl_loop(ShellState*) int": "Main REPL loop function",
    "free_command_ast(Command*) void": "Frees all memory associated with a command AST",
    "setup_redirections(Command*) int": "sets up I/O redirections for a command",
    "job_table_init(JobTable*) void": "initializes job table",
    "job_table_add(JobTable*, pid_t, const char*, Command*, JobState) void": "adds a job to the job table",
    "job_table_find_by_id(JobTable*, int) Job*": "finds job by job ID",
    "job_table_remove_at(JobTable*, int) void": "removes job from table by index",
    "free_single_command(Command*) void": "helper to free a single command node",
    "parse_command_line(char* input_line, ShellState* state) ParseResult": "Main parsing entry point. Tokenizes input and constructs an AST.",
    "execute_builtin(int, char**, ShellState*) int": "Dispatches to built-in command handler",
    "execute_external(Command*, ShellState*, int, int, int, int, pid_t) pid_t": "Forks and executes external command with given file descriptors",
    "execute_pipeline(Command*, ShellState*, int) int": "Executes a pipeline of commands",
    "job_table_init(JobTable* table) void": "initializes empty job table",
    "job_table_add(JobTable* table, pid_t pgid, const char* command_string, Command* command_list, JobState initial_state) void": "adds new job to table",
    "job_table_find_by_id(JobTable* table, int job_id) Job*": "finds job by sequential ID",
    "job_table_find_by_pgid(JobTable* table, pid_t pgid) Job*": "finds job by process group ID",
    "job_table_update_state(JobTable* table, pid_t pgid, JobState new_state) bool": "updates job state from SIGCHLD handler",
    "job_control_check_completed_jobs(ShellState* state) void": "checks and reports finished background jobs",
    "builtin_jobs(int argc, char** argv, ShellState* state) int": "implements jobs built-in command",
    "builtin_fg(int argc, char** argv, ShellState* state) int": "implements fg built-in command",
    "builtin_bg(int argc, char** argv, ShellState* state) int": "implements bg built-in command",
    "execute_ast(Command*, ShellState*, int) int": "Executes command AST, returns exit status; third param is background flag",
    "job_table_find_by_pgid(JobTable*, pid_t) Job*": "finds job by process group ID",
    "job_table_update_state(JobTable*, pid_t, JobState) bool": "updates job state from SIGCHLD handler",
    "setup_signal_handlers(void) void": "installs signal handlers for SIGCHLD, SIGINT, SIGTSTP",
    "waitpid": "system call that waits for a child process to change state",
    "builtin_jobs(int, char**, ShellState*) int": "implements jobs built-in command",
    "builtin_fg(int, char**, ShellState*) int": "implements fg built-in command",
    "builtin_bg(int, char**, ShellState*) int": "implements bg built-in command",
    "expand_prompt(const char*, ShellState*) char*": "expands PS1 format string with variables",
    "expand_aliases(const char*, AliasTable*) char*": "performs alias substitution on input line",
    "terminal_set_raw_mode() void": "sets terminal to non-canonical mode for key reading",
    "terminal_restore() void": "restores original terminal settings",
    "read_key() int": "reads a single keypress, decoding escape sequences",
    "execute_node(Node*, ShellState*) int": "recursively evaluates extended AST nodes",
    "builtin_history(int, char**, ShellState*) int": "prints command history",
    "builtin_alias(int, char**, ShellState*) int": "manages alias definitions",
    "builtin_pushd(int, char**, ShellState*) int": "pushes directory onto stack and changes",
    "builtin_popd(int, char**, ShellState*) int": "pops directory from stack and changes",
    "builtin_dirs(int, char**, ShellState*) int": "prints directory stack",
    "glob_expand(char*) char**": "expands wildcard pattern to list of files",
    "get_completions(const char*, CompletionContext) char**": "returns array of completion strings for given prefix",
    "run_remote_session(int sockfd) void": "handles a single remote shell connection"
  },
  "constants": {
    "MAX_JOBS": "100",
    "MAX_LINE_LEN": "Maximum input line length (4096)",
    "STDIN_FILENO": "0",
    "STDOUT_FILENO": "1",
    "STDERR_FILENO": "2",
    "REDIR_INPUT": "Input redirection type (<)",
    "REDIR_OUTPUT": "Output redirection type (>)",
    "REDIR_APPEND": "Append redirection type (>>)",
    "REDIR_ERROR": "Error redirection type (2>)",
    "JOB_RUNNING": "job is running in foreground or background",
    "JOB_STOPPED": "job is suspended (stopped)",
    "JOB_DONE": "job has completed",
    "WNOHANG": "waitpid flag for non-blocking check",
    "WUNTRACED": "waitpid flag to report stopped children",
    "KEY_UP": "1000",
    "KEY_DOWN": "1001",
    "KEY_RIGHT": "1002",
    "KEY_LEFT": "1003",
    "MAX_HISTORY": "1000",
    "MAX_ALIAS_DEPTH": "10",
    "NODE_COMMAND": "enum value for command node",
    "NODE_IF": "enum value for if statement node",
    "NODE_WHILE": "enum value for while loop node",
    "JOB_DISOWNED": "new job state for disowned jobs"
  },
  "terms": {
    "AST": "Abstract Syntax Tree - linked list of Command nodes representing parsed command structure",
    "REPL": "Read-Eval-Print Loop - the main interactive loop of the shell",
    "process group": "collection of processes (like a pipeline) that receive signals as a unit",
    "file descriptor": "integer handle representing an open I/O resource (file, pipe, socket)",
    "PATH": "environment variable listing directories where the shell searches for executable programs",
    "SIGCHLD": "signal sent to parent when child terminates or stops",
    "SIGINT": "interrupt signal typically generated by Ctrl+C",
    "SIGTSTP": "terminal stop signal (Ctrl+Z)",
    "exit status": "integer value returned by a process to indicate success or failure",
    "foreground job": "job that has control of the terminal and receives terminal-generated signals",
    "background job": "job that runs without control of the terminal",
    "RedirType": "enumeration of redirection types: REDIR_INPUT, REDIR_OUTPUT, REDIR_APPEND, REDIR_ERROR",
    "JobState": "enumeration of job states: JOB_RUNNING, JOB_STOPPED, JOB_DONE",
    "argv": "array of argument strings passed to execvp(), NULL-terminated",
    "pselect": "POSIX system call to wait for I/O with atomically modified signal mask",
    "sig_atomic_t": "Integer type that can be accessed as an atomic entity even in the presence of asynchronous interrupts",
    "token": "Smallest meaningful unit from the input: a word, operator, or quoted string.",
    "recursive descent": "A top-down parsing technique where each grammar rule is implemented as a function that may call other rules recursively.",
    "dup2": "system call that duplicates a file descriptor to a specific number",
    "pipe": "system call that creates a unidirectional communication channel between processes",
    "execvp": "system call that replaces the current process image with a new program, searching PATH",
    "waitpid": "system call that waits for a child process to change state",
    "copy-on-write": "optimization where memory pages are shared between parent and child until one modifies them",
    "zombie process": "process that has terminated but whose exit status hasn't been reaped by its parent",
    "orphaned process group": "process group where parent is in different session, receives SIGHUP on SIGCONT",
    "PGID": "process group ID",
    "tcsetpgrp": "sets terminal foreground process group",
    "WNOHANG": "waitpid flag for non-blocking check",
    "WUNTRACED": "waitpid flag to report stopped children",
    "self-pipe trick": "A technique to convert signals into I/O events by having a signal handler write to a pipe that the main loop monitors",
    "volatile sig_atomic_t": "Integer type that can be accessed as an atomic entity even in the presence of asynchronous interrupts",
    "sigprocmask": "system call to block/unblock delivery of signals",
    "raw mode": "terminal mode where input is read character-by-character without line editing",
    "alias substitution": "replacement of a command word with a defined string before parsing",
    "globbing": "filename expansion using wildcards (*, ?, [])",
    "process substitution": "shell feature that allows command output to be used as a file",
    "coprocess": "background process with two-way pipe connection to shell",
    "tab completion": "interactive feature that suggests completions for partially typed input",
    "control flow": "programming constructs that alter order of execution (if, loops)",
    "remote shell": "shell that accepts connections over network, providing remote command execution"
  }
}