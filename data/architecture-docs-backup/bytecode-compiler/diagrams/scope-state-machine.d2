title: State Machine: Scope Management
direction: right

classes: {
  state_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  final_state: {
    style.stroke-width: 3
    style.double-border: true
  }
}

init: {shape: circle; style.fill: "#3fb950"; label: ""}

Global: {
  class: state_style
  label: "Global Scope"
}

InFunction: {
  class: state_style
  label: "InFunction\nFunction Scope"
}

InBlock: {
  class: state_style
  label: "InBlock\nBlock Scope"
}

init -> Global
Global -> InFunction: "enter function"
InFunction -> Global: "exit function"

Global -> InBlock: "enter block"
InBlock -> Global: "exit block"

InFunction -> InBlock: "enter block"
InBlock -> InFunction: "exit block"

InBlock -> InBlock: "enter nested block"

Global -> Global: "declare variable"
InFunction -> InFunction: "declare parameter\nor local variable"
InBlock -> InBlock: "declare block-local\nvariable"