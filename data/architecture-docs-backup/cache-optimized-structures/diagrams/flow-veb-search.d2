start: Start at root index {
  class: start_node
}

check_leaf: At leaf? {
  class: decision_node
  shape: diamond
}

leaf_check: Check key in leaf {
  class: action_node
}

end: End {
  class: end_node
}

calc_left_size: Calculate size of left subtree {
  class: action_node
}

compare_split: key < split value? {
  class: decision_node
  shape: diamond
}

search_left: Recursively search left subtree (with new root index) {
  class: action_node
}

search_right: Recursively search right subtree (with new root index) {
  class: action_node
}

start -> check_leaf
check_leaf -> leaf_check: Yes
leaf_check -> end
check_leaf -> calc_left_size: No
calc_left_size -> compare_split
compare_split -> search_left: Yes
compare_split -> search_right: No
search_left -> check_leaf: Continue search
search_right -> check_leaf: Continue search

classes: {
  start_node: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  end_node: {
    style.fill: "#16213e"
    style.stroke: "#ff7b72"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  decision_node: {
    style.fill: "#0f3460"
    style.stroke: "#ffa657"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  action_node: {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  flowchart_edge: {
    style.stroke: "#8b949e"
    style.animated: true
  }
}