title: Example Abstract Syntax Tree (AST)

classes: {
  ast_node_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  number_style: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  binary_op_style: {
    style.fill: "#16213e"
    style.stroke: "#ff7b72"
    style.font-color: "#e6edf3"
  }
  unary_op_style: {
    style.fill: "#16213e"
    style.stroke: "#a5d6ff"
    style.font-color: "#e6edf3"
  }
  expression_style: {
    style.stroke: "#8b949e"
    style.stroke-dash: 3
  }
}

"class_hierarchy": "AST Class Hierarchy" {
  ast_node: ASTNode {
    shape: class
    class: ast_node_style
    - "type: string (abstract)"
    + "evaluate(env: Environment): float"
  }

  number: Number {
    shape: class
    class: number_style
    - "value: float"
    + "evaluate(env: Environment): float"
  }

  binary_op: BinaryOp {
    shape: class
    class: binary_op_style
    - "operator: string"
    - "left: ASTNode"
    - "right: ASTNode"
    + "evaluate(env: Environment): float"
  }

  unary_op: UnaryOp {
    shape: class
    class: unary_op_style
    - "operator: string"
    - "operand: ASTNode"
    + "evaluate(env: Environment): float"
  }

  variable: Variable {
    shape: class
    class: ast_node_style
    - "name: string"
    + "evaluate(env: Environment): float"
  }

  function_call: FunctionCall {
    shape: class
    class: ast_node_style
    - "name: string"
    - "arguments: List of ASTNode"
    + "evaluate(env: Environment): float"
  }

  ast_node -> number: inherits
  ast_node -> binary_op: inherits
  ast_node -> unary_op: inherits
  ast_node -> variable: inherits
  ast_node -> function_call: inherits
}

"concrete_tree": "Concrete AST for: 2 + 3 * (4 - 1)" {
  class: expression_style

  plus_op: "+" {
    shape: rectangle
    class: binary_op_style
  }

  number_2: "2" {
    shape: rectangle
    class: number_style
  }

  multiply_op: "*" {
    shape: rectangle
    class: binary_op_style
  }

  number_3: "3" {
    shape: rectangle
    class: number_style
  }

  minus_op: "-" {
    shape: rectangle
    class: binary_op_style
  }

  number_4: "4" {
    shape: rectangle
    class: number_style
  }

  number_1: "1" {
    shape: rectangle
    class: number_style
  }

  plus_op -> number_2: left
  plus_op -> multiply_op: right
  multiply_op -> number_3: left
  multiply_op -> minus_op: right
  minus_op -> number_4: left
  minus_op -> number_1: right
}

legend: {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"

  ast_base: "ASTNode Base Class" {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
  }

  number_ex: "Number Node" {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
  }

  binary_ex: "BinaryOp Node" {
    style.fill: "#16213e"
    style.stroke: "#ff7b72"
  }

  unary_ex: "UnaryOp Node" {
    style.fill: "#16213e"
    style.stroke: "#a5d6ff"
  }
}