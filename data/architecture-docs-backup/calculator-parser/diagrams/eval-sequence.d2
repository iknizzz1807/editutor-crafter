shape: sequence_diagram

title: Evaluation Sequence Diagram {
  style.font-size: 24
  style.bold: true
}
description: |md
  A sequence diagram showing the interaction between the Evaluator and AST nodes
  during evaluation of a binary operation like addition, including recursive calls
  to evaluate child nodes.
| {
  style.font-size: 14
  style.italic: true
}

# Actors/participants
evaluator: Evaluator {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
binary_op: BinaryOpNode {
  style.fill: "#1a1a2e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}
left_child: NumberNode {
  style.fill: "#1a1a2e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}
right_child: NumberNode {
  style.fill: "#1a1a2e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

# Sequence of messages
evaluator -> binary_op: evaluate()
binary_op -> left_child: evaluate()
left_child -> evaluator: 2.0
binary_op -> right_child: evaluate()
right_child -> evaluator: 3.0
binary_op -> evaluator: 5.0