title: Type Inference Process | {
  near: top-center
  style.font-size: 18
  style.bold: true
  style.font-color: "#e6edf3"
}

start: Start {
  shape: circle
  style.fill: "#3fb950"
  style.font-color: "#1a1a2e"
  style.bold: true
}

constraint_gen: Constraint Generation {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

constraint_set: Constraint Set {
  shape: page
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

unification: Unification Algorithm {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

occurs_check: Occurs Check {
  shape: diamond
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

substitution: Apply Substitution {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

more_constraints: More Constraints? {
  shape: diamond
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

type_error: Type Error {
  shape: rectangle
  style.fill: "#d63031"
  style.stroke: "#e17055"
  style.font-color: "#ffffff"
  style.bold: true
}

success: Type Inference Complete {
  shape: circle
  style.fill: "#3fb950"
  style.font-color: "#1a1a2e"
  style.bold: true
}

start -> constraint_gen
constraint_gen -> constraint_set: generates
constraint_set -> unification: solve constraints
unification -> occurs_check: check each constraint
occurs_check -> type_error: infinite type {
  style.stroke: "#d63031"
  style.font-color: "#d63031"
}
occurs_check -> substitution: valid {
  style.stroke: "#3fb950"
  style.font-color: "#3fb950"
}
substitution -> more_constraints
more_constraints -> unification: yes {
  style.stroke: "#8b949e"
}
more_constraints -> success: no {
  style.stroke: "#3fb950"
  style.font-color: "#3fb950"
}