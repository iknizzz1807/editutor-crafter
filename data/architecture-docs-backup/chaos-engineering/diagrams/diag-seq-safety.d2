shape: sequence_diagram

title: Sequence Diagram: Safety-Triggered Auto-Rollback

SafetyMonitor: Safety Monitor {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}
ExperimentController: Experiment Controller {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
FaultInjector: Fault Injector {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

SafetyMonitor -> ExperimentController: Abort (error rate > 5%)
ExperimentController -> FaultInjector: Cleanup
ExperimentController -> ExperimentController: State -> Aborted {
  style.stroke: "#3fb950"
  style.bold: true
}