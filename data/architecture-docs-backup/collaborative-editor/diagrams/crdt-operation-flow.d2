shape: sequence_diagram

user: User
client: Client CRDT
server: Server
client2: Client 2
client3: Client 3

user -> client: types "Hello" at position 5
client -> client: generate operation\n{id: uuid, type: "insert", pos: 5, content: "Hello", timestamp: vector_clock}
client -> user: display "Hello" immediately
client -> server: send operation
server -> server: apply operation to\nserver document state
server -> client2: broadcast operation
server -> client3: broadcast operation
client2 -> client2: receive & apply operation\nusing CRDT merge rules
client2 -> client2: update local document\nand UI display
client3 -> client3: receive & apply operation\nusing CRDT merge rules
client3 -> client3: update local document\nand UI display
server -> client: acknowledge operation\nprocessed successfully

user.style.fill: "#3fb950"
user.style.font-color: "#000000"
client.style.fill: "#1a1a2e"
client.style.font-color: "#e6edf3"
server.style.fill: "#16213e"
server.style.font-color: "#e6edf3"
client2.style.fill: "#1a1a2e"
client2.style.font-color: "#e6edf3"
client3.style.fill: "#1a1a2e"
client3.style.font-color: "#e6edf3"