shape: sequence_diagram

tokenizer: Tokenizer {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

parser: TOML Parser {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

tokenizer -> parser: "TOKEN_IDENTIFIER(\"server\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_DOT(\".\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_IDENTIFIER(\"database\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_DOT(\".\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_IDENTIFIER(\"host\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_ASSIGN(\"=\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_STRING(\"localhost\")"
parser -> parser: "create_nested_table(\"server.database\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_DOUBLE_BRACKET_OPEN(\"[[\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_IDENTIFIER(\"environments\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_DOUBLE_BRACKET_CLOSE(\"]]\")"
parser -> parser: "create_array_table(\"environments\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_IDENTIFIER(\"name\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_ASSIGN(\"=\")"
parser -> tokenizer: next_token()
tokenizer -> parser: "TOKEN_STRING(\"production\")"
parser -> parser: "add_to_current_table(\"name\", \"production\")"