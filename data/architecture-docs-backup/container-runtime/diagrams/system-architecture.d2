title: Container Runtime System Architecture {
  near: top-center
  style.font-size: 20
  style.bold: true
  style.font-color: "#e6edf3"
}

classes: {
  container_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.stroke-width: 2
  }
  
  component_style: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  
  kernel_style: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
    style.stroke-dash: 3
  }
  
  connection_style: {
    style.stroke: "#8b949e"
    style.stroke-width: 2
  }
}

runtime_system: Container Runtime System {
  class: container_style
  
  runtime_manager: Runtime Manager {
    class: component_style
  }
  
  namespace_handler: Namespace Handler {
    class: component_style
  }
  
  cgroup_controller: Cgroup Controller {
    class: component_style
  }
  
  filesystem_manager: Filesystem Manager {
    class: component_style
  }
  
  network_manager: Network Manager {
    class: component_style
  }
  
  runtime_manager -> namespace_handler: manages {
    class: connection_style
  }
  
  runtime_manager -> cgroup_controller: controls {
    class: connection_style
  }
  
  runtime_manager -> filesystem_manager: coordinates {
    class: connection_style
  }
  
  runtime_manager -> network_manager: orchestrates {
    class: connection_style
  }
  
  namespace_handler <-> cgroup_controller: synchronizes {
    class: connection_style
  }
  
  filesystem_manager -> namespace_handler: mount isolation {
    class: connection_style
  }
}

linux_kernel: Linux Kernel Features {
  class: kernel_style
  
  namespaces: Namespaces {
    class: kernel_style
  }
  
  cgroups: Control Groups {
    class: kernel_style
  }
  
  overlayfs: OverlayFS {
    class: kernel_style
  }
  
  netns: Network Namespaces {
    class: kernel_style
  }
  
  syscalls: System Calls {
    class: kernel_style
  }
}

runtime_system.namespace_handler -> linux_kernel.namespaces: uses {
  style.stroke: "#e17055"
  style.stroke-width: 2
}

runtime_system.cgroup_controller -> linux_kernel.cgroups: manages {
  style.stroke: "#e17055"
  style.stroke-width: 2
}

runtime_system.filesystem_manager -> linux_kernel.overlayfs: leverages {
  style.stroke: "#e17055"
  style.stroke-width: 2
}

runtime_system.network_manager -> linux_kernel.netns: configures {
  style.stroke: "#e17055"
  style.stroke-width: 2
}

runtime_system.runtime_manager -> linux_kernel.syscalls: executes {
  style.stroke: "#e17055"
  style.stroke-width: 2
}

container_process: Container Process {
  shape: circle
  class: component_style
}

host_resources: Host Resources {
  shape: cylinder
  class: kernel_style
}

runtime_system -> container_process: spawns & isolates {
  style.stroke: "#3fb950"
  style.stroke-width: 3
}

linux_kernel -> host_resources: manages {
  class: connection_style
}