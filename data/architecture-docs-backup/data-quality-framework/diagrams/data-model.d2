classes: {
  expectation_class: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  result_class: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  profile_class: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  contract_class: {
    style.fill: "#2d1b69"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

title: Core Data Model Relationships {
  near: top-center
  style.font-color: "#e6edf3"
  style.bold: true
}

expectations: Expectation Hierarchy {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  base_expectation: BaseExpectation {
    shape: class
    class: expectation_class
    "- expectation_type: string"
    "- meta: Dict[string, Any]"
    "- notes: Optional[string]"
    "+ validate(dataset: Dataset): ValidationResult"
    "+ serialize(): Dict"
  }
  
  column_expectation: ColumnExpectation {
    shape: class
    class: expectation_class
    "- column: string"
    "- domain: ColumnDomain"
    "+ get_domain_keys(): List[string]"
  }
  
  table_expectation: TableExpectation {
    shape: class
    class: expectation_class
    "- row_condition: Optional[string]"
    "- condition_parser: Optional[string]"
    "+ get_table_metadata(): TableMetadata"
  }
  
  multicolumn_expectation: MultiColumnExpectation {
    shape: class
    class: expectation_class
    "- column_list: List[string]"
    "- ignore_row_if: Optional[string]"
    "+ get_column_dependencies(): List[string]"
  }
}

validation: Validation Results {
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
  
  validation_result: ValidationResult {
    shape: class
    class: result_class
    "- success: bool"
    "- result: Dict[string, Any]"
    "- exception_info: Optional[Dict]"
    "- meta: Dict[string, Any]"
    "+ to_json_dict(): Dict"
  }
  
  expectation_suite_result: ExpectationSuiteValidationResult {
    shape: class
    class: result_class
    "- results: List[ExpectationValidationResult]"
    "- success: bool"
    "- statistics: Dict[string, int]"
    "- meta: Dict[string, Any]"
    "+ get_statistics(): ValidationStatistics"
  }
  
  checkpoint_result: CheckpointResult {
    shape: class
    class: result_class
    "- run_id: RunIdentifier"
    "- run_results: Dict[string, Dict]"
    "- checkpoint_config: CheckpointConfig"
    "+ list_validation_results(): List[ValidationResult]"
  }
}

profiling: Data Profiling {
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  data_profile: DataProfile {
    shape: class
    class: profile_class
    "- dataset_name: string"
    "- profiled_at: datetime"
    "- row_count: int"
    "- column_count: int"
    "- columns: Dict[string, ColumnProfile]"
    "+ get_summary(): ProfileSummary"
  }
  
  column_profile: ColumnProfile {
    shape: class
    class: profile_class
    "- column_name: string"
    "- data_type: string"
    "- null_count: int"
    "- unique_count: int"
    "- statistics: Dict[string, Any]"
    "+ suggest_expectations(): List[BaseExpectation]"
  }
  
  expectation_suite: ExpectationSuite {
    shape: class
    class: profile_class
    "- expectation_suite_name: string"
    "- expectations: List[BaseExpectation]"
    "- meta: Dict[string, Any]"
    "- data_asset_type: string"
    "+ add_expectation(expectation: BaseExpectation): void"
    "+ run_validation(dataset: Dataset): ExpectationSuiteValidationResult"
  }
}

contracts: Data Contracts {
  style.fill: "#2d1b69"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  data_contract: DataContract {
    shape: class
    class: contract_class
    "- contract_name: string"
    "- version: string"
    "- schema: DatasetSchema"
    "- expectation_suites: List[ExpectationSuite]"
    "- metadata: ContractMetadata"
    "+ validate_dataset(dataset: Dataset): ContractValidationResult"
  }
  
  dataset_schema: DatasetSchema {
    shape: class
    class: contract_class
    "- columns: Dict[string, ColumnSchema]"
    "- constraints: List[TableConstraint]"
    "- partitions: Optional[List[string]]"
    "+ validate_structure(dataset: Dataset): SchemaValidationResult"
  }
  
  contract_metadata: ContractMetadata {
    shape: class
    class: contract_class
    "- owner: string"
    "- description: string"
    "- tags: List[string]"
    "- created_at: datetime"
    "- sla_config: SLAConfig"
    "+ get_lineage(): DataLineage"
  }
}

expectations.base_expectation -> expectations.column_expectation: inherits
expectations.base_expectation -> expectations.table_expectation: inherits
expectations.base_expectation -> expectations.multicolumn_expectation: inherits

profiling.expectation_suite -> expectations.base_expectation: contains {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

profiling.column_profile -> expectations.base_expectation: suggests {
  style.stroke: "#3fb950"
}

profiling.data_profile -> profiling.column_profile: contains {
  style.stroke: "#8b949e"
}

expectations.base_expectation -> validation.validation_result: produces {
  style.stroke: "#ffa502"
}

profiling.expectation_suite -> validation.expectation_suite_result: produces {
  style.stroke: "#ffa502"
}

contracts.data_contract -> profiling.expectation_suite: includes {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

contracts.data_contract -> contracts.dataset_schema: defines {
  style.stroke: "#3fb950"
}

contracts.data_contract -> contracts.contract_metadata: has {
  style.stroke: "#8b949e"
}