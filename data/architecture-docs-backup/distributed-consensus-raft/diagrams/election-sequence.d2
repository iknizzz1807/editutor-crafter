shape: sequence_diagram

classes: {
  leader: {
    style.fill: "#d63031"
    style.font-color: "#ffffff"
    style.stroke: "#e17055"
    style.bold: true
  }
  candidate: {
    style.fill: "#fdcb6e"
    style.font-color: "#2d3436"
    style.stroke: "#e84393"
    style.bold: true
  }
  follower: {
    style.fill: "#74b9ff"
    style.font-color: "#2d3436"
    style.stroke: "#0984e3"
  }
}

node_a: Node A {
  class: follower
}
node_b: Node B {
  class: candidate
}
node_c: Node C {
  class: follower
}
node_d: Node D {
  class: follower
}
node_e: Node E {
  class: follower
}

node_b -> node_a: "RequestVote(term=2, candidateId=B)"
node_b -> node_c: "RequestVote(term=2, candidateId=B)"
node_b -> node_d: "RequestVote(term=2, candidateId=B)"
node_b -> node_e: "RequestVote(term=2, candidateId=B)"

node_a -> node_b: "VoteGranted(term=2, voteGranted=true)"
node_c -> node_b: "VoteGranted(term=2, voteGranted=true)"
node_d -> node_b: "VoteGranted(term=2, voteGranted=true)"
node_e -> node_b: "VoteGranted(term=2, voteGranted=false)"

node_b -> node_a: "AppendEntries(term=2, leaderId=B) [Heartbeat]"
node_b -> node_c: "AppendEntries(term=2, leaderId=B) [Heartbeat]"
node_b -> node_d: "AppendEntries(term=2, leaderId=B) [Heartbeat]"
node_b -> node_e: "AppendEntries(term=2, leaderId=B) [Heartbeat]"

node_a -> node_b: "AppendEntriesResponse(term=2, success=true)"
node_c -> node_b: "AppendEntriesResponse(term=2, success=true)"
node_d -> node_b: "AppendEntriesResponse(term=2, success=true)"
node_e -> node_b: "AppendEntriesResponse(term=2, success=true)"