shape: sequence_diagram

client: Client Service
auth: Authentication Service
inventory: Inventory Service
payment: Payment Service

client -> auth: "HTTP Request\n[traceparent: 00-trace123-span456-01]"
auth -> auth: "Extract trace context\nfrom HTTP headers"
auth -> inventory: "HTTP Request\n[traceparent: 00-trace123-span789-01]"
inventory -> inventory: "Extract & create\nchild span context"
inventory -> payment: "gRPC Call\n[grpc-trace-bin: trace123:span012]"
payment -> payment: "Extract from\ngRPC metadata"
payment -> inventory: "gRPC Response\n[grpc-trace-bin: trace123:span012]"
inventory -> auth: "HTTP Response\n[traceparent: 00-trace123-span789-01]"
auth -> client: "HTTP Response\n[traceparent: 00-trace123-span456-01]"

client.style.fill: "#1a1a2e"
client.style.stroke: "#3fb950"
client.style.font-color: "#e6edf3"

auth.style.fill: "#1a1a2e"
auth.style.stroke: "#3fb950"
auth.style.font-color: "#e6edf3"

inventory.style.fill: "#1a1a2e"
inventory.style.stroke: "#3fb950"
inventory.style.font-color: "#e6edf3"

payment.style.fill: "#1a1a2e"
payment.style.stroke: "#3fb950"
payment.style.font-color: "#e6edf3"