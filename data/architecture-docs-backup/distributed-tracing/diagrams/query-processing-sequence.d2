shape: sequence_diagram

user: User
api: Query API
parser: Query Parser  
optimizer: Query Optimizer
storage: Storage Backend
assembler: Result Assembler

user -> api: search request
api -> parser: parse query
parser -> api: parsed AST
api -> optimizer: optimize query
optimizer -> storage: execute query plan
storage -> optimizer: raw trace data
optimizer -> assembler: filtered results
assembler -> assembler: build timeline
assembler -> assembler: extract dependencies
assembler -> api: structured response
api -> user: search results

classes: {
  dark_theme: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

user.class: dark_theme
api.class: dark_theme
parser.class: dark_theme
optimizer.class: dark_theme
storage.class: dark_theme
assembler.class: dark_theme