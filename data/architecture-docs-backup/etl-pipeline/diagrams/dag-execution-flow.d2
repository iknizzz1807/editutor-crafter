shape: sequence_diagram

scheduler: Scheduler
engine: DAG Engine
executor: Task Executor
monitor: Monitoring

scheduler -> engine: trigger_pipeline(dag_id)
engine -> engine: validate_dag()
engine -> scheduler: pipeline_accepted
scheduler -> monitor: log_pipeline_start(dag_id)

engine -> engine: resolve_dependencies()
engine -> executor: submit_task(task_1)
executor -> engine: task_started(task_1)
engine -> monitor: log_task_start(task_1)

executor -> executor: execute_task_1()
executor -> engine: task_completed(task_1)
engine -> monitor: log_task_success(task_1)

engine -> engine: check_dependencies(task_2)
engine -> executor: submit_task(task_2)
executor -> engine: task_started(task_2)
engine -> monitor: log_task_start(task_2)

executor -> executor: execute_task_2()
executor -> engine: task_failed(task_2)
engine -> monitor: log_task_failure(task_2)
engine -> scheduler: task_retry_scheduled(task_2)

scheduler -> engine: retry_task(task_2)
engine -> executor: submit_task(task_2)
executor -> engine: task_started(task_2)
executor -> executor: execute_task_2()
executor -> engine: task_completed(task_2)
engine -> monitor: log_task_success(task_2)

engine -> engine: check_pipeline_completion()
engine -> scheduler: pipeline_completed(dag_id)
scheduler -> monitor: log_pipeline_success(dag_id)

scheduler.style.fill: "#1a1a2e"
scheduler.style.font-color: "#e6edf3"
scheduler.style.stroke: "#3fb950"

engine.style.fill: "#1a1a2e"
engine.style.font-color: "#e6edf3"
engine.style.stroke: "#3fb950"
engine.style.bold: true

executor.style.fill: "#1a1a2e"
executor.style.font-color: "#e6edf3"
executor.style.stroke: "#3fb950"

monitor.style.fill: "#16213e"
monitor.style.font-color: "#e6edf3"
monitor.style.stroke: "#8b949e"