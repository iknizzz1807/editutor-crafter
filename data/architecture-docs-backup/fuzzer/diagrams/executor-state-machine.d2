title: Target Executor State Machine

classes: {
  state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  final_state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
    style.double-border: true
  }
  initial_state: {
    style.fill: "#3fb950"
    style.stroke: "#3fb950"
    style.font-color: "#1a1a2e"
    style.bold: true
  }
  transition: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

init: {
  shape: circle
  label: ""
  class: initial_state
}

idle: Idle {
  shape: circle
  class: state
}

running: Running {
  shape: circle
  class: state
}

crashed: Crashed {
  shape: circle
  class: final_state
}

timeout: Timeout {
  shape: circle
  class: final_state
}

complete: Complete {
  shape: circle
  class: final_state
}

init -> idle: initialize {
  class: transition
}

idle -> running: execute_target() {
  class: transition
}

running -> crashed: segfault / memory_violation\nlog_crash() {
  class: transition
}

running -> timeout: execution_time > limit\nkill_process() {
  class: transition
}

running -> complete: normal_exit\ncollect_coverage() {
  class: transition
}

crashed -> idle: reset_executor() {
  class: transition
}

timeout -> idle: reset_executor() {
  class: transition
}

complete -> idle: reset_executor() {
  class: transition
}