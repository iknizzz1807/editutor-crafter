shape: sequence_diagram

client: Client
server: GraphQL Server
parser: Query Parser
validator: Query Validator
planner: Execution Planner
resolver: Field Resolver
dataloader: DataLoader
database: Database

client -> server: GraphQL Query
server -> parser: Parse query string
parser -> server: AST (Abstract Syntax Tree)
server -> validator: Validate query
validator -> server: Validation result
server -> planner: Create execution plan
planner -> server: Execution plan with field tree
server -> resolver: Execute root fields
resolver -> dataloader: Request user data
dataloader -> database: Batch SELECT users WHERE id IN (1,2,3)
database -> dataloader: User records
dataloader -> resolver: Resolved user data
resolver -> resolver: Execute nested post fields
resolver -> dataloader: Request posts for users
dataloader -> database: Batch SELECT posts WHERE user_id IN (1,2,3)
database -> dataloader: Post records
dataloader -> resolver: Resolved post data
resolver -> server: Complete field resolution
server -> client: JSON response

client.style.fill: "#1a1a2e"
client.style.stroke: "#3fb950"
client.style.font-color: "#e6edf3"

server.style.fill: "#1a1a2e"
server.style.stroke: "#3fb950"
server.style.font-color: "#e6edf3"
server.style.bold: true

parser.style.fill: "#16213e"
parser.style.stroke: "#8b949e"
parser.style.font-color: "#e6edf3"

validator.style.fill: "#16213e"
validator.style.stroke: "#8b949e"
validator.style.font-color: "#e6edf3"

planner.style.fill: "#16213e"
planner.style.stroke: "#8b949e"
planner.style.font-color: "#e6edf3"

resolver.style.fill: "#0f3460"
resolver.style.stroke: "#3fb950"
resolver.style.font-color: "#e6edf3"
resolver.style.bold: true

dataloader.style.fill: "#0f3460"
dataloader.style.stroke: "#3fb950"
dataloader.style.font-color: "#e6edf3"
dataloader.style.bold: true

database.style.fill: "#1a1a2e"
database.style.stroke: "#8b949e"
database.style.font-color: "#e6edf3"