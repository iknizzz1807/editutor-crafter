shape: sequence_diagram

client: Client
server: GraphQL Server
validator: Schema Validator
resolver: Resolver Engine
dataloader: DataLoader
database: Database
formatter: Response Formatter

client -> server: HTTP/WebSocket Request
server -> validator: Parse & Validate Query
validator -> server: Validated AST
server -> resolver: Execute Query
resolver -> dataloader: Load User Data
dataloader -> dataloader: Batch Requests
dataloader -> database: Batched Database Query
database -> dataloader: Raw Data Results
dataloader -> resolver: Resolved User Objects
resolver -> dataloader: Load Post Data
dataloader -> database: Batched Post Query
database -> dataloader: Post Results
dataloader -> resolver: Resolved Post Objects
resolver -> server: Execution Result
server -> formatter: Format Response
formatter -> server: Formatted JSON
server -> client: HTTP/WebSocket Response

classes: {
  dark_theme: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  important: {
    style.stroke: "#3fb950"
    style.bold: true
    style.font-color: "#e6edf3"
  }
}

client.class: dark_theme
server.class: important
validator.class: dark_theme
resolver.class: important
dataloader.class: important
database.class: dark_theme
formatter.class: dark_theme