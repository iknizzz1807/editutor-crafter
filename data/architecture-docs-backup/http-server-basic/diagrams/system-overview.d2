title: HTTP Server System Overview

# External entities
clients: Client Browsers {
  shape: cloud
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

filesystem: File System {
  shape: cylinder
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# Main HTTP Server container
http_server: HTTP Server System {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true

  # Core components
  tcp_server: TCP Server {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }

  http_parser: HTTP Parser {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }

  file_handler: File Handler {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }

  concurrency_mgr: Concurrency Manager {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }

  # Internal connections
  tcp_server -> http_parser: raw request data
  http_parser -> file_handler: parsed HTTP request
  file_handler -> http_parser: HTTP response
  http_parser -> tcp_server: formatted response
  concurrency_mgr -> tcp_server: manage connections
  concurrency_mgr -> file_handler: coordinate file access
}

# External connections
clients -> http_server.tcp_server: HTTP requests {
  style.stroke: "#8b949e"
}

http_server.tcp_server -> clients: HTTP responses {
  style.stroke: "#8b949e"
}

http_server.file_handler -> filesystem: read static files {
  style.stroke: "#8b949e"
}

filesystem -> http_server.file_handler: file content {
  style.stroke: "#8b949e"
}