title: Data Model Relationships
description: Shows key classes: Resource, StateRecord, PlanAction, DependencyGraphNode. Illustrate relationships: Resource has attributes; StateRecord is a snapshot of a Resource; PlanAction proposes a change to a Resource; DependencyGraphNode links Resources.



classes: {
  style: {
    fill: "#1a1a2e"
    stroke: "#3fb950"
    font-color: "#e6edf3"
    stroke-width: 2
  }
}

Resource: {
  shape: class
  attributes: |md
    + id: string
    + type: string
    + config: Map[string, any]
    + dependencies: string[]
  |
}

StateRecord: {
  shape: class
  attributes: |md
    + resource_id: string
    + state: Map[string, any]
    + timestamp: datetime
    + version: integer
  |
}

PlanAction: {
  shape: class
  attributes: |md
    + action: enum(CREATE, UPDATE, DELETE)
    + resource_id: string
    + config: Map[string, any]
    + reason: string
  |
}

DependencyGraphNode: {
  shape: class
  attributes: |md
    + resource_id: string
    + dependencies: string[]
    + dependents: string[]
  |
}

# Relationships
Resource -> StateRecord: "snapshot of" {
  style: {
    stroke: "#8b949e"
    stroke-dash: 3
  }
}

Resource -> PlanAction: "proposed change for" {
  style: {
    stroke: "#8b949e"
  }
}

Resource -> DependencyGraphNode: "represented by" {
  style: {
    stroke: "#8b949e"
  }
}

DependencyGraphNode -> DependencyGraphNode: "depends on" {
  target-arrowhead: {
    shape: diamond
  }
  style: {
    stroke: "#e6edf3"
    stroke-width: 1
  }
}