classes: {
  primary_entity: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.stroke-width: 2
    style.bold: true
  }
  secondary_entity: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  relationship: {
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

title: Test Configuration Data Model {
  near: top-center
  style.font-size: 18
  style.font-color: "#e6edf3"
  style.bold: true
}

TestSuite: {
  shape: class
  class: primary_entity
  - "id: string"
  - "name: string"
  - "description: string"
  - "tags: string[]"
  - "timeout: Duration"
  - "parallel: boolean"
  + "addTestCase(testCase: TestCase): void"
  + "execute(): TestResult[]"
  + "validate(): ValidationResult"
}

TestCase: {
  shape: class
  class: primary_entity
  - "id: string"
  - "name: string"
  - "description: string"
  - "enabled: boolean"
  - "timeout: Duration"
  - "retries: number"
  - "dependencies: string[]"
  + "setup(): void"
  + "execute(): TestResult"
  + "teardown(): void"
}

ServiceDefinition: {
  shape: class
  class: secondary_entity
  - "name: string"
  - "version: string"
  - "image: string"
  - "ports: Port[]"
  - "environment: Map<string, string>"
  - "healthCheck: HealthCheck"
  - "dependencies: string[]"
  + "validate(): boolean"
  + "getConnectionInfo(): ConnectionInfo"
}

ContainerConfig: {
  shape: class
  class: secondary_entity
  - "containerId: string"
  - "image: string"
  - "ports: PortMapping[]"
  - "volumes: VolumeMount[]"
  - "networks: string[]"
  - "resources: ResourceLimits"
  - "labels: Map<string, string>"
  + "start(): void"
  + "stop(): void"
  + "getStatus(): ContainerStatus"
}

TestResult: {
  shape: class
  class: primary_entity
  - "id: string"
  - "testCaseId: string"
  - "status: TestStatus"
  - "startTime: DateTime"
  - "endTime: DateTime"
  - "duration: Duration"
  - "errorMessage: string"
  - "logs: string[]"
  - "metrics: Map<string, number>"
  + "isSuccess(): boolean"
  + "getFailureReason(): string"
  + "exportReport(): Report"
}

TestSuite -> TestCase: contains {
  class: relationship
}

TestCase -> ServiceDefinition: requires {
  class: relationship
}

ServiceDefinition -> ContainerConfig: configures {
  class: relationship
}

TestCase -> TestResult: produces {
  class: relationship
}

TestSuite -> TestResult: aggregates {
  class: relationship
}

ServiceDefinition -> ServiceDefinition: depends on {
  class: relationship
  style.stroke-dash: 5
}