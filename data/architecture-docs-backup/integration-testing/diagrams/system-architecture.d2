classes: {
  orchestrator: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  manager: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  external: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
    style.stroke-dash: 3
  }
  connection: {
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  dependency: {
    style.stroke: "#8b949e"
    style.stroke-dash: 5
    style.font-color: "#8b949e"
  }
}

title: Integration Testing Suite Architecture {
  style.font-size: 24
  style.font-color: "#e6edf3"
  style.bold: true
  near: top-center
}

core_components: Core Components {
  class: orchestrator
  
  test_orchestrator: Test Orchestrator {
    class: orchestrator
    shape: rectangle
  }
  
  container_manager: Container Manager {
    class: manager
    shape: rectangle
  }
  
  mock_server: Mock Server {
    class: manager
    shape: rectangle
  }
  
  database_manager: Database Manager {
    class: manager
    shape: cylinder
  }
  
  test_orchestrator -> container_manager: manages lifecycle {
    class: connection
  }
  test_orchestrator -> mock_server: configures mocks {
    class: connection
  }
  test_orchestrator -> database_manager: coordinates data {
    class: connection
  }
  
  container_manager <-> mock_server: service discovery {
    class: connection
  }
  container_manager <-> database_manager: network coordination {
    class: connection
  }
}

external_deps: External Dependencies {
  class: external
  
  docker_daemon: Docker Daemon {
    class: external
    shape: cloud
  }
  
  test_app_1: Test Application A {
    class: external
    shape: package
  }
  
  test_app_2: Test Application B {
    class: external
    shape: package
  }
  
  ci_pipeline: CI/CD Pipeline {
    class: external
    shape: parallelogram
  }
}

test_artifacts: Test Artifacts {
  class: manager
  
  test_configs: Test Configurations {
    class: manager
    shape: page
  }
  
  test_data: Test Data Sets {
    class: manager
    shape: page
  }
  
  test_results: Test Results {
    class: manager
    shape: page
  }
}

core_components.container_manager -> external_deps.docker_daemon: container ops {
  class: dependency
}

core_components.test_orchestrator -> external_deps.test_app_1: executes tests {
  class: connection
}

core_components.test_orchestrator -> external_deps.test_app_2: executes tests {
  class: connection
}

external_deps.ci_pipeline -> core_components.test_orchestrator: triggers test runs {
  class: dependency
}

core_components.test_orchestrator -> test_artifacts.test_configs: reads config {
  class: connection
}

core_components.database_manager -> test_artifacts.test_data: loads fixtures {
  class: connection
}

core_components.test_orchestrator -> test_artifacts.test_results: generates reports {
  class: connection
}