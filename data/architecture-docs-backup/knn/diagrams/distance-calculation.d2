title: Distance Calculation Process

classes: {
  start_end: {
    style.fill: "#3fb950"
    style.font-color: "#0f3460"
    style.bold: true
    style.stroke: "#0f3460"
  }
  decision: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  process: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  computation: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
}

start: Start {
  shape: circle
  class: start_end
}

input_data: Input Data Points\n(Feature Vectors) {
  class: process
}

select_metric: Select Distance Metric? {
  shape: diamond
  class: decision
}

euclidean: Euclidean Distance\n(L2 Norm) {
  class: computation
}

manhattan: Manhattan Distance\n(L1 Norm) {
  class: computation
}

cosine: Cosine Similarity {
  class: computation
}

validate_input: Validate Input\nDimensions {
  class: process
}

vectorized_ops: Vectorized Operations {
  class: computation
  style.double-border: true
}

compute_differences: Compute\nPairwise Differences {
  class: process
}

apply_norm: Apply Distance\nFormula {
  class: process
}

distance_matrix: Build Distance\nMatrix {
  class: computation
  style.double-border: true
}

output: Distance Results {
  shape: circle
  class: start_end
}

start -> input_data
input_data -> select_metric

select_metric -> euclidean: L2
select_metric -> manhattan: L1
select_metric -> cosine: Similarity

euclidean -> validate_input
manhattan -> validate_input
cosine -> validate_input

validate_input -> vectorized_ops

vectorized_ops -> compute_differences: Broadcasting
compute_differences -> apply_norm
apply_norm -> distance_matrix

distance_matrix -> output

efficiency_note: |md
  **Vectorized Operations:**
  - NumPy broadcasting for efficiency
  - Batch computation of all pairs
  - Memory-optimized matrix operations
| {
  shape: page
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  near: top-center
}

metrics_note: |md
  **Distance Metrics:**
  - Euclidean: √(Σ(xi - yi)²)
  - Manhattan: Σ|xi - yi|
  - Cosine: 1 - (A·B)/(||A||·||B||)
| {
  shape: page
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  near: bottom-center
}