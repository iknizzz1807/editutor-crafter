shape: sequence_diagram

Node1: "Node 1" {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

Node3: "Node 3" {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

Node5: "Node 5" {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

Node7: "Node 7" {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

Node9: "Node 9" {
  style.fill: "#2d2d2d"
  style.stroke: "#666"
  style.font-color: "#888"
}

Node3 -> Node3: "Initiate election\nCreate token [3]"
Node3 -> Node5: "Election token [3]"
Node5 -> Node5: "Add ID to token\nToken: [3,5]"
Node5 -> Node7: "Election token [3,5]"
Node7 -> Node7: "Add ID to token\nToken: [3,5,7]"
Node7 -> Node9: "Election token [3,5,7]"
Node7 -> Node1: "Token forwarded\n(Node 9 unreachable)"
Node1 -> Node1: "Add ID to token\nToken: [3,5,7,1]"
Node1 -> Node3: "Election token [3,5,7,1]"
Node3 -> Node3: "Token returned\nSelect highest ID: 7"
Node3 -> Node5: "Leader announcement\nNode 7 is leader"
Node3 -> Node7: "Leader announcement\nNode 7 is leader"
Node3 -> Node1: "Leader announcement\nNode 7 is leader"