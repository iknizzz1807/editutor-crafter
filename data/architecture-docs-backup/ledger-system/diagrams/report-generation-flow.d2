title: Financial Report Generation Process

classes: {
  data_store: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  process: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  decision: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  report: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
}

ledger_data: Ledger Data {
  shape: cylinder
  class: data_store
}

extract_process: Extract Account\nBalances {
  shape: rectangle
  class: process
}

filter_decision: Filter by\nAccount Type? {
  shape: diamond
  class: decision
}

asset_filter: Filter Assets\n& Liabilities {
  shape: rectangle
  class: process
}

revenue_filter: Filter Revenue\n& Expenses {
  shape: rectangle
  class: process
}

equity_filter: Filter Equity\nAccounts {
  shape: rectangle
  class: process
}

trial_balance_gen: Generate Trial\nBalance Report {
  shape: rectangle
  class: process
}

balance_sheet_gen: Generate Balance\nSheet Report {
  shape: rectangle
  class: process
}

income_statement_gen: Generate Income\nStatement Report {
  shape: rectangle
  class: process
}

validation: Validate Debits =\nCredits {
  shape: diamond
  class: decision
}

trial_balance: Trial Balance\nReport {
  shape: page
  class: report
}

balance_sheet: Balance Sheet\nReport {
  shape: page
  class: report
}

income_statement: Income Statement\nReport {
  shape: page
  class: report
}

error_handling: Report Generation\nError {
  shape: rectangle
  style.fill: "#d63031"
  style.stroke: "#e17055"
  style.font-color: "#ffffff"
}

ledger_data -> extract_process: Read transactions
extract_process -> filter_decision: Account balances
filter_decision -> asset_filter: Assets/Liabilities
filter_decision -> revenue_filter: Revenue/Expenses
filter_decision -> equity_filter: Equity
filter_decision -> trial_balance_gen: All accounts

asset_filter -> balance_sheet_gen: Filtered data
revenue_filter -> income_statement_gen: Filtered data
equity_filter -> balance_sheet_gen: Filtered data

trial_balance_gen -> validation: Check totals
validation -> trial_balance: Balanced
validation -> error_handling: Unbalanced

balance_sheet_gen -> balance_sheet: Financial position
income_statement_gen -> income_statement: Financial performance