shape: sequence_diagram

config_manager: Config Manager
validator: Validator
pool_manager: Backend Pool Manager
health_checker: Health Checker
algorithm_engine: Algorithm Engine
load_balancer: Load Balancer

config_manager -> validator: validate_new_config()
validator -> config_manager: validation_result
config_manager -> pool_manager: prepare_backend_update()
pool_manager -> health_checker: check_new_backends()
health_checker -> pool_manager: health_status
pool_manager -> pool_manager: create_new_pool()
config_manager -> algorithm_engine: switch_algorithm()
algorithm_engine -> algorithm_engine: initialize_new_state()
config_manager -> load_balancer: apply_hot_reload()
load_balancer -> pool_manager: get_active_pool()
pool_manager -> load_balancer: new_backend_pool
load_balancer -> algorithm_engine: get_next_backend()
algorithm_engine -> load_balancer: selected_backend
config_manager -> pool_manager: cleanup_old_pool()
pool_manager -> health_checker: stop_old_health_checks()
config_manager -> config_manager: reload_complete()