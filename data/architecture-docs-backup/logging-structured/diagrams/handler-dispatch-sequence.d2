shape: sequence_diagram

Logger: Logger
StdoutHandler: Stdout Handler
FileHandler: File Handler
RemoteHandler: Remote Handler
ErrorRecovery: Error Recovery

Logger -> StdoutHandler: dispatch(record)
StdoutHandler -> Logger: success

Logger -> FileHandler: dispatch(record)
FileHandler -> Logger: success

Logger -> RemoteHandler: dispatch(record)
RemoteHandler -> Logger: failure

Logger -> ErrorRecovery: handle_failure(remote_handler, record)
ErrorRecovery -> FileHandler: fallback_dispatch(record)
FileHandler -> ErrorRecovery: success
ErrorRecovery -> Logger: recovery_complete

Logger -> StdoutHandler: dispatch(urgent_record)
StdoutHandler -> Logger: failure

Logger -> ErrorRecovery: handle_failure(stdout_handler, urgent_record)
ErrorRecovery -> FileHandler: fallback_dispatch(urgent_record)
FileHandler -> ErrorRecovery: success
ErrorRecovery -> Logger: recovery_complete

Logger -> FileHandler: dispatch(final_record)
FileHandler -> Logger: failure

Logger -> ErrorRecovery: handle_failure(file_handler, final_record)
ErrorRecovery -> Logger: all_handlers_failed

classes: {
  actor_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  error_style: {
    style.fill: "#16213e"
    style.stroke: "#d63031"
    style.font-color: "#e6edf3"
  }
}

Logger: {
  class: actor_style
}
StdoutHandler: {
  class: actor_style
}
FileHandler: {
  class: actor_style
}
RemoteHandler: {
  class: actor_style
}
ErrorRecovery: {
  class: error_style
}