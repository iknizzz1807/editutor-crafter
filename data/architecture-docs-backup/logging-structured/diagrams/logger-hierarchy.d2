Logger Hierarchy Structure

classes: {
  root_logger: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  child_logger: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  leaf_logger: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  config_flow: {
    style.stroke: "#e17055"
    style.stroke-dash: 3
  }
  context_flow: {
    style.stroke: "#74b9ff"
  }
  log_flow: {
    style.stroke: "#fdcb6e"
  }
}

root: Root Logger {
  class: root_logger
  label: |md
    **Root Logger**
    
    Level: INFO
    Handlers: Console, File
    Context: app=myapp
  |
}

app: Application Logger {
  class: child_logger
  label: |md
    **app.myservice**
    
    Inherits: Root config
    Context: service=api
  |
}

db: Database Logger {
  class: child_logger
  label: |md
    **app.database**
    
    Inherits: Root config
    Level: DEBUG (override)
    Context: component=db
  |
}

auth: Auth Logger {
  class: child_logger
  label: |md
    **app.auth**
    
    Inherits: Root config
    Context: component=auth
  |
}

conn: Connection Logger {
  class: leaf_logger
  label: |md
    **app.database.connection**
    
    Inherits: Database config
    Context: pool=primary
  |
}

query: Query Logger {
  class: leaf_logger
  label: |md
    **app.database.query**
    
    Inherits: Database config
    Context: type=sql
  |
}

session: Session Logger {
  class: leaf_logger
  label: |md
    **app.auth.session**
    
    Inherits: Auth config
    Context: store=redis
  |
}

token: Token Logger {
  class: leaf_logger
  label: |md
    **app.auth.token**
    
    Inherits: Auth config
    Context: type=jwt
  |
}

config_note: |md
  ## Configuration Inheritance
  
  - **Log Levels**: Child inherits parent level unless overridden
  - **Handlers**: Inherited from parent (additive)
  - **Formatters**: Shared across hierarchy
| {
  shape: page
  style.fill: "#2d3748"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  near: top-right
}

context_note: |md
  ## Context Flow
  
  **Accumulated Context:**
  - Root: app=myapp
  - Database: app=myapp, component=db
  - Connection: app=myapp, component=db, pool=primary
| {
  shape: page
  style.fill: "#2d3748"
  style.stroke: "#74b9ff"
  style.font-color: "#e6edf3"
  near: bottom-right
}

root -> app: {class: config_flow}
root -> db: {class: config_flow}
root -> auth: {class: config_flow}

db -> conn: {class: config_flow}
db -> query: {class: config_flow}

auth -> session: {class: config_flow}
auth -> token: {class: config_flow}

root -> app: {class: context_flow}
root -> db: {class: context_flow}
root -> auth: {class: context_flow}

db -> conn: {class: context_flow}
db -> query: {class: context_flow}

auth -> session: {class: context_flow}
auth -> token: {class: context_flow}

conn -> root: {
  class: log_flow
  label: "Log Records"
  style.animated: true
}

query -> root: {
  class: log_flow
  label: "Log Records"
  style.animated: true
}

session -> root: {
  class: log_flow
  label: "Log Records"
  style.animated: true
}

token -> root: {
  class: log_flow
  label: "Log Records"
  style.animated: true
}