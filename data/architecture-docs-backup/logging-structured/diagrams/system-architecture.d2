title: System Architecture Overview

# Main components
Application: Application Code {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

LoggingCore: Logging Core {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  Logger: Logger {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  
  LogRecord: LogRecord {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  ContextManager: ContextManager {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

Handlers: Handlers {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  ConsoleHandler: Console Handler {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  FileHandler: File Handler {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  RemoteHandler: Remote Handler {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

Formatters: Formatters {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  JSONFormatter: JSON Formatter {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  TextFormatter: Text Formatter {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

Outputs: Output Destinations {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  Console: Console {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  LogFile: Log Files {
    shape: cylinder
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  LogAggregator: Log Aggregator {
    shape: cloud
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

# Data flow connections
Application -> LoggingCore.Logger: log calls {
  style.stroke: "#8b949e"
}

LoggingCore.Logger -> LoggingCore.LogRecord: creates {
  style.stroke: "#8b949e"
}

LoggingCore.ContextManager -> LoggingCore.LogRecord: enriches {
  style.stroke: "#8b949e"
}

LoggingCore.Logger -> Handlers.ConsoleHandler: dispatches {
  style.stroke: "#8b949e"
}

LoggingCore.Logger -> Handlers.FileHandler: dispatches {
  style.stroke: "#8b949e"
}

LoggingCore.Logger -> Handlers.RemoteHandler: dispatches {
  style.stroke: "#8b949e"
}

Handlers.ConsoleHandler -> Formatters.TextFormatter: formats {
  style.stroke: "#8b949e"
}

Handlers.FileHandler -> Formatters.JSONFormatter: formats {
  style.stroke: "#8b949e"
}

Handlers.RemoteHandler -> Formatters.JSONFormatter: formats {
  style.stroke: "#8b949e"
}

Formatters.TextFormatter -> Outputs.Console: outputs {
  style.stroke: "#3fb950"
}

Formatters.JSONFormatter -> Outputs.LogFile: outputs {
  style.stroke: "#3fb950"
}

Formatters.JSONFormatter -> Outputs.LogAggregator: outputs {
  style.stroke: "#3fb950"
}