classes: {
  metric_type: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  core_class: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  data_class: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

MetricType: {
  shape: class
  class: core_class
  - "COUNTER: string"
  - "GAUGE: string"
  - "HISTOGRAM: string"
  - "SUMMARY: string"
}

Counter: {
  shape: class
  class: metric_type
  - "name: string"
  - "help: string"
  - "labels: Map<string, string>"
  - "value: float64"
  + "inc()"
  + "add(delta: float64)"
  + "reset()"
}

Gauge: {
  shape: class
  class: metric_type
  - "name: string"
  - "help: string"
  - "labels: Map<string, string>"
  - "value: float64"
  + "set(value: float64)"
  + "inc()"
  + "dec()"
  + "add(delta: float64)"
}

Histogram: {
  shape: class
  class: metric_type
  - "name: string"
  - "help: string"
  - "labels: Map<string, string>"
  - "buckets: []float64"
  - "counts: []uint64"
  - "sum: float64"
  - "count: uint64"
  + "observe(value: float64)"
  + "reset()"
}

Summary: {
  shape: class
  class: metric_type
  - "name: string"
  - "help: string"
  - "labels: Map<string, string>"
  - "quantiles: []Quantile"
  - "sum: float64"
  - "count: uint64"
  + "observe(value: float64)"
  + "reset()"
}

TimeSeries: {
  shape: class
  class: core_class
  - "metric_name: string"
  - "labels: Map<string, string>"
  - "samples: []Sample"
  - "fingerprint: uint64"
  + "id(): string"
  + "add_sample(timestamp: int64, value: float64)"
  + "query(start: int64, end: int64): []Sample"
}

Sample: {
  shape: class
  class: data_class
  - "timestamp: int64"
  - "value: float64"
}

Labels: {
  shape: class
  class: data_class
  - "pairs: Map<string, string>"
  + "get(key: string): string"
  + "set(key: string, value: string)"
  + "hash(): uint64"
  + "string(): string"
}

MetricFamily: {
  shape: class
  class: core_class
  - "name: string"
  - "help: string"
  - "metric_type: MetricType"
  - "metrics: []Metric"
  + "add_metric(labels: Labels): Metric"
  + "find_metric(labels: Labels): Metric"
}

Counter -> MetricType
Gauge -> MetricType
Histogram -> MetricType
Summary -> MetricType

Counter -> TimeSeries: generates
Gauge -> TimeSeries: generates
Histogram -> TimeSeries: generates
Summary -> TimeSeries: generates

TimeSeries -> Sample: contains
TimeSeries -> Labels: identified by

MetricFamily -> Counter: contains
MetricFamily -> Gauge: contains
MetricFamily -> Histogram: contains
MetricFamily -> Summary: contains

Counter -> Labels: tagged with
Gauge -> Labels: tagged with
Histogram -> Labels: tagged with
Summary -> Labels: tagged with