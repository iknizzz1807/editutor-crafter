title: Job State Machine

classes: {
  state_style: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  final_style: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
    style.double-border: true
  }
  transition_style: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

init: {
  shape: circle
  style.fill: "#3fb950"
  label: ""
}

running: Running {
  shape: circle
  class: state_style
}

stopped: Stopped {
  shape: circle
  class: state_style
}

terminated: Terminated {
  shape: circle
  class: final_style
}

init -> running: Start Job {
  class: transition_style
}

running -> stopped: SIGTSTP (Ctrl+Z) {
  class: transition_style
}

stopped -> running: SIGCONT (fg/bg) {
  class: transition_style
}

running -> terminated: SIGTERM/SIGKILL {
  class: transition_style
}

running -> terminated: Job Completion {
  class: transition_style
}

stopped -> terminated: SIGTERM/SIGKILL {
  class: transition_style
}

running -> running: SIGINT (Ctrl+C)\nHandled by job {
  class: transition_style
}