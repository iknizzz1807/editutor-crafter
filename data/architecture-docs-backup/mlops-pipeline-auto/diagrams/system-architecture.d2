title: Aether System Architecture {
  near: top-center
  style.font-size: 24
  style.bold: true
  style.font-color: "#e6edf3"
}

classes: {
  container_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  
  external_style: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  component_style: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  storage_style: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

# External Data Sources
data_sources: Data Sources {
  class: external_style
  streaming: Streaming Data {
    class: component_style
  }
  batch: Batch Data {
    class: component_style
  }
  apis: External APIs {
    class: component_style
  }
}

# Core Aether System
aether_core: Aether Core System {
  class: container_style
  
  feature_store: Feature Store {
    class: component_style
    online_store: Online Store {
      shape: cylinder
      class: storage_style
    }
    offline_store: Offline Store {
      shape: cylinder
      class: storage_style
    }
    feature_engine: Feature Engine {
      class: component_style
    }
  }
  
  training_orchestrator: Training Orchestrator {
    class: component_style
    pipeline_manager: Pipeline Manager {
      class: component_style
    }
    resource_scheduler: Resource Scheduler {
      class: component_style
    }
    experiment_tracker: Experiment Tracker {
      class: component_style
    }
  }
  
  model_serving: Model Serving {
    class: component_style
    inference_engine: Inference Engine {
      class: component_style
    }
    load_balancer: Load Balancer {
      class: component_style
    }
    a_b_testing: A/B Testing {
      class: component_style
    }
  }
  
  feedback_loop: Feedback Loop {
    class: component_style
    drift_detector: Drift Detector {
      class: component_style
    }
    performance_analyzer: Performance Analyzer {
      class: component_style
    }
    auto_retrainer: Auto Retrainer {
      class: component_style
    }
  }
}

# External Systems
model_registry: Model Registry {
  shape: cylinder
  class: storage_style
}

monitoring_system: Monitoring & Alerting {
  class: external_style
  metrics: Metrics Collection {
    class: component_style
  }
  alerts: Alert Manager {
    class: component_style
  }
}

# External connections to Feature Store
data_sources.streaming -> aether_core.feature_store: real-time data {
  style.stroke: "#8b949e"
}
data_sources.batch -> aether_core.feature_store: batch ingestion {
  style.stroke: "#8b949e"
}
data_sources.apis -> aether_core.feature_store: API data {
  style.stroke: "#8b949e"
}

# Internal connections between core components
aether_core.feature_store -> aether_core.training_orchestrator: training features {
  style.stroke: "#3fb950"
}
aether_core.feature_store -> aether_core.model_serving: inference features {
  style.stroke: "#3fb950"
}
aether_core.training_orchestrator -> model_registry: store models {
  style.stroke: "#3fb950"
}
model_registry -> aether_core.model_serving: deploy models {
  style.stroke: "#3fb950"
}
aether_core.model_serving -> aether_core.feedback_loop: predictions & metrics {
  style.stroke: "#3fb950"
}
aether_core.feedback_loop -> aether_core.training_orchestrator: retrain triggers {
  style.stroke: "#3fb950"
}

# Monitoring connections
aether_core.model_serving -> monitoring_system: performance data {
  style.stroke: "#8b949e"
}
aether_core.feedback_loop -> monitoring_system: drift alerts {
  style.stroke: "#8b949e"
}
aether_core.training_orchestrator -> monitoring_system: training metrics {
  style.stroke: "#8b949e"
}