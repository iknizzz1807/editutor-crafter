title: Area of Interest Filtering {
  style.font-size: 20
  style.bold: true
  near: top-center
}

classes: {
  player_style: {
    style.fill: "#3fb950"
    style.stroke: "#2d8a3e"
    style.font-color: "#ffffff"
    style.bold: true
  }
  entity_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  zone_style: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
    style.opacity: 0.7
  }
  included_style: {
    style.fill: "#0d6efd"
    style.stroke: "#3fb950"
    style.font-color: "#ffffff"
  }
  excluded_style: {
    style.fill: "#6c757d"
    style.stroke: "#495057"
    style.font-color: "#adb5bd"
    style.opacity: 0.6
  }
}

circular_aoi: Circular AoI {
  class: zone_style
  shape: rectangle
  
  player1: Player A {
    class: player_style
    shape: circle
  }
  
  inner_zone: High Frequency Zone (60Hz) {
    class: zone_style
    shape: oval
    
    entity1: Enemy {
      class: included_style
      shape: circle
    }
    
    entity2: NPC {
      class: included_style
      shape: circle
    }
  }
  
  outer_zone: Low Frequency Zone (10Hz) {
    class: zone_style
    shape: oval
    
    entity3: Building {
      class: included_style
      shape: rectangle
    }
    
    entity4: Tree {
      class: included_style
      shape: rectangle
    }
  }
  
  outside1: Distant Player {
    class: excluded_style
    shape: circle
  }
  
  outside2: Far Object {
    class: excluded_style
    shape: rectangle
  }
}

directional_aoi: Directional AoI {
  class: zone_style
  shape: rectangle
  
  player2: Player B {
    class: player_style
    shape: circle
  }
  
  front_cone: Forward Vision Cone (30Hz) {
    class: zone_style
    shape: parallelogram
    
    visible1: Visible Enemy {
      class: included_style
      shape: circle
    }
    
    visible2: Visible Item {
      class: included_style
      shape: diamond
    }
  }
  
  side_area: Peripheral Area (15Hz) {
    class: zone_style
    shape: rectangle
    
    peripheral1: Side Object {
      class: included_style
      shape: rectangle
    }
  }
  
  behind1: Behind Player {
    class: excluded_style
    shape: circle
  }
  
  behind2: Hidden Object {
    class: excluded_style
    shape: rectangle
  }
}

filtering_logic: Update Filtering Logic {
  class: entity_style
  shape: rectangle
  
  distance_calc: Distance Calculator {
    class: entity_style
    shape: rectangle
  }
  
  importance_filter: Importance Filter {
    class: entity_style
    shape: rectangle
  }
  
  frequency_manager: Update Frequency Manager {
    class: entity_style
    shape: rectangle
  }
  
  bandwidth_optimizer: Bandwidth Optimizer {
    class: entity_style
    shape: rectangle
  }
}

legend: Legend {
  class: zone_style
  shape: rectangle
  
  legend_player: Player {
    class: player_style
    shape: circle
  }
  
  legend_included: Included Entity {
    class: included_style
    shape: rectangle
  }
  
  legend_excluded: Excluded Entity {
    class: excluded_style
    shape: rectangle
  }
  
  legend_zone: Update Zone {
    class: zone_style
    shape: rectangle
  }
}

circular_aoi.player1 -> filtering_logic.distance_calc: position data
directional_aoi.player2 -> filtering_logic.distance_calc: position + facing
filtering_logic.distance_calc -> filtering_logic.importance_filter: filtered entities
filtering_logic.importance_filter -> filtering_logic.frequency_manager: prioritized updates
filtering_logic.frequency_manager -> filtering_logic.bandwidth_optimizer: scheduled updates

circular_aoi.inner_zone -> circular_aoi.outer_zone: overlapping zones
directional_aoi.front_cone -> directional_aoi.side_area: adaptive boundaries