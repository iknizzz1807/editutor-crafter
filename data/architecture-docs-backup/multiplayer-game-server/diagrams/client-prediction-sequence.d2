shape: sequence_diagram

Client: {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

Server: {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}

Client -> Client: 1. Player Input\n(Move Forward)
Client -> Client: 2. Local Prediction\n(Update Position)
Client -> Client: 3. Store Input\n(Sequence #123)
Client -> Server: 4. Send Input\n(Move Forward, Seq #123)
Server -> Server: 5. Validate & Process\n(Anti-cheat checks)
Server -> Server: 6. Update Authoritative\nState
Server -> Client: 7. State Update\n(Position, Seq #123)
Client -> Client: 8. Compare States\n(Predicted vs Actual)
Client -> Client: 9. Reconciliation\n(Apply Correction)
Client -> Client: 10. Visual Smoothing\n(Interpolation)

Client: |md
  **Local State**
  - Immediate response
  - Input buffering
  - Prediction storage
| {
  shape: page
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

Server: |md
  **Authoritative State**
  - Validation
  - Anti-cheat
  - Truth source
| {
  shape: page
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}