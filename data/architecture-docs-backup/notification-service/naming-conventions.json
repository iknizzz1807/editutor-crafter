{
  "types": {
    "Config": "complete application configuration",
    "ServerConfig": "HTTP server settings",
    "DatabaseConfig": "PostgreSQL connection settings",
    "QueueConfig": "message queue configuration",
    "Publisher": "message queue publisher",
    "NotificationMessage": "fields: ID string, RecipientID string, TemplateID string, Priority Priority, Variables map[string]string, Category string, CreatedAt time.Time",
    "User": "fields: ID string, Email string, PhoneNumber string, DeviceTokens []string, Locale string, Preferences UserPreference, QuietHoursStart string, QuietHoursEnd string, Timezone string",
    "Notification": "notification instance with tracking",
    "Template": "fields: ID string, Version int, Name string, Category string, Content map[string]TemplateContent, CreatedAt time.Time, UpdatedAt time.Time",
    "UserPreference": "fields: GlobalOptOut bool, CategoryPreferences map[string]CategoryPreference, ChannelPreferences map[string]ChannelPreference, QuietHoursEnabled bool, LastUpdated time.Time, ConsentSource string, UnsubscribeTokens map[string]UnsubscribeToken",
    "Priority": "notification priority enum",
    "NotificationStatus": "delivery status enum with StatusQueued, StatusSending, StatusSent, StatusDelivered, StatusOpened, StatusClicked, StatusFailed, StatusBounced",
    "TemplateContent": "channel-specific content for one language variant",
    "Channel": "interface with Validate, Format, Send, HealthCheck, Name methods",
    "FormattedMessage": "fields: Subject string, Body string, ContentType string, Headers map[string]string, Attachments []Attachment",
    "DeliveryResult": "fields: ProviderMessageID string, DeliveryStatus string, Timestamp time.Time, ProviderMetadata map[string]interface{}",
    "CircuitBreaker": "fields: state CircuitState, failures int, lastFailureTime time.Time, nextRetryTime time.Time",
    "RoutingEngine": "fields: channels map[string]Channel, circuitBreakers map[string]*CircuitBreaker, config *RoutingConfig",
    "RoutingPlan": "fields: PrimaryChannel string, FallbackChannels []string, RetryPolicy RetryPolicy, DeferUntil *time.Time",
    "CircuitState": "enum with StateClosed, StateOpen, StateHalfOpen",
    "TemplateEngine": "handles template rendering with security and localization",
    "SecurityPolicy": "defines content security rules",
    "ContentValidator": "interface for template validation",
    "LocalizationManager": "interface for locale handling",
    "TemplateStore": "interface for template persistence",
    "TemplateVersion": "version entry in template history",
    "AuditEntry": "fields: UserID string, ChangeType PreferenceChangeType, OldValue string, NewValue string, ChangeSource string, Timestamp time.Time, IPAddress string, UserAgent string",
    "PreviewRequest": "data for template preview",
    "PreviewResponse": "rendered template output",
    "PreferenceManager": "fields: store PreferenceStore, hmacKey []byte, auditLogger AuditLogger, timeProvider TimeProvider",
    "CategoryPreference": "fields: Enabled bool, AllowedChannels []string, MinimumPriority Priority, RateLimitPerDay int",
    "ChannelPreference": "fields: Enabled bool, AllowedCategories []string, QuietHoursRespected bool, MaxDailyCount int, LastNotificationSent time.Time, VerificationStatus VerificationStatus",
    "UnsubscribeToken": "fields: TokenID string, UserID string, Category string, Channel string, Scope UnsubscribeScope, CreatedAt time.Time, ExpiresAt time.Time, UsedAt *time.Time, Signature string",
    "DeliveryDecision": "fields: Action DeliveryAction, Reason string, DeferUntil *time.Time, RetryAfter *time.Duration",
    "QuietHoursDecision": "fields: InQuietHours bool, ShouldDefer bool, DeferUntil *time.Time, Reason string",
    "UnsubscribeResult": "fields: Success bool, Message string, PreferencesUpdated map[string]interface{}, ConfirmationSent bool",
    "DeliveryEvent": "fields: EventID string, NotificationID string, RecipientID string, EventType string, Channel string, Provider string, ProviderMessageID string, Timestamp time.Time, Metadata map[string]interface{}, Source string",
    "OpenEvent": "fields: EventID string, NotificationID string, RecipientID string, OpenedAt time.Time, UserAgent string, IPAddress string, EmailClient string, IsFirstOpen bool",
    "ClickEvent": "fields: EventID string, NotificationID string, RecipientID string, OriginalURL string, ClickedAt time.Time, LinkText string, LinkPosition int, UserAgent string, IPAddress string, ReferrerURL string",
    "BounceEvent": "fields: EventID string, NotificationID string, RecipientEmail string, BounceType string, BounceSubType string, ProviderBounceCode string, SMTPResponseCode string, BouncedAt time.Time, DiagnosticInfo string, RetryCount int",
    "DeliveryTracker": "fields: eventStore events.Store, webhookSecret map[string]string, analytics *analytics.Aggregator",
    "WebhookProcessor": "fields: providers map[string]ProviderHandler, tracker *delivery.DeliveryTracker, secrets map[string]string",
    "ProviderHandler": "interface with ValidateSignature, ParseEvents, GetProviderName methods",
    "Aggregator": "fields: metrics map[string]*MetricAggregate, metricsMux sync.RWMutex, storage MetricsStore, alerts AlertManager",
    "MetricAggregate": "fields: Sent int64, Delivered int64, Opened int64, Clicked int64, Bounced int64, Failed int64, LastUpdate time.Time",
    "DeliveryRecord": "fields: ID string, NotificationID string, Channel string, Provider string, ProviderMessageID string, Status NotificationStatus, AttemptNumber int, SentAt time.Time, DeliveredAt *time.Time, OpenedAt *time.Time, ClickedAt *time.Time, FailedAt *time.Time, BouncedAt *time.Time, ErrorMessage string, ProviderMetadata map[string]interface{}, CreatedAt time.Time, UpdatedAt time.Time",
    "NotificationError": "fields: Category ErrorCategory, Provider string, Channel string, ErrorCode string, Message string, RetryAfter *time.Duration, Metadata map[string]interface{}, Timestamp time.Time, RecoveryHint string",
    "ErrorCategory": "enum type for error classification",
    "FailureAttempt": "fields: AttemptNumber int, Timestamp time.Time, Error *NotificationError, RetryAfter time.Duration",
    "DeadLetterEntry": "fields: ID string, OriginalMessage *NotificationMessage, FailureHistory []FailureAttempt, QuarantineReason ErrorCategory, QuarantineTime time.Time, ReprocessingEligible bool, OperationalNotes string, ExpiresAt time.Time",
    "CircuitBreakerConfig": "fields: FailureThreshold int, SuccessThreshold int, OpenTimeout time.Duration, HalfOpenTestInterval time.Duration",
    "CircuitBreakerStats": "fields: State CircuitState, ConsecutiveFailures int, ConsecutiveSuccesses int, LastFailureTime time.Time, LastSuccessTime time.Time, NextRetryTime time.Time, TotalRequests int64, TotalFailures int64",
    "CircuitBreakerImpl": "fields: config CircuitBreakerConfig, stats CircuitBreakerStats, mutex sync.RWMutex, onStateChange func(from, to CircuitState)",
    "RetryPolicy": "fields: MaxAttempts int, BaseDelay time.Duration, MaxDelay time.Duration, JitterPercent float64, BackoffFactor float64",
    "RetryExecutor": "fields: policies map[ErrorCategory]RetryPolicy, random *rand.Rand",
    "DeadLetterQueue": "fields: store DeadLetterStore, config DeadLetterConfig, metrics DeadLetterMetrics",
    "DeadLetterStore": "interface for dead letter persistence",
    "DeadLetterConfig": "fields: RetentionPeriod time.Duration, MaxEntriesPerUser int, ReprocessingEnabled bool, AlertThreshold int",
    "TestDB": "fields: DB *sql.DB, Config *DatabaseConfig, cleanup func()",
    "MockEmailProvider": "configurable email provider mock for testing",
    "WebhookSimulator": "webhook testing utility",
    "MockResponse": "fields: StatusCode int, Body string, Headers map[string]string, Delay time.Duration",
    "MockRequest": "request data for verification",
    "CorrelationMiddleware": "HTTP middleware for correlation ID handling",
    "ContextLogger": "structured logger with correlation ID support",
    "NotificationDebugView": "complete debugging information for notification",
    "QueueInspector": "message queue inspection utilities",
    "ProviderTester": "provider connectivity testing framework",
    "TestResult": "provider test execution results",
    "Campaign": "fields: ID string, Name string, Description string, Type CampaignType, Status CampaignStatus, TargetAudience AudienceDefinition, Schedule CampaignSchedule, Messages []CampaignMessage, Goals CampaignGoals, CreatedBy string, CreatedAt time.Time, StartedAt *time.Time, CompletedAt *time.Time, Performance CampaignMetrics",
    "CampaignOrchestrator": "fields: store CampaignStore, audienceEngine AudienceEngine, scheduler Scheduler, notificationService NotificationService, metrics MetricsCollector",
    "AudienceDefinition": "fields: IncludeRules []AudienceRule, ExcludeRules []AudienceRule, MaxAudienceSize *int, RefreshInterval time.Duration, SamplingRate *float64",
    "ExperimentAssigner": "fields: store AssignmentStore, experiments map[string]*Experiment, hasher hash.Hash, mutex sync.RWMutex",
    "SendTimeOptimizer": "fields: models map[string]*UserModel, cohorts map[string]*CohortModel, features FeatureExtractor, predictor MLPredictor, fallback FallbackStrategy, modelStore ModelStore, mutex sync.RWMutex",
    "GlobalCoordinator": "fields: regions map[string]RegionClient, replicationLog ReplicationLog, conflictResolver ConflictResolver, consistency ConsistencyLevel, topology RegionTopology",
    "AutoScaler": "fields: metricsCollector MetricsCollector, scalingPolicies map[string]ScalingPolicy, kubernetesClient kubernetes.Interface, predictor DemandPredictor, cooldownTracker map[string]time.Time"
  },
  "methods": {
    "LoadConfig(path) *Config": "loads configuration from file",
    "NewPublisher(url, exchange) *Publisher": "creates queue publisher",
    "PublishNotification(ctx, msg) error": "queues notification for processing",
    "Close() error": "releases publisher resources",
    "send(recipient, subject, body, priority)": "common channel interface for sending notifications",
    "ProcessNotification(ctx, msg) error": "coordinates complete notification workflow",
    "Validate() error": "validates NotificationMessage fields",
    "CanReceive(category, channel, priority) bool": "evaluates user preferences for delivery eligibility",
    "IsInQuietHours() bool": "checks if current time falls in user quiet hours",
    "GetContentForLocale(locale) *TemplateContent": "returns best matching template content for user locale",
    "RenderContent(variables, channel) (string, error)": "substitutes variables into template content",
    "Validate(ctx, recipient, message) error": "checks if channel can deliver to recipient",
    "Format(ctx, content, variables) (FormattedMessage, error)": "transforms content for channel-specific format",
    "Send(ctx, recipient, message, priority) (DeliveryResult, error)": "delivers message via provider API",
    "HealthCheck(ctx) error": "verifies provider accessibility",
    "CanExecute() bool": "checks if circuit breaker allows request execution",
    "RecordSuccess()": "notifies circuit breaker of successful operation",
    "RecordFailure(err)": "notifies circuit breaker of failed operation",
    "RouteNotification(ctx, user, message) (*RoutingPlan, error)": "determines delivery strategy",
    "NewCircuitBreaker(failureThreshold, recoveryTimeout) *CircuitBreaker": "creates circuit breaker with thresholds",
    "RenderTemplate(ctx, templateID, variables, user, channel) (*FormattedMessage, error)": "transforms template into channel-specific content",
    "ValidateTemplate(template, channel) error": "checks template security and correctness",
    "DetectLocale(user) string": "determines best locale for user",
    "FormatVariable(value, varType, locale) (string, error)": "applies culture-specific formatting",
    "CreateTemplateVersion(ctx, templateID, content, changedBy, summary) (*Template, error)": "creates new template version",
    "ActivateTemplateVersion(ctx, templateID, version, changedBy) error": "makes version active",
    "RollbackTemplate(ctx, templateID, changedBy, reason) error": "reverts to previous version",
    "NewTemplateEngine(store, validator, localizer) *TemplateEngine": "creates template engine",
    "DefaultSecurityPolicy() SecurityPolicy": "returns conservative security settings",
    "CanReceive(ctx, userID, notification, channel) (*DeliveryDecision, error)": "evaluates user preferences for delivery eligibility",
    "GenerateUnsubscribeToken(ctx, userID, category, channel, scope) (*UnsubscribeToken, error)": "creates cryptographically secure unsubscribe token",
    "ProcessUnsubscribe(ctx, tokenID, signature, clientIP, userAgent) (*UnsubscribeResult, error)": "handles unsubscribe requests with security validation",
    "IsInQuietHours(ctx, user) (bool, error)": "determines if current time falls within user's quiet hours",
    "EvaluateQuietHours(user, priority) (*QuietHoursDecision, error)": "determines if notification should be deferred due to quiet hours",
    "ParseTimeInTimezone(timeStr, timezone, referenceDate) (time.Time, error)": "converts HH:MM time string to time.Time in specified timezone",
    "UpdateDeliveryStatus(ctx, event) error": "processes status updates from providers and webhooks with validation and analytics",
    "ProcessBounce(ctx, bounce) error": "handles bounce events with classification and suppression logic",
    "GetDeliveryStatus(ctx, notificationID) (*DeliveryStatus, error)": "returns current status and history for a notification",
    "ProcessWebhook(w, r)": "handles incoming webhook deliveries with signature validation",
    "ValidateSignature(provider, payload, signature) bool": "verifies webhook authenticity using HMAC-SHA256",
    "ProcessEvent(ctx, event) error": "updates real-time metrics when delivery events occur",
    "GetMetrics(ctx, dimensions, timespan) (map[string]*MetricAggregate, error)": "returns current aggregated metrics for specified dimensions",
    "ReconcileMetrics(ctx, date) error": "performs nightly batch processing for accurate historical metrics",
    "ValidateSignature(payload, signature) bool": "validates webhook signature",
    "ParseEvents(payload) ([]*DeliveryEvent, error)": "parses provider webhook into delivery events",
    "GetProviderName() string": "returns provider identifier",
    "Error() string": "returns formatted error message",
    "IsRetryable() bool": "determines if error should trigger retry logic",
    "RequiresManualIntervention() bool": "determines if error needs human attention",
    "RecordFailure(err error)": "notifies circuit breaker of failed operation",
    "GetStats() CircuitBreakerStats": "returns current circuit breaker statistics",
    "ExecuteWithRetry(ctx context.Context, category ErrorCategory, operation func() error) error": "executes operation with retry policy",
    "CalculateDelay(policy RetryPolicy, attempt int) time.Duration": "computes exponential backoff delay with jitter",
    "QuarantineNotification(ctx context.Context, msg *NotificationMessage, failures []FailureAttempt) error": "moves notification to dead letter queue",
    "ReprocessNotifications(ctx context.Context, filters DeadLetterFilters) (int, error)": "attempts to resend notifications from dead letter queue",
    "NewTestDB() (*TestDB, error)": "creates isolated test database instance",
    "LoadFixtures(fixturePath string) error": "loads test data from JSON files",
    "Cleanup() error": "removes test database and closes connections",
    "NewMockEmailProvider() *MockEmailProvider": "creates configurable email provider mock",
    "ServeHTTP(w http.ResponseWriter, r *http.Request)": "implements http.Handler for httptest.Server",
    "GetReceivedRequests() []MockRequest": "returns all requests received by mock",
    "SimulateOutage(duration time.Duration)": "configures mock to return 5xx errors",
    "NewWebhookSimulator(baseURL string, secrets map[string]string) *WebhookSimulator": "creates webhook testing utility",
    "SendDeliveryWebhook(providerMessageID, notificationID string) error": "simulates successful delivery callback",
    "SendBounceWebhook(email, bounceReason string, isHard bool) error": "simulates bounce notification",
    "GetCorrelationID(ctx) string": "extracts correlation ID from context",
    "InfoContext(ctx, msg, args)": "logs info message with correlation context",
    "GetNotificationDebug(w, r)": "returns complete debugging information",
    "GetQueueStatus(ctx) ([]QueueStatus, error)": "returns queue statistics",
    "TestAllProviders(ctx) ([]TestResult, error)": "tests all provider connectivity",
    "ProcessScheduledCampaigns(ctx context.Context) error": "checks for campaigns ready to execute and processes them",
    "StartCampaign(ctx context.Context, campaignID string, startedBy string) error": "immediately begins campaign execution",
    "AssignUserToVariant(ctx context.Context, userID, experimentID string) (*VariantAssignment, error)": "determines which variant a user should receive",
    "OptimizeSendTime(ctx context.Context, userID string, notification *NotificationMessage) (*SendTimeRecommendation, error)": "predicts best delivery time for user and notification",
    "PropagatePreferenceChange(ctx context.Context, userID string, change PreferenceChange, originRegion string) error": "replicates user preference updates across regions",
    "EvaluateScaling(ctx context.Context) error": "checks metrics and determines if scaling is needed"
  },
  "constants": {
    "PriorityLow": "lowest priority level",
    "PriorityNormal": "standard priority level",
    "PriorityHigh": "elevated priority level",
    "PriorityUrgent": "highest priority level",
    "StatusQueued": "notification queued for processing",
    "StatusSending": "notification being sent",
    "StatusSent": "notification sent to provider",
    "StatusDelivered": "notification delivered to recipient",
    "StatusFailed": "notification delivery failed",
    "StatusBounced": "notification bounced back",
    "StateClosed": "circuit breaker normal operation",
    "StateOpen": "circuit breaker failing state",
    "StateHalfOpen": "circuit breaker testing recovery",
    "ScopeCampaign": "unsubscribe from specific email campaign",
    "ScopeCategory": "unsubscribe from notification category",
    "ScopeChannel": "unsubscribe from delivery channel",
    "ScopeGlobal": "unsubscribe from all communications",
    "ActionAllow": "allow notification delivery",
    "ActionDefer": "defer notification until later",
    "ActionReject": "reject notification delivery",
    "StatusOpened": "notification opened by recipient",
    "StatusClicked": "notification link clicked by recipient",
    "ErrorCategoryTransient": "transient errors suitable for retry",
    "ErrorCategoryRate": "rate limiting errors requiring backoff",
    "ErrorCategoryAuth": "authentication errors requiring manual intervention",
    "ErrorCategoryPermanent": "permanent errors requiring dead letter queue",
    "ErrorCategoryTemplate": "template errors requiring code fixes",
    "CampaignType": "campaign classification enum",
    "CampaignStatus": "campaign lifecycle states",
    "ExperimentStatus": "experiment lifecycle states",
    "AssignmentMethod": "user assignment strategy",
    "Priority": "notification priority levels"
  },
  "terms": {
    "channel abstraction": "unified interface for different notification providers",
    "routing engine": "logic for selecting appropriate notification channels",
    "fallback strategy": "backup channels when primary delivery fails",
    "template engine": "system for rendering notification content with variable substitution",
    "delivery tracking": "monitoring notification status through completion",
    "user preferences": "per-user controls for notification channels and categories",
    "provider integration": "connection to external notification services",
    "locale fallback": "selecting best available language when exact match not found",
    "quiet hours": "time window when non-urgent notifications are suppressed",
    "variable substitution": "replacing template placeholders with actual values",
    "preference resolution": "determining final delivery decision from multiple preference layers",
    "circuit breaker": "pattern to prevent repeated calls to failing services",
    "mustache-style syntax": "logic-less template syntax using double braces",
    "context-aware escaping": "applying different escaping based on output context",
    "template versioning": "tracking template changes over time with rollback capability",
    "ICU MessageFormat": "standard for handling pluralization and formatting",
    "content validation": "checking template security and correctness",
    "audit trail": "complete history of preference changes for compliance and debugging",
    "semantic versioning": "version numbering that communicates change impact",
    "unsubscribe system": "compliance-friendly mechanism for users to opt out of notifications",
    "HMAC-signed tokens": "cryptographically secure unsubscribe tokens that prevent forgery",
    "preference hierarchy": "layered system of global, category, and channel preferences",
    "regulatory compliance": "meeting legal requirements for email marketing and consent management",
    "timezone handling": "correctly applying time-based preferences across global timezones",
    "state machine": "notification lifecycle model with defined status transitions",
    "webhook processing": "handling asynchronous status updates from external providers",
    "open tracking": "pixel-based detection of email message opens",
    "click tracking": "URL redirect-based measurement of link clicks",
    "bounce handling": "processing delivery failures and recipient reachability updates",
    "hard bounce": "permanent delivery failure requiring immediate suppression",
    "soft bounce": "temporary delivery failure allowing retry attempts",
    "tracking pixel": "invisible 1x1 image used to detect email opens",
    "link rewriting": "replacing original URLs with tracking redirects",
    "real-time metrics": "streaming aggregation of delivery events for immediate insights",
    "batch reconciliation": "nightly reprocessing for accurate historical metrics",
    "recipient suppression": "preventing delivery to addresses with bounces or complaints",
    "provider webhook": "HTTP callback from external service reporting delivery status",
    "analytics aggregation": "combining individual events into summary statistics",
    "metrics dimensionality": "grouping analytics by channel, campaign, provider, geography",
    "signature validation": "HMAC verification of webhook authenticity",
    "UTM parameters": "URL tracking parameters for attribution analysis",
    "message queue": "asynchronous communication mechanism for notification processing",
    "exponential backoff": "retry delay strategy that increases exponentially",
    "dead letter queue": "storage for messages that exhausted all retry attempts",
    "jitter": "randomization added to retry delays to prevent thundering herd",
    "failure mode analysis": "systematic examination of potential failure scenarios",
    "recovery strategy": "approach for handling and recovering from failures",
    "manual intervention": "failure scenarios requiring human judgment and action",
    "provider outage": "complete unavailability of external notification services",
    "rate limiting": "provider-imposed quotas on notification volume",
    "cascading failure": "failures that propagate through multiple system components",
    "provider mocking": "simulating external service behavior for testing",
    "test isolation": "ensuring tests don't interfere with each other",
    "milestone validation": "verifying implementation meets acceptance criteria",
    "correlation ID": "unique identifier for tracing requests across services",
    "structured logging": "JSON-formatted logs with consistent fields",
    "distributed tracing": "tracking requests across multiple services",
    "observability": "ability to understand system behavior through external outputs",
    "campaign management": "coordinated multi-message communication sequences",
    "A/B testing framework": "controlled experimentation for notification optimization",
    "send time optimization": "ML-driven prediction of optimal delivery timing",
    "multi-region deployment": "global distribution for latency and compliance",
    "horizontal scaling": "distributed processing across multiple instances",
    "audience targeting": "dynamic rules for recipient selection",
    "variant assignment": "deterministic user bucketing for experiments",
    "feature extraction": "ML input data preparation from user behavior",
    "cross-region replication": "data synchronization across geographic regions",
    "auto-scaling": "automatic resource adjustment based on demand",
    "batch coordination": "grouping notifications for efficient delivery",
    "demand prediction": "forecasting notification volume for capacity planning"
  }
}