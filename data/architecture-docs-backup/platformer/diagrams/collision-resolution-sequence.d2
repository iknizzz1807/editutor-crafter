shape: sequence_diagram

Entity: Entity
Physics_Engine: Physics Engine
Collision_System: Collision System

Entity -> Physics_Engine: Update position request
Physics_Engine -> Physics_Engine: Apply velocity
Physics_Engine -> Collision_System: Check collisions at new position
Collision_System -> Collision_System: Detect collision boundaries
Collision_System -> Physics_Engine: Return collision data

Physics_Engine -> Physics_Engine: Resolve X-axis collision
Physics_Engine -> Entity: Update X position
Physics_Engine -> Physics_Engine: Resolve Y-axis collision  
Physics_Engine -> Entity: Update Y position

Physics_Engine -> Entity: Update velocity state
Physics_Engine -> Collision_System: Update collision flags
Collision_System -> Entity: Set grounded/wall collision states

Entity.style.fill: "#1a1a2e"
Entity.style.stroke: "#3fb950"
Entity.style.font-color: "#e6edf3"

Physics_Engine.style.fill: "#16213e"
Physics_Engine.style.stroke: "#3fb950"
Physics_Engine.style.font-color: "#e6edf3"

Collision_System.style.fill: "#0f3460"
Collision_System.style.stroke: "#3fb950"
Collision_System.style.font-color: "#e6edf3"