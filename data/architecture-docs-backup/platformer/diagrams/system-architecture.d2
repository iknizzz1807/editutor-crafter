classes: {
  game_system: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  data_flow: {
    style.stroke: "#8b949e"
    style.font-color: "#8b949e"
  }
  update_cycle: {
    style.stroke: "#3fb950"
    style.font-color: "#3fb950"
    style.bold: true
  }
  time_system: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
}

title: System Architecture Overview {
  near: top-center
  style.font-size: 18
  style.font-color: "#e6edf3"
  style.bold: true
}

game_loop: Game Loop {
  class: time_system
  
  time_manager: Time Manager {
    class: game_system
  }
  
  delta_time: Delta Time Calculator {
    class: game_system
  }
  
  time_manager -> delta_time: calculate frame time
}

core_systems: Core Game Systems {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  input: Input System {
    class: game_system
  }
  
  physics: Physics Engine {
    class: game_system
  }
  
  collision: Collision System {
    class: game_system
  }
  
  entities: Entity System {
    class: game_system
  }
  
  rendering: Rendering System {
    class: game_system
  }
}

game_loop -> core_systems.input: 1. Process Input {
  class: update_cycle
}

core_systems.input -> core_systems.physics: input events {
  class: data_flow
}

game_loop -> core_systems.physics: 2. Update Physics {
  class: update_cycle
}

core_systems.physics -> core_systems.collision: movement data {
  class: data_flow
}

game_loop -> core_systems.collision: 3. Resolve Collisions {
  class: update_cycle
}

core_systems.collision -> core_systems.entities: collision events {
  class: data_flow
}

game_loop -> core_systems.entities: 4. Update Entities {
  class: update_cycle
}

core_systems.entities -> core_systems.rendering: entity state {
  class: data_flow
}

game_loop -> core_systems.rendering: 5. Render Frame {
  class: update_cycle
}

game_loop.delta_time -> core_systems.physics: frame time {
  class: data_flow
}

game_loop.delta_time -> core_systems.entities: frame time {
  class: data_flow
}

core_systems.rendering -> game_loop: frame complete {
  class: update_cycle
}

update_note: |md
  **Update Cycle Flow:**
  1. Calculate delta time
  2. Process player input
  3. Update physics with time scaling
  4. Resolve collisions
  5. Update entity states
  6. Render final frame
| {
  shape: page
  near: bottom-right
  style.fill: "#0f3460"
  style.font-color: "#e6edf3"
}