classes: {
  scan_op: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  filter_op: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  join_op: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  project_op: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  cost_style: {
    style.fill: "#2d1b69"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
    style.font-size: 11
  }
}

title: Query Plan Tree Structure {
  near: top-center
  style.font-size: 18
  style.font-color: "#e6edf3"
  style.bold: true
}

project: ProjectNode {
  shape: class
  class: project_op
  - "columns: \"List<string>\""
  - "output_schema: Schema"
  + "execute(): \"ResultSet\""
  + "estimate_cost(): CostEstimate"
}

join: JoinNode {
  shape: class
  class: join_op
  - "join_type: JoinType"
  - "condition: Expression"
  - "algorithm: JoinAlgorithm"
  + "execute(): \"ResultSet\""
  + "estimate_cost(): CostEstimate"
}

filter1: FilterNode {
  shape: class
  class: filter_op
  - "predicate: Expression"
  - "selectivity: double"
  + "execute(): \"ResultSet\""
  + "estimate_cost(): CostEstimate"
}

filter2: FilterNode {
  shape: class
  class: filter_op
  - "predicate: Expression"
  - "selectivity: double"
  + "execute(): \"ResultSet\""
  + "estimate_cost(): CostEstimate"
}

scan1: ScanNode {
  shape: class
  class: scan_op
  - "table_name: string"
  - "access_method: AccessMethod"
  - "estimated_rows: long"
  + "execute(): \"ResultSet\""
  + "estimate_cost(): CostEstimate"
}

scan2: ScanNode {
  shape: class
  class: scan_op
  - "table_name: string"
  - "access_method: AccessMethod"
  - "estimated_rows: long"
  + "execute(): \"ResultSet\""
  + "estimate_cost(): CostEstimate"
}

cost1: Cost: 120.5 {
  shape: oval
  class: cost_style
  near: top-right
}

cost2: Cost: 45.2 {
  shape: oval
  class: cost_style
}

cost3: Cost: 78.8 {
  shape: oval
  class: cost_style
}

cost4: Cost: 35.1 {
  shape: oval
  class: cost_style
}

cost5: Cost: 12.0 {
  shape: oval
  class: cost_style
}

cost6: Cost: 8.5 {
  shape: oval
  class: cost_style
}

project -> join: child {
  style.stroke: "#8b949e"
  style.stroke-width: 2
}

join -> filter1: left_child {
  style.stroke: "#8b949e"
  style.stroke-width: 2
}

join -> filter2: right_child {
  style.stroke: "#8b949e"
  style.stroke-width: 2
}

filter1 -> scan1: child {
  style.stroke: "#8b949e"
  style.stroke-width: 2
}

filter2 -> scan2: child {
  style.stroke: "#8b949e"
  style.stroke-width: 2
}

project -- cost1 {
  style.stroke-dash: 3
  style.stroke: "#8b949e"
}

join -- cost2 {
  style.stroke-dash: 3
  style.stroke: "#8b949e"
}

filter1 -- cost3 {
  style.stroke-dash: 3
  style.stroke: "#8b949e"
}

filter2 -- cost4 {
  style.stroke-dash: 3
  style.stroke: "#8b949e"
}

scan1 -- cost5 {
  style.stroke-dash: 3
  style.stroke: "#8b949e"
}

scan2 -- cost6 {
  style.stroke-dash: 3
  style.stroke: "#8b949e"
}

legend: Tree Structure {
  near: bottom-left
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  solid_line: Solid: Parent-Child {
    style.font-size: 10
    style.font-color: "#8b949e"
  }
  
  dashed_line: Dashed: Cost Annotation {
    style.font-size: 10
    style.font-color: "#8b949e"
  }
}