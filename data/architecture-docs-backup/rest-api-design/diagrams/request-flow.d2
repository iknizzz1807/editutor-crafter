shape: sequence_diagram
client: Client {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
rate_limiter: Rate Limiter {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
auth: Authentication {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
validator: Request Validator {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
crud: CRUD Handler {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
}
database: Database {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

client -> rate_limiter: POST /api/users
rate_limiter -> rate_limiter: Check rate limits
rate_limiter -> auth: Forward request
auth -> auth: Validate JWT token
auth -> validator: Authenticated request
validator -> validator: Validate request body
validator -> crud: Valid request data
crud -> database: INSERT user record
database -> crud: User created (ID: 123)
crud -> validator: User response data
validator -> auth: Success response
auth -> rate_limiter: 201 Created
rate_limiter -> client: 201 Created + user data