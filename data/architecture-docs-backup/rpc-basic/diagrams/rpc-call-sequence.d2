shape: sequence_diagram

client: Client
client_stub: Client Stub
network: Network
server_stub: Server Stub
server: Server
registry: Service Registry

client -> client_stub: method_call(args)
client_stub -> client_stub: serialize_request()
client_stub -> registry: lookup_service()
registry -> client_stub: service_endpoint
client_stub -> network: send_request(serialized_data)
network -> server_stub: receive_request()
server_stub -> server_stub: deserialize_request()
server_stub -> server: invoke_method(args)
server -> server: execute_business_logic()
server -> server_stub: return_result()
server_stub -> server_stub: serialize_response()
server_stub -> network: send_response(serialized_data)
network -> client_stub: receive_response()
client_stub -> client_stub: deserialize_response()
client_stub -> client: return_result()

server -> server_stub: throw_exception() {
  style.stroke: "#d63031"
}
server_stub -> server_stub: serialize_error() {
  style.stroke: "#d63031"
}
server_stub -> network: send_error_response() {
  style.stroke: "#d63031"
}
network -> client_stub: receive_error() {
  style.stroke: "#d63031"
}
client_stub -> client_stub: deserialize_error() {
  style.stroke: "#d63031"
}
client_stub -> client: throw_local_exception() {
  style.stroke: "#d63031"
}

network -> client_stub: timeout_error() {
  style.stroke: "#fdcb6e"
  style.stroke-dash: 3
}
client_stub -> client: throw_timeout_exception() {
  style.stroke: "#fdcb6e"
  style.stroke-dash: 3
}

client.style.fill: "#1a1a2e"
client.style.font-color: "#e6edf3"
client.style.stroke: "#3fb950"

client_stub.style.fill: "#1a1a2e"
client_stub.style.font-color: "#e6edf3"
client_stub.style.stroke: "#3fb950"

network.style.fill: "#16213e"
network.style.font-color: "#e6edf3"
network.style.stroke: "#8b949e"

server_stub.style.fill: "#1a1a2e"
server_stub.style.font-color: "#e6edf3"
server_stub.style.stroke: "#3fb950"

server.style.fill: "#1a1a2e"
server.style.font-color: "#e6edf3"
server.style.stroke: "#3fb950"
server.style.bold: true

registry.style.fill: "#0f3460"
registry.style.font-color: "#e6edf3"
registry.style.stroke: "#74b9ff"