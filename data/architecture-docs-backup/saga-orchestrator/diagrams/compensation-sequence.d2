shape: sequence_diagram

Client: Client
Saga: Saga Orchestrator
Service1: Payment Service
Service2: Inventory Service
Service3: Shipping Service

Client -> Saga: Execute Transaction
Saga -> Service1: Charge Payment
Service1 -> Saga: Success

Saga -> Service2: Reserve Items
Service2 -> Saga: Success

Saga -> Service3: Create Shipping
Service3 -> Saga: Failure - Out of Zone

Saga -> Saga: Detect Failure\nTrigger Compensation

Saga -> Service2: Compensate - Release Items
Service2 -> Saga: Compensation Complete

Saga -> Service1: Compensate - Refund Payment
Service1 -> Saga: Compensation Complete

Saga -> Saga: Update Saga State\nTransaction Failed

Saga -> Client: Transaction Failed

# Styling
Saga.style.fill: "#1a1a2e"
Saga.style.stroke: "#3fb950"
Saga.style.font-color: "#e6edf3"
Saga.style.bold: true

Client.style.fill: "#16213e"
Client.style.stroke: "#8b949e"
Client.style.font-color: "#e6edf3"

Service1.style.fill: "#16213e"
Service1.style.stroke: "#8b949e"
Service1.style.font-color: "#e6edf3"

Service2.style.fill: "#16213e"
Service2.style.stroke: "#8b949e"
Service2.style.font-color: "#e6edf3"

Service3.style.fill: "#16213e"
Service3.style.stroke: "#8b949e"
Service3.style.font-color: "#e6edf3"