shape: sequence_diagram

Client
Execution_Engine: Execution Engine
State_Store: State Store
Payment_Service: Payment Service
Inventory_Service: Inventory Service
Shipping_Service: Shipping Service

Client -> Execution_Engine: Start Order Saga
Execution_Engine -> State_Store: Create Saga Instance
State_Store -> Execution_Engine: Saga ID
Execution_Engine -> State_Store: Persist Step 1 Started
Execution_Engine -> Payment_Service: Process Payment
Payment_Service -> Execution_Engine: Payment Success
Execution_Engine -> State_Store: Persist Step 1 Completed
Execution_Engine -> State_Store: Persist Step 2 Started
Execution_Engine -> Inventory_Service: Reserve Items
Inventory_Service -> Execution_Engine: Reservation Success
Execution_Engine -> State_Store: Persist Step 2 Completed
Execution_Engine -> State_Store: Persist Step 3 Started
Execution_Engine -> Shipping_Service: Create Shipment
Shipping_Service -> Execution_Engine: Shipment Created
Execution_Engine -> State_Store: Persist Step 3 Completed
Execution_Engine -> State_Store: Mark Saga Completed
Execution_Engine -> Client: Order Success

classes: {
  dark_theme: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

Client: { class: dark_theme }
Execution_Engine: { class: dark_theme }
State_Store: { class: dark_theme }
Payment_Service: { class: dark_theme }
Inventory_Service: { class: dark_theme }
Shipping_Service: { class: dark_theme }