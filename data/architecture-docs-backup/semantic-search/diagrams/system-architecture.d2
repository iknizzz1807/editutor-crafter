classes: {
  container: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  processor: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  data_flow: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  api: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
}

title: System Architecture Overview {
  near: top-center
  style.font-size: 20
  style.bold: true
  style.font-color: "#e6edf3"
}

ingestion: Ingestion Layer {
  class: container
  
  doc_processor: Document Processor {
    class: processor
    shape: rectangle
  }
  
  embedding_index: Embedding Index {
    class: processor
    shape: cylinder
  }
  
  doc_processor -> embedding_index: vector embeddings
}

processing: Query Processing Layer {
  class: container
  
  query_processor: Query Processor {
    class: processor
    shape: rectangle
  }
  
  ranking_engine: Ranking Engine {
    class: processor
    shape: rectangle
  }
  
  query_processor -> ranking_engine: processed query
}

interface: API Layer {
  class: container
  
  search_api: Search API {
    class: api
    shape: rectangle
  }
}

user: User {
  shape: circle
  style.fill: "#3fb950"
  style.font-color: "#1a1a2e"
  style.bold: true
}

documents: Documents {
  shape: page
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

user -> interface.search_api: search query {
  class: data_flow
}

interface.search_api -> processing.query_processor: user query {
  class: data_flow
}

processing.query_processor -> ingestion.embedding_index: semantic lookup {
  class: data_flow
}

ingestion.embedding_index -> processing.ranking_engine: candidate results {
  class: data_flow
}

processing.ranking_engine -> interface.search_api: ranked results {
  class: data_flow
}

interface.search_api -> user: search results {
  class: data_flow
}

documents -> ingestion.doc_processor: raw documents {
  class: data_flow
}