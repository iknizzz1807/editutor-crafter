classes: {
  surface_data: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  light_data: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  material_data: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  computation: {
    style.fill: "#2d1b69"
    style.stroke: "#ffd700"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  result: {
    style.fill: "#d63031"
    style.stroke: "#ffffff"
    style.font-color: "#ffffff"
    style.bold: true
  }
}

title: Lighting Calculation Components {
  near: top-center
  style.font-size: 18
  style.bold: true
  style.font-color: "#e6edf3"
}

surface_properties: Surface Properties {
  class: surface_data
  surface_normal: Surface Normal Vector {
    shape: rectangle
    class: surface_data
  }
  vertex_position: Vertex Position {
    shape: rectangle
    class: surface_data
  }
  surface_normal -> vertex_position: derived from
}

light_properties: Light Properties {
  class: light_data
  light_position: Light Position {
    shape: rectangle
    class: light_data
  }
  light_intensity: Light Intensity {
    shape: rectangle
    class: light_data
  }
  light_color: Light Color {
    shape: rectangle
    class: light_data
  }
  light_vector: Light Direction Vector {
    shape: rectangle
    class: light_data
  }
  
  light_position -> light_vector: computed from
  light_intensity -> light_vector: combined with
  light_color -> light_vector: combined with
}

material_properties: Material Properties {
  class: material_data
  diffuse_color: Diffuse Color {
    shape: rectangle
    class: material_data
  }
  specular_color: Specular Color {
    shape: rectangle
    class: material_data
  }
  shininess: Shininess Factor {
    shape: rectangle
    class: material_data
  }
  ambient_color: Ambient Color {
    shape: rectangle
    class: material_data
  }
}

lighting_calculations: Lighting Calculations {
  class: computation
  dot_product: Dot Product Calculation {
    shape: diamond
    class: computation
  }
  diffuse_calc: Diffuse Component {
    shape: rectangle
    class: computation
  }
  specular_calc: Specular Component {
    shape: rectangle
    class: computation
  }
  ambient_calc: Ambient Component {
    shape: rectangle
    class: computation
  }
  
  dot_product -> diffuse_calc: N · L
  dot_product -> specular_calc: R · V
  ambient_calc -> diffuse_calc: base illumination
}

final_color: Final Pixel Color {
  shape: hexagon
  class: result
}

surface_properties.surface_normal -> lighting_calculations.dot_product: normal vector
light_properties.light_vector -> lighting_calculations.dot_product: light direction
light_properties.light_intensity -> lighting_calculations.diffuse_calc: intensity
light_properties.light_color -> lighting_calculations.diffuse_calc: light color

material_properties.diffuse_color -> lighting_calculations.diffuse_calc: surface color
material_properties.specular_color -> lighting_calculations.specular_calc: reflection color
material_properties.shininess -> lighting_calculations.specular_calc: highlight size
material_properties.ambient_color -> lighting_calculations.ambient_calc: base color

lighting_calculations.diffuse_calc -> final_color: diffuse contribution
lighting_calculations.specular_calc -> final_color: specular contribution
lighting_calculations.ambient_calc -> final_color: ambient contribution