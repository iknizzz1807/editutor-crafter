Multi-Pane Rendering Pipeline: Multi-Pane Rendering Pipeline {
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"

  input_sources: Input Sources {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"

    pane1: Pane 1 Buffer {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
    pane2: Pane 2 Buffer {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
    pane3: Pane 3 Buffer {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
  }

  compositor: Screen Compositor {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true

    layout_calc: Layout Calculator {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
    border_renderer: Border Renderer {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
    content_merger: Content Merger {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
  }

  metadata: Status & Metadata {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"

    status_bar: Status Bar Data {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
    window_titles: Window Titles {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
    active_indicators: Active Pane Markers {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
  }

  output_buffer: Final Output Buffer {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true

    escape_sequences: Terminal Escape Sequences {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
    char_matrix: Character Matrix {
      style.fill: "#16213e"
      style.stroke: "#8b949e"
    }
  }

  terminal_output: Terminal Display {
    shape: cylinder
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }

  input_sources.pane1 -> compositor.layout_calc: screen content
  input_sources.pane2 -> compositor.layout_calc: screen content
  input_sources.pane3 -> compositor.layout_calc: screen content

  compositor.layout_calc -> compositor.border_renderer: pane dimensions
  compositor.border_renderer -> compositor.content_merger: bordered regions
  compositor.content_merger -> output_buffer.char_matrix: composite screen

  metadata.status_bar -> compositor.content_merger: status info
  metadata.window_titles -> compositor.content_merger: title bars
  metadata.active_indicators -> compositor.content_merger: highlight data

  output_buffer.char_matrix -> output_buffer.escape_sequences: screen matrix
  output_buffer.escape_sequences -> terminal_output: ANSI sequences

  size_change: Window Resize Event {
    shape: diamond
    style.fill: "#d63031"
    style.stroke: "#e17055"
    style.font-color: "#ffffff"
  }

  size_change -> compositor.layout_calc: new dimensions {
    style.stroke: "#d63031"
    style.stroke-dash: 3
  }
}