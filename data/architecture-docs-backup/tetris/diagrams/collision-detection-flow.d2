direction: down

classes: {
  process: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  decision: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  result: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
}

start: Start {
  shape: circle
  class: process
}

get_bounds: Get Piece Bounds\n(x, y, width, height) {
  class: process
}

init_loop: Initialize Cell Loop\n(for each cell in piece) {
  class: process
}

check_cell: Check Current Cell\n(piece_x + cell_x, piece_y + cell_y) {
  class: process
}

bounds_check: Within Board\nBoundaries? {
  shape: diamond
  class: decision
}

piece_check: Cell Occupied by\nPlaced Piece? {
  shape: diamond
  class: decision
}

more_cells: More Cells to\nCheck? {
  shape: diamond
  class: decision
}

collision_found: Return COLLISION {
  class: result
}

no_collision: Return NO_COLLISION {
  class: result
}

start -> get_bounds
get_bounds -> init_loop
init_loop -> check_cell
check_cell -> bounds_check

bounds_check -> collision_found: No\n(out of bounds) {
  style.stroke: "#e17055"
}

bounds_check -> piece_check: Yes\n(within bounds) {
  style.stroke: "#3fb950"
}

piece_check -> collision_found: Yes\n(occupied) {
  style.stroke: "#e17055"
}

piece_check -> more_cells: No\n(free space) {
  style.stroke: "#3fb950"
}

more_cells -> check_cell: Yes\n(continue loop) {
  style.stroke: "#8b949e"
}

more_cells -> no_collision: No\n(all cells checked) {
  style.stroke: "#3fb950"
}