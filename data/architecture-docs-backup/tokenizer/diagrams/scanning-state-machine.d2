direction: right

classes: {
  state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  
  initial: {
    style.fill: "#3fb950"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  error: {
    style.fill: "#d63031"
    style.stroke: "#e17055"
    style.font-color: "#ffffff"
    style.bold: true
  }
  
  final: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.double-border: true
    style.bold: true
  }
}

init: {
  shape: circle
  class: initial
  label: ""
}

START: {
  shape: circle
  class: state
}

SCANNING_NUMBER: {
  shape: circle
  class: state
}

SCANNING_IDENTIFIER: {
  shape: circle
  class: state
}

SCANNING_STRING: {
  shape: circle
  class: state
}

SCANNING_COMMENT: {
  shape: circle
  class: state
}

SCANNING_OPERATOR: {
  shape: circle
  class: state
}

ERROR: {
  shape: circle
  class: error
}

TOKEN_COMPLETE: {
  shape: circle
  class: final
}

init -> START: begin

START -> SCANNING_NUMBER: digit
START -> SCANNING_IDENTIFIER: letter/underscore  
START -> SCANNING_STRING: quote
START -> SCANNING_COMMENT: / or *
START -> SCANNING_OPERATOR: operator char
START -> TOKEN_COMPLETE: whitespace/delimiter
START -> ERROR: invalid char

SCANNING_NUMBER -> SCANNING_NUMBER: digit
SCANNING_NUMBER -> SCANNING_NUMBER: decimal point
SCANNING_NUMBER -> TOKEN_COMPLETE: whitespace/delimiter
SCANNING_NUMBER -> ERROR: invalid char

SCANNING_IDENTIFIER -> SCANNING_IDENTIFIER: alphanumeric
SCANNING_IDENTIFIER -> TOKEN_COMPLETE: whitespace/delimiter
SCANNING_IDENTIFIER -> ERROR: invalid char

SCANNING_STRING -> SCANNING_STRING: any char
SCANNING_STRING -> TOKEN_COMPLETE: closing quote
SCANNING_STRING -> ERROR: EOF/newline

SCANNING_COMMENT -> SCANNING_COMMENT: any char
SCANNING_COMMENT -> TOKEN_COMPLETE: end marker
SCANNING_COMMENT -> ERROR: unterminated

SCANNING_OPERATOR -> SCANNING_OPERATOR: multi-char operator
SCANNING_OPERATOR -> TOKEN_COMPLETE: complete operator
SCANNING_OPERATOR -> ERROR: invalid sequence

TOKEN_COMPLETE -> START: next token
ERROR -> START: recover