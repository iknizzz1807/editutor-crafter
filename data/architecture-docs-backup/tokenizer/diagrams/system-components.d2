classes: {
  container: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  component: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  data_structure: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  input_output: {
    style.fill: "#2d3748"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
    style.italic: true
  }
}

title: Lexer Component Architecture {
  class: container
  style.font-size: 18
}

input: Source Code {
  shape: page
  class: input_output
}

lexer: Lexer System {
  class: container
  
  scanner: Scanner {
    class: component
    shape: rectangle
  }
  
  data_model: Data Model {
    class: container
    
    token: Token {
      shape: class
      class: data_structure
      - "type: TokenType"
      - "lexeme: string"
      - "position: Position"
      + "toString(): string"
      + "equals(other: Token): boolean"
    }
    
    token_type: TokenType {
      shape: class
      class: data_structure
      - "NUMBER"
      - "IDENTIFIER"
      - "KEYWORD"
      - "OPERATOR"
      - "DELIMITER"
      - "STRING"
      - "COMMENT"
      - "EOF"
    }
    
    position: Position {
      shape: class
      class: data_structure
      - "line: number"
      - "column: number"
      - "offset: number"
      + "advance(char: string): Position"
      + "toString(): string"
    }
  }
}

output: Token Stream {
  shape: queue
  class: input_output
}

input -> lexer.scanner: character stream {
  style.stroke: "#8b949e"
}

lexer.scanner -> lexer.data_model.token: creates {
  style.stroke: "#3fb950"
}

lexer.data_model.token -> lexer.data_model.token_type: uses {
  style.stroke: "#3fb950"
}

lexer.data_model.token -> lexer.data_model.position: contains {
  style.stroke: "#3fb950"
}

lexer.scanner -> output: emits tokens {
  style.stroke: "#8b949e"
}

process_note: |md
  **Data Flow:**
  1. Scanner reads characters from source
  2. Creates Token with TokenType classification
  3. Attaches Position information
  4. Emits to token stream for parser
| {
  shape: page
  class: input_output
  near: bottom-center
}