title: Enemy AI State Machine {
  near: top-center
  style.font-size: 18
  style.bold: true
  style.font-color: "#e6edf3"
}

classes: {
  state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  
  initial_state: {
    style.fill: "#3fb950"
    style.stroke: "#3fb950"
    style.font-color: "#000000"
  }
  
  final_state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.double-border: true
    style.font-color: "#e6edf3"
  }
  
  transition: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

init: {
  shape: circle
  class: initial_state
  label: ""
}

spawning: Spawning {
  shape: circle
  class: state
}

seeking: Seeking {
  shape: circle
  class: state
}

attacking: Attacking {
  shape: circle
  class: state
}

dying: Dying {
  shape: circle
  class: final_state
}

init -> spawning: {
  class: transition
  label: "Enemy Created"
}

spawning -> seeking: {
  class: transition
  label: "Spawn Complete"
}

seeking -> attacking: {
  class: transition
  label: "Player in Range"
}

attacking -> seeking: {
  class: transition
  label: "Player Out of Range"
}

seeking -> dying: {
  class: transition
  label: "Health <= 0"
}

attacking -> dying: {
  class: transition
  label: "Health <= 0"
}

spawning -> dying: {
  class: transition
  label: "Destroyed During Spawn"
}

attacking -> attacking: {
  class: transition
  label: "Continue Attack"
}

seeking -> seeking: {
  class: transition
  label: "Pathfind to Player"
}