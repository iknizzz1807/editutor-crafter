classes: {
  setup: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  scope: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  lifecycle: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  decision: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  cleanup: {
    style.fill: "#2d1b69"
    style.stroke: "#e17055"
    style.font-color: "#e6edf3"
  }
}

start: Start {
  shape: circle
  class: setup
}

test_discovery: Test Discovery {
  class: lifecycle
}

module_scope: Module Scope {
  shape: diamond
  class: decision
}

class_scope: Class Scope {
  shape: diamond
  class: decision
}

function_scope: Function Scope {
  shape: diamond
  class: decision
}

module_fixtures: Module Fixtures {
  class: scope
  setup_module: Setup Module Fixtures
  cache_module: Cache for Module
}

class_fixtures: Class Fixtures {
  class: scope
  setup_class: Setup Class Fixtures
  cache_class: Cache for Class
}

function_fixtures: Function Fixtures {
  class: scope
  setup_func: Setup Function Fixtures
  cache_func: Cache for Function
}

test_execution: Test Execution {
  class: lifecycle
}

test_complete: Test Complete {
  shape: diamond
  class: decision
}

func_cleanup: Function Cleanup {
  class: cleanup
}

class_complete: Class Complete {
  shape: diamond
  class: decision
}

class_cleanup: Class Cleanup {
  class: cleanup
}

module_complete: Module Complete {
  shape: diamond
  class: decision
}

module_cleanup: Module Cleanup {
  class: cleanup
}

end: End {
  shape: circle
  style.double-border: true
  class: setup
}

start -> test_discovery: Begin

test_discovery -> module_scope: Check module fixtures needed

module_scope -> module_fixtures: Yes
module_scope -> class_scope: No module fixtures

module_fixtures -> class_scope: Module fixtures ready

class_scope -> class_fixtures: Yes
class_scope -> function_scope: No class fixtures

class_fixtures -> function_scope: Class fixtures ready

function_scope -> function_fixtures: Yes
function_scope -> test_execution: No function fixtures

function_fixtures -> test_execution: Function fixtures ready

test_execution -> test_complete: Execute test

test_complete -> func_cleanup: Function fixtures exist
test_complete -> class_complete: No function fixtures

func_cleanup -> class_complete: Cleanup function fixtures

class_complete -> class_cleanup: All class tests done
class_complete -> function_scope: More class tests

class_cleanup -> module_complete: Cleanup class fixtures

module_complete -> module_cleanup: All module tests done
module_complete -> class_scope: More module tests

module_cleanup -> end: Cleanup module fixtures