title: Testing System Component Architecture {
  near: top-center
  style.font-size: 18
  style.bold: true
  style.font-color: "#e6edf3"
}

classes: {
  container: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.stroke-width: 2
  }
  component: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  data_flow: {
    style.stroke: "#3fb950"
    style.stroke-width: 2
    style.font-color: "#e6edf3"
  }
  control_flow: {
    style.stroke: "#8b949e"
    style.stroke-dash: 3
    style.font-color: "#e6edf3"
  }
}

test_execution: Test Execution Engine {
  class: container
  
  test_runner: Test Runner {
    class: component
    shape: rectangle
  }
  
  fixture_manager: Fixture Manager {
    class: component
    shape: rectangle
  }
  
  test_runner -> fixture_manager: setup/teardown {
    class: control_flow
  }
}

test_verification: Test Verification {
  class: container
  
  assertion_framework: Assertion Framework {
    class: component
    shape: rectangle
  }
  
  mock_system: Mock System {
    class: component
    shape: rectangle
  }
  
  assertion_framework <-> mock_system: verify interactions {
    class: control_flow
  }
}

test_output: Test Output {
  class: container
  
  reporting_engine: Reporting Engine {
    class: component
    shape: rectangle
  }
  
  test_results: Test Results Store {
    class: component
    shape: cylinder
  }
  
  reporting_engine -> test_results: store results {
    class: data_flow
  }
}

test_execution.test_runner -> test_verification.assertion_framework: execute assertions {
  class: data_flow
}

test_execution.test_runner -> test_verification.mock_system: inject mocks {
  class: data_flow
}

test_verification.assertion_framework -> test_output.reporting_engine: assertion results {
  class: data_flow
}

test_verification.mock_system -> test_output.reporting_engine: mock verification {
  class: data_flow
}

test_execution.fixture_manager -> test_verification.assertion_framework: test data {
  class: data_flow
}

test_execution.fixture_manager -> test_verification.mock_system: mock configuration {
  class: data_flow
}

data_flow_legend: |md
  **Data Flow Legend**
  
  → Solid: Data/Results Flow
  ⇢ Dashed: Control Flow
| {
  shape: page
  near: bottom-right
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}