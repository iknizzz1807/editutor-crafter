classes: {
  component: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  
  storage: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  flow: {
    style.stroke: "#8b949e"
    style.font-color: "#8b949e"
  }
}

title: System Architecture Overview {
  near: top-center
  style.font-size: 20
  style.bold: true
  style.font-color: "#e6edf3"
}

api: API Server {
  shape: rectangle
  class: component
  rest: REST Endpoints
  query: Query Processing
  validation: Input Validation
}

hnsw: HNSW Index {
  shape: rectangle
  class: component
  graph: Graph Structure
  layers: Multi-layer Index
  navigation: Search Navigation
}

storage: Storage Engine {
  shape: cylinder
  class: storage
  vectors: Vector Storage
  metadata: Metadata Store
  persistence: Disk Persistence
}

metrics: Distance Metrics {
  shape: rectangle
  class: component
  cosine: Cosine Similarity
  euclidean: Euclidean Distance
  dot: Dot Product
}

# Data flow connections
api -> hnsw: Search Queries {
  class: flow
}

hnsw -> metrics: Calculate Distances {
  class: flow
}

hnsw <-> storage: Read/Write Vectors {
  class: flow
}

api <-> storage: Store/Retrieve Data {
  class: flow
}

metrics -> hnsw: Distance Results {
  class: flow
}

# External connections
client: Client Applications {
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

client -> api: HTTP Requests {
  class: flow
}

api -> client: Search Results {
  class: flow
}