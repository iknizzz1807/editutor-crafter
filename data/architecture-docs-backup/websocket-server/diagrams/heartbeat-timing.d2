shape: sequence_diagram

client: WebSocket Client
server: WebSocket Server

server -> client: ping frame (opcode 0x9) {
  style.stroke: "#3fb950"
}
client -> server: pong response (opcode 0xA) {
  style.stroke: "#58a6ff"
}

server -> client: ping frame {
  style.stroke: "#3fb950"
}
client -> server: pong response {
  style.stroke: "#58a6ff"
}

server -> client: ping frame {
  style.stroke: "#3fb950"
}
client -> server: pong response {
  style.stroke: "#58a6ff"
}

server -> client: ping frame {
  style.stroke: "#3fb950"
}

server -> client: ping frame (retry) {
  style.stroke: "#f1c40f"
}

server -> client: ping frame (retry) {
  style.stroke: "#f1c40f"
}

server -> server: timeout detected - no pong received {
  style.stroke: "#d63031"
}

server -> client: close connection (timeout) {
  style.stroke: "#d63031"
}

client.style.fill: "#1a1a2e"
client.style.stroke: "#3fb950"
client.style.font-color: "#e6edf3"

server.style.fill: "#1a1a2e"
server.style.stroke: "#3fb950"
server.style.font-color: "#e6edf3"