DAG Execution Sequence: {
  shape: sequence_diagram
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

classes: {
  actor_style: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  message_style: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

DAG Execution Sequence.scheduler: Scheduler {
  class: actor_style
}

DAG Execution Sequence.executor: Executor {
  class: actor_style
}

DAG Execution Sequence.worker: Worker {
  class: actor_style
}

DAG Execution Sequence.database: Database {
  class: actor_style
}

DAG Execution Sequence.scheduler -> DAG Execution Sequence.scheduler: Check schedule triggers
DAG Execution Sequence.scheduler -> DAG Execution Sequence.database: Query DAG definitions
DAG Execution Sequence.database -> DAG Execution Sequence.scheduler: Return DAG config
DAG Execution Sequence.scheduler -> DAG Execution Sequence.database: Create DAGRun instance
DAG Execution Sequence.database -> DAG Execution Sequence.scheduler: DAGRun created
DAG Execution Sequence.scheduler -> DAG Execution Sequence.executor: Submit ready tasks
DAG Execution Sequence.executor -> DAG Execution Sequence.database: Check task dependencies
DAG Execution Sequence.database -> DAG Execution Sequence.executor: Dependency status
DAG Execution Sequence.executor -> DAG Execution Sequence.worker: Assign task
DAG Execution Sequence.worker -> DAG Execution Sequence.database: Update task status (RUNNING)
DAG Execution Sequence.worker -> DAG Execution Sequence.worker: Execute task logic
DAG Execution Sequence.worker -> DAG Execution Sequence.database: Update task status (SUCCESS/FAILED)
DAG Execution Sequence.worker -> DAG Execution Sequence.executor: Task completion signal
DAG Execution Sequence.executor -> DAG Execution Sequence.database: Check downstream dependencies
DAG Execution Sequence.database -> DAG Execution Sequence.executor: Ready tasks list
DAG Execution Sequence.executor -> DAG Execution Sequence.scheduler: Queue next ready tasks
DAG Execution Sequence.scheduler -> DAG Execution Sequence.database: Update DAGRun status