direction: right

Transaction: {
  shape: class
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
  
  TxID: "string"
  Participants: "Participant array"
  State: "TransactionState"
  Operations: "Operation array"
  Votes: "map of votes"
  Decision: "Decision"
}

Participant: {
  shape: class
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
  
  ID: "string"
  Address: "string"
  State: "ParticipantState"
}

LogEntry: {
  shape: class
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
  
  TxID: "string"
  Timestamp: "time"
  Type: "LogType"
  State: "TransactionState"
  Data: "byte array"
}

CoordinatorState: {
  shape: class
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
  
  StateInit: ""
  StatePreparing: ""
  StateAborted: ""
  StateCommitted: ""
  StateCompleted: ""
}

ParticipantState: {
  shape: class
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
  
  StateIdle: ""
  StatePrepared: ""
  StateCommitted: ""
  StateAborted: ""
}

Message: {
  shape: class
  style.fill: "#16213e"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
  
  TxID: "string"
  Type: "MessageType"
  From: "string"
  To: "string"
  Payload: "byte array"
}

Transaction -> Participant: "1:N has" {
  style.stroke: "#3fb950"
  style.animated: true
}

Transaction -> LogEntry: "1:N logs" {
  style.stroke: "#3fb950"
  style.animated: true
}

Transaction -> CoordinatorState: "uses" {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

Participant -> ParticipantState: "uses" {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

Transaction -> Message: "sends/receives" {
  style.stroke: "#8b949e"
}

Participant -> Message: "sends/receives" {
  style.stroke: "#8b949e"
}