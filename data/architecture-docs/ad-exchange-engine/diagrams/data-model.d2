title: Core Data Model Relationships {
  near: top-center
  style.font-size: 20
  style.bold: true
  style.font-color: "#e6edf3"
}

# BidRequest class
BidRequest: |md
  **BidRequest**

  Fields:
  - id: string
  - auction_type: AuctionType
  - timestamp: int64
  - device_info: DeviceInfo
  - geo_location: GeoLocation
  - user_id: string
  - ad_slots: AdSlot[]
  - timeout_ms: int32

  Methods:
  + validate(): Result
  + serialize(): bytes
  + get_user_id(): string
| {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# BidResponse class
BidResponse: |md
  **BidResponse**

  Fields:
  - request_id: string
  - bidder_id: string
  - bids: Bid[]
  - processing_time_ms: int32
  - currency: Currency

  Methods:
  + validate(): Result
  + serialize(): bytes
  + get_winning_bid(): Bid
| {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# UserProfile class
UserProfile: |md
  **UserProfile**

  Fields:
  - user_id: string
  - demographics: Demographics
  - interests: Category[]
  - behavior_segments: Segment[]
  - last_seen: int64
  - frequency_caps: FrequencyCap[]
  - consent_flags: ConsentData

  Methods:
  + match_targeting(): bool
  + update_profile(): void
  + get_segments(): Segment[]
| {
  shape: rectangle
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# Campaign class
Campaign: |md
  **Campaign**

  Fields:
  - campaign_id: string
  - advertiser_id: string
  - targeting_criteria: TargetingCriteria
  - budget_remaining: Money
  - bid_strategy: BidStrategy
  - creative_assets: Creative[]
  - start_time: int64
  - end_time: int64
  - status: CampaignStatus

  Methods:
  + can_bid(): bool
  + calculate_bid(): Money
  + update_budget(): void
| {
  shape: rectangle
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# Bid class
Bid: |md
  **Bid**

  Fields:
  - bid_id: string
  - campaign_id: string
  - price: Money
  - creative_id: string
  - ad_slot_id: string

  Methods:
  + compare_price(): int
| {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# AdSlot class
AdSlot: |md
  **AdSlot**

  Fields:
  - slot_id: string
  - dimensions: Dimensions
  - position: Position
  - allowed_formats: Format[]
  - floor_price: Money
| {
  shape: rectangle
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# TargetingCriteria class
TargetingCriteria: |md
  **TargetingCriteria**

  Fields:
  - geo_targets: GeoTarget[]
  - demographic_targets: DemoTarget[]
  - interest_categories: Category[]
  - device_types: DeviceType[]
  - time_ranges: TimeRange[]

  Methods:
  + matches(): bool
| {
  shape: rectangle
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

# Relationships
BidRequest -> UserProfile: looks up user profile
BidRequest -> BidResponse: generates response
BidResponse -> Bid: contains bids
Campaign -> Bid: creates bids
Campaign -> TargetingCriteria: defines targeting
TargetingCriteria -> UserProfile: evaluates against profile
BidRequest -> AdSlot: includes ad slots
Bid -> AdSlot: targets specific slot
