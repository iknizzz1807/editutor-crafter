title: "State Machine: While Loop Execution"

# Define a class for consistent state styling
classes: {
  state_node: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  initial_state: {
    style.fill: "#3fb950"
    style.stroke: "#3fb950"
    label: ""
  }
  final_state: {
    style.stroke: "#3fb950"
    style.double-border: true
  }
}

# Initial state marker
init: {
  shape: circle
  class: initial_state
}

# Main states
Evaluate_Condition: Evaluate Condition {
  class: state_node
  shape: diamond
}

Execute_Body: Execute Body {
  class: state_node
}

Check_for_Break_Continue: Check for Break/Continue {
  class: state_node
  shape: diamond
}

Handle_Jump_or_Proceed: Handle Jump or Proceed {
  class: state_node
}

Loop_End: Loop End {
  shape: circle
  class: final_state
}

# Transitions
init -> Evaluate_Condition: Begin

Evaluate_Condition -> Execute_Body: Condition True
Evaluate_Condition -> Loop_End: Condition False

Execute_Body -> Check_for_Break_Continue: Body Executed

Check_for_Break_Continue -> Handle_Jump_or_Proceed
Check_for_Break_Continue.3 -> Loop_End: "Break encountered" {
  style.stroke-dash: 3
  style.stroke: "#ff6b6b"
}
Check_for_Break_Continue.2 -> Evaluate_Condition: "Continue encountered" {
  style.stroke-dash: 3
  style.stroke: "#4ecdc4"
}

Handle_Jump_or_Proceed -> Evaluate_Condition: Proceed to next iteration