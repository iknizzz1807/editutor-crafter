title: System Component Diagram

AST: Abstract Syntax Tree {
  shape: rectangle
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  label: |md
    **Abstract Syntax Tree**
    - Immutable parse tree
    - Represents program structure
    - Nodes for statements/expressions
  |
}

Evaluator: Tree-Walking Evaluator {
  shape: rectangle
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  label: |md
    **Tree-Walking Evaluator**
    - Recursive traversal
    - Node-type handlers
    - Dispatch logic
  |
}

Environment Chain: Environment Chain {
  shape: rectangle
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  label: |md
    **Environment Chain**
    - Variable bindings
    - Lexical scoping
    - Parent references
  |
}

Current Environment: Current Environment {
  shape: rectangle
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.double-border: true
  style.bold: true
  style.font-color: "#e6edf3"
  label: |md
    **Current Environment**
    - Active scope
    - Read/write operations
    - Parent chain access
  |
}

Parent Environment: Parent Environment {
  shape: rectangle
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

Global Environment: Global Environment {
  shape: rectangle
  style.fill: "#0f3460"
  style.stroke: "#8b949e"
  style.font-color: "#e6edf3"
}

Environment Chain -> Current Environment
Current Environment -> Parent Environment
Parent Environment -> Global Environment

Evaluator -> AST: "reads tree structure"
Evaluator -> Current Environment: "reads/writes variables"
Evaluator -> Environment Chain: "navigates scopes"

Environment Chain.note: {
  shape: page
  label: |md
    **Environment Chain Characteristics**
    - Linked list of scopes
    - Inner to Outer lookup
    - Supports closures
  |
  style.fill: "#1a1a2e"
  style.font-color: "#e6edf3"
}

AST.note: {
  shape: page
  label: |md
    **AST Node Types**
    - Literal values
    - Variable references
    - Binary operations
    - Block statements
    - Function definitions
  |
  style.fill: "#1a1a2e"
  style.font-color: "#e6edf3"
}

Evaluator.note: {
  shape: page
  label: |md
    **Evaluation Process**
    1. Receive AST node
    2. Dispatch by node type
    3. Process recursively
    4. Return result
  |
  style.fill: "#1a1a2e"
  style.font-color: "#e6edf3"
}