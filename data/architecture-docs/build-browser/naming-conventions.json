{
  "types": {
    "BrowserEngine": "viewport_size: Rectangle",
    "Point": "x: f32, y: f32",
    "Size": "width: f32, height: f32",
    "Rectangle": "origin: Point, size: Size",
    "Color": "r: u8, g: u8, b: u8, a: u8",
    "Unit": "Px, Percent, Em, Auto variants",
    "HTMLParser": "static methods for parsing",
    "StyleResolver": "stylesheet: Stylesheet",
    "LayoutEngine": "viewport_size: Rectangle",
    "RenderEngine": "viewport_size: Rectangle",
    "DOMNode": "node_type: DOMNodeType, parent: Option<DOMNodeHandle>, children: Vec<DOMNodeHandle>",
    "Stylesheet": "rules: Vec<CSSRule>, origin: StylesheetOrigin, media_queries: Vec<MediaQuery>",
    "LayoutTree": "tree with computed layout",
    "DisplayList": "commands: Vec<PaintCommand>, viewport: Rectangle",
    "ElementData": "tag_name: String, attributes: HashMap<String, String>, namespace: Option<String>, is_void: bool",
    "DocumentData": "doctype: Option<String>, title: Option<String>, base_url: Option<String>, character_encoding: String",
    "CSSRule": "selector: Selector, declarations: Vec<Declaration>, specificity: Specificity, source_order: u32",
    "Selector": "Universal, Type, Class, ID, Attribute variants",
    "Specificity": "inline: u32, ids: u32, classes: u32, elements: u32",
    "Declaration": "property: String, value: CSSValue, important: bool",
    "CSSValue": "enum variants Length, Color, Keyword, String, Number",
    "ComputedStyle": "display: Display, position: Position, dimensions, colors, spacing",
    "LayoutBox": "box_type: BoxType, rectangles, children, computed_style",
    "BoxType": "BlockContainer, InlineContainer, TextBox, AnonymousBlock, LineBox",
    "PaintCommand": "DrawRectangle, DrawText, DrawBorder variants",
    "HTMLToken": "StartTag, EndTag, Text, Comment variants",
    "TokenizerState": "Data, TagOpen, TagName, BeforeAttributeName states",
    "TreeBuilder": "document: DOMNodeHandle, open_elements: Vec<DOMNodeHandle>",
    "ParseError": "UnexpectedEndTag/UnclosedElement/InvalidNesting/MalformedEntity/InvalidCSSSyntax with context",
    "CSSTokenizer": "input: Peekable<Chars>, position: usize",
    "CSSToken": "enum with Identifier, String, Hash, Dimension, Number, Percentage, Function, delimiters",
    "CSSParser": "tokens: Vec<CSSToken>, position: usize",
    "BoxOffsets": "top: f32, right: f32, bottom: f32, left: f32",
    "LineBox": "baseline_y: f32, line_height: f32, content_width: f32, elements: Vec<InlineElement>",
    "InlineElement": "content_rect: Rectangle, baseline_offset: f32, element_type: InlineElementType",
    "TextMetrics": "advance_width: f32, ascent: f32, descent: f32, line_height: f32",
    "FontInfo": "family: String, size: f32, weight: u16, style: FontStyle",
    "SimpleTextMeasurer": "char_width: f32, line_height: f32",
    "BrowserError": "Parse/Layout/Render/Resource variants",
    "ErrorContext": "location: String, severity: ErrorSeverity, recoverable: bool, suggested_fallback: Option<String>",
    "ErrorSeverity": "Warning/Error/Critical enum",
    "RenderError": "GraphicsContextLost/FontLoadFailed/OutOfMemory/CoordinateOverflow/UnsupportedOperation with context",
    "LayoutError": "layout calculation error types",
    "ResourceError": "resource management error types",
    "HTMLErrorRecovery": "open_elements: Vec<DOMNodeHandle>, error_count: usize",
    "CSSErrorRecovery": "error_count: usize",
    "LayoutEdgeCaseHandler": "handles layout edge cases",
    "RenderingFallback": "fallback_level: FallbackLevel, software_renderer_available: bool",
    "FallbackLevel": "Hardware/Software/Simple/TextOnly/ErrorDisplay enum",
    "BrowserResult": "Result<T, BrowserError> type alias",
    "DebugContext": "component: String, operation: String, input_sample: String, stack_trace: Vec<String>",
    "TokenizerDebugger": "log_state_transitions: bool, log_token_generation: bool, current_input_position: usize",
    "LayoutDebugger": "show_box_outlines: bool, log_calculations: bool, validate_constraints: bool",
    "RenderDebugger": "log_paint_commands: bool, validate_coordinates: bool, measure_performance: bool",
    "RenderingReport": "command_count: usize, coordinate_warnings: Vec<String>, performance_metrics: Option<RenderingMetrics>",
    "RenderingMetrics": "paint_command_generation_time: Duration, graphics_backend_time: Duration, total_rendering_time: Duration",
    "FlexContainer": "flex_direction: FlexDirection, justify_content: JustifyContent, align_items: AlignItems, flex_wrap: FlexWrap",
    "FlexItem": "flex_grow: f32, flex_shrink: f32, flex_basis: f32, main_size: f32, cross_size: f32",
    "FlexDirection": "enum Row, Column, RowReverse, ColumnReverse",
    "FlexWrap": "enum Nowrap, Wrap, WrapReverse",
    "KeyframeRule": "name: String, keyframes: Vec<Keyframe>",
    "Keyframe": "percentage: f32, declarations: Vec<Declaration>",
    "ActiveAnimation": "element: DOMNodeHandle, keyframe_rule: String, duration: Duration, start_time: Instant, current_values: HashMap<String, CSSValue>, timing_function: TimingFunction",
    "AnimationEngine": "active_animations: HashMap<AnimationId, ActiveAnimation>, keyframe_rules: HashMap<String, KeyframeRule>, animation_scheduler: AnimationScheduler, start_time: Instant",
    "TimingFunction": "enum Linear, Ease, EaseIn, EaseOut, EaseInOut, CubicBezier",
    "IncrementalRenderer": "dom_versions: HashMap<DOMNodeHandle, u64>, style_versions: HashMap<DOMNodeHandle, u64>, layout_versions: HashMap<DOMNodeHandle, u64>, damage_tracker: DamageTracker, update_scheduler: UpdateScheduler",
    "DamageTracker": "damaged_regions: Vec<Rectangle>, previous_paint_rects: HashMap<DOMNodeHandle, Rectangle>",
    "UpdateScheduler": "pending_dom_changes: HashSet<DOMNodeHandle>, pending_style_changes: HashSet<DOMNodeHandle>, pending_layout_changes: HashSet<DOMNodeHandle>, frame_pending: bool",
    "InvalidationType": "enum Style, Layout, Paint",
    "UpdateResult": "elements_styled: usize, elements_laid_out: usize, damage_rectangles: Vec<Rectangle>, total_damage_area: f32",
    "PerformanceProfiler": "frame_times: Vec<Duration>, component_times: HashMap<String, Duration>, memory_usage: MemoryStats, render_stats: RenderingStats",
    "MemoryStats": "dom_nodes: usize, layout_boxes: usize, cached_styles: usize, total_memory_mb: f32",
    "RenderingStats": "paint_commands_generated: usize, damage_rectangles: usize, pixels_painted: usize, cache_hit_rate: f32",
    "TimerHandle": "component: String, start_time: Instant",
    "PerformanceReport": "average_frame_time: Duration, fps: f32, bottleneck_component: String, memory_usage_mb: f32, cache_efficiency: f32, recommendations: Vec<String>",
    "DOMNodeHandle": "reference to DOM node"
  },
  "methods": {
    "render_page(html: &str, css: &str) -> Result<Vec<u8>, String>": "complete rendering pipeline",
    "new(viewport_width: f32, viewport_height: f32) -> BrowserEngine": "create engine with viewport",
    "contains_point(&self, point: Point) -> bool": "checks if rectangle contains point",
    "intersects(&self, other: &Rectangle) -> bool": "checks rectangle intersection",
    "rgb(r: u8, g: u8, b: u8) -> Color": "creates RGB color",
    "from_hex(hex: &str) -> Result<Color, String>": "parses hex color",
    "parse(input: &str) -> Result<Unit, String>": "parses CSS unit",
    "to_px(&self, parent_value: f32, font_size: f32) -> f32": "converts unit to pixels",
    "get_parent() -> Option<&DOMNode>": "returns parent node reference",
    "get_children() -> &Vec<DOMNode>": "returns children list",
    "append_child(child: DOMNode) -> Result<(), String>": "adds child with validation",
    "get_text_content() -> String": "extracts concatenated text content",
    "matches_element(selector: &Selector, element: &DOMNode) -> bool": "test selector matching",
    "calculate_specificity(selector: &Selector) -> Specificity": "computes specificity tuple",
    "resolve_cascade(element: &DOMNode, rules: Vec<&CSSRule>) -> ComputedStyle": "applies cascade algorithm",
    "calculate_box_model(&mut self, available_width: f32)": "computes box model dimensions",
    "layout_block_children(&mut self, available_width: f32)": "positions child elements vertically in block formatting context",
    "parse_html(input: &str) -> Result<DOMNodeHandle, Vec<ParseError>>": "main parsing entry point",
    "next_token(&mut self) -> Option<HTMLToken>": "tokenizer state machine step",
    "process_token(&mut self, token: HTMLToken) -> Result<(), ParseError>": "tree builder token processing",
    "insert_element(&mut self, tag_name: String, attributes: HashMap<String, String>) -> Result<DOMNodeHandle, ParseError>": "creates and inserts element node",
    "close_element(&mut self, tag_name: &str) -> Result<(), ParseError>": "handles end tag processing with error recovery",
    "parse_stylesheet(css: &str) -> Result<Vec<CSSRule>, String>": "main CSS parsing entry point",
    "next_token() -> CSSToken": "tokenizer state machine step",
    "parse_rule() -> Result<CSSRule, String>": "parse single CSS rule",
    "parse_selector() -> Result<Selector, String>": "parse CSS selector with combinators",
    "parse_declarations() -> Vec<Declaration>": "parse property-value pairs",
    "parse_value(property: &str) -> Result<CSSValue, String>": "parse typed CSS values",
    "calculate(selector: &Selector) -> Specificity": "compute CSS specificity",
    "compare(&self, other: &Specificity) -> Ordering": "compare specificity values",
    "resolve_styles(root: &DOMNode) -> ComputedStyle": "main style resolution entry",
    "resolve_element_style(element: &DOMNode, inherited: &ComputedStyle) -> ComputedStyle": "resolve styles for single element",
    "calculate_box_model(&mut self, containing_block_size: Size)": "computes margin, border, padding, and content rectangles",
    "layout_inline_content(&mut self, available_width: f32, text_measurer: &SimpleTextMeasurer)": "flows content horizontally with line breaking",
    "horizontal_total(&self) -> f32": "sum of left and right offsets",
    "vertical_total(&self) -> f32": "sum of top and bottom offsets",
    "measure_text(&self, text: &str, style: &ComputedStyle) -> TextMetrics": "calculates text dimensions and metrics",
    "find_line_break_opportunity(&self, text: &str, max_width: f32, text_measurer: &SimpleTextMeasurer) -> usize": "finds optimal text break point",
    "calculate_margin_collapse(&self, margin1: f32, margin2: f32) -> f32": "implements margin collapsing algorithm",
    "generate_display_list(layout_root: &LayoutBox) -> Result<DisplayList, String>": "converts layout tree to paint commands",
    "render_to_canvas(display_list: &DisplayList) -> Result<Vec<u8>, String>": "executes paint commands to canvas",
    "should_continue(error: &BrowserError) -> bool": "determines if processing should continue after error",
    "log_error(error: &BrowserError)": "logs error with appropriate severity level",
    "apply_fallback(error: &BrowserError, default: T) -> T": "applies fallback value when error occurs",
    "close_all_open_elements() -> BrowserResult<()>": "auto-closes unclosed HTML elements",
    "foster_parent_element(child_tag: &str, parent_tag: &str, child_node: DOMNodeHandle) -> BrowserResult<DOMNodeHandle>": "implements foster parenting for misplaced elements",
    "recover_malformed_tag(tag_text: &str) -> BrowserResult<HTMLToken>": "attempts to repair malformed HTML tags",
    "skip_to_recovery_point(tokens: &[CSSToken], position: usize) -> usize": "finds next valid CSS parsing position",
    "recover_property_value(property: &str, value: &str) -> BrowserResult<CSSValue>": "validates and recovers invalid CSS values",
    "resolve_percentage_cycles(element: &mut LayoutBox, available_width: f32) -> BrowserResult<()>": "resolves circular percentage dependencies",
    "calculate_margin_collapse(margin1: f32, margin2: f32, context: &str) -> BrowserResult<f32>": "implements margin collapsing algorithm",
    "resolve_over_constraint(available_width: f32, computed_style: &ComputedStyle) -> BrowserResult<BoxOffsets>": "handles over-constrained box model",
    "render_with_fallback(display_list: &DisplayList) -> BrowserResult<Vec<u8>>": "attempts rendering with progressive fallback",
    "handle_font_failure(requested_font: &FontInfo, text: &str) -> BrowserResult<TextMetrics>": "handles font loading failures with fallback",
    "handle_resource_pressure() -> BrowserResult<()>": "manages memory pressure and resource limits",
    "log_state_transition(&self, from_state: TokenizerState, to_state: TokenizerState, input_char: char, position: usize)": "logs tokenizer state machine transitions",
    "log_token_generated(&self, token: &HTMLToken, position: usize)": "logs generated HTML tokens",
    "print_dom_tree(node: &DOMNode, indent: usize)": "visualizes DOM tree structure",
    "log_box_calculation(&self, element: &str, computed_style: &ComputedStyle, containing_block: Size, result: &LayoutBox)": "logs box model calculations",
    "validate_box_model(&self, layout_box: &LayoutBox) -> Vec<String>": "validates box model correctness",
    "generate_debug_overlay(&self, layout_box: &LayoutBox) -> Vec<PaintCommand>": "generates visual debugging overlays",
    "analyze_display_list(&self, display_list: &DisplayList) -> RenderingReport": "analyzes display list for issues",
    "report_parse_error(error: &ParseError, context: &DebugContext)": "reports parsing errors with context",
    "calculate_flexbox_layout(&mut self, available_size: Size)": "main entry point for flexbox layout calculations",
    "resolve_flex_basis(&self, item: &mut LayoutBox, available_main_size: f32) -> f32": "resolve flex-basis for each flex item",
    "distribute_flex_space(&mut self, items: &mut [FlexItem], available_space: f32)": "distribute available free space among flex items",
    "align_cross_axis(&mut self, items: &mut [LayoutBox], container_cross_size: f32)": "align flex items along cross axis",
    "is_main_axis_horizontal(&self) -> bool": "determine if main axis is horizontal",
    "main_axis_size(&self, size: Size) -> f32": "get main axis size from Size struct",
    "cross_axis_size(&self, size: Size) -> f32": "get cross axis size from Size struct",
    "flex_direction(&self) -> FlexDirection": "extract flex direction from computed style",
    "flex_grow(&self) -> f32": "extract flex grow from computed style",
    "flex_shrink(&self) -> f32": "extract flex shrink from computed style",
    "flex_basis(&self) -> f32": "extract flex basis from computed style",
    "update_animations(&mut self) -> Vec<DOMNodeHandle>": "update all active animations",
    "start_animation(&mut self, element: DOMNodeHandle, animation_name: &str, duration: Duration) -> Result<AnimationId, String>": "start new animation",
    "interpolate_keyframes(&self, keyframes: &[Keyframe], progress: f32) -> HashMap<String, CSSValue>": "interpolate between keyframes",
    "apply_timing_function(&self, progress: f32, timing: &TimingFunction) -> f32": "apply timing function to progress",
    "interpolate(&self, other: &Self, progress: f32) -> Self": "interpolate between CSS values",
    "should_update(&mut self) -> bool": "check if it's time for next animation frame",
    "invalidate_style(&mut self, element: DOMNodeHandle)": "mark element for style recalculation",
    "invalidate_layout(&mut self, element: DOMNodeHandle)": "mark element for layout recalculation",
    "perform_incremental_update(&mut self) -> UpdateResult": "perform incremental update cycle",
    "compute_damage_regions(&mut self, layout_changes: &[LayoutBox]) -> Vec<Rectangle>": "compute minimal damage rectangles",
    "needs_style_update(&self, element: DOMNodeHandle) -> bool": "check if element needs style update",
    "add_damage(&mut self, rect: Rectangle)": "add damaged rectangle",
    "take_damage(&mut self) -> Vec<Rectangle>": "get and clear damage rectangles",
    "schedule_frame(&mut self)": "schedule update frame",
    "has_pending_updates(&self) -> bool": "check for pending updates",
    "start_timer(&mut self, component: &str) -> TimerHandle": "start timing component",
    "record_time(&mut self, component: String, duration: Duration)": "record component timing",
    "generate_report(&self) -> PerformanceReport": "generate performance report",
    "render_page(html: &str, css: &str)": "complete rendering pipeline",
    "parse_html(input: &str)": "main HTML parsing entry point",
    "parse_stylesheet(css: &str)": "main CSS parsing entry point",
    "generate_display_list(layout_root: &LayoutBox)": "converts layout tree to paint commands",
    "matches_element(selector: &Selector, element: &DOMNode)": "test selector matching",
    "calculate_specificity(selector: &Selector)": "computes specificity tuple",
    "resolve_cascade(element: &DOMNode, rules: Vec<&CSSRule>)": "applies cascade algorithm"
  },
  "constants": {
    "WHITE": "Color { r: 255, g: 255, b: 255, a: 255 }",
    "BLACK": "Color { r: 0, g: 0, b: 0, a: 255 }",
    "TRANSPARENT": "Color { r: 0, g: 0, b: 0, a: 0 }",
    "VOID_ELEMENTS": "self-closing HTML elements list",
    "HTML_ENTITIES": "named character entity lookup table",
    "AnimationId": "u64 type alias for animation identification"
  },
  "terms": {
    "rendering pipeline": "sequential stages transforming HTML/CSS to visual output",
    "assembly line": "mental model for browser processing stages",
    "DOM tree": "hierarchical representation of HTML document structure",
    "style cascade": "CSS rule precedence resolution system",
    "box model": "CSS layout model with margin, border, padding, content areas",
    "layout tree": "tree structure with computed element positions and sizes",
    "display list": "ordered sequence of paint commands for rendering",
    "tokenization": "breaking HTML text into meaningful tokens",
    "specificity": "CSS selector priority calculation",
    "viewport": "visible area dimensions for layout calculations",
    "error recovery": "graceful handling of malformed input with continuation",
    "foster parenting": "moving misplaced HTML content to appropriate parent elements",
    "state machine": "context-sensitive parsing algorithm",
    "void elements": "self-closing tags that cannot contain children",
    "cascade algorithm": "CSS rule precedence resolution system",
    "selector matching": "testing if CSS rules apply to DOM elements",
    "computed styles": "final resolved CSS property values",
    "inheritance": "automatic copying of properties from parent to child",
    "combinator selectors": "CSS selectors with relationship operators",
    "shorthand properties": "CSS properties that set multiple values",
    "formatting context": "layout algorithm governing element arrangement",
    "margin collapsing": "CSS behavior combining adjacent margins",
    "containing block": "element establishing coordinate system and available space",
    "baseline alignment": "vertical positioning relative to text baseline",
    "line breaking": "algorithm for wrapping content to new lines",
    "available space": "dimensions accessible to child elements",
    "paint command generation": "converting layout tree into drawing operations",
    "graphics backend abstraction": "interface over different graphics libraries",
    "viewport culling": "optimization removing off-screen elements",
    "overdraw elimination": "optimization removing occluded drawing operations",
    "command batching": "grouping similar operations for efficiency",
    "z-order": "depth ordering for element layering",
    "clipping context": "restricted drawing region",
    "stacking context": "CSS layering and z-index management",
    "graceful degradation": "maintaining functionality with reduced quality",
    "cascade error propagation": "coordinating error handling across pipeline stages",
    "fallback cascade": "progressive degradation through simpler rendering",
    "constraint satisfaction": "resolving conflicting layout requirements",
    "over-constraint resolution": "handling impossible CSS combinations",
    "coordinate overflow": "handling positions beyond graphics limits",
    "resource pressure": "managing memory and graphics exhaustion",
    "recovery point": "valid parsing position after error",
    "error boundary isolation": "containing failures to prevent cascading",
    "cascade": "CSS rule precedence resolution system",
    "integration testing": "end-to-end pipeline validation",
    "milestone validation": "specific tests for implementation stages",
    "acceptance criteria": "requirements for milestone completion",
    "test harness": "infrastructure for running and validating tests",
    "reference documents": "curated test inputs with known expected outputs",
    "open elements stack": "stack tracking unclosed HTML elements during parsing",
    "document assembly line": "mental model comparing browser rendering to manufacturing pipeline",
    "document scanner": "mental model for HTML/CSS parsing with error correction",
    "blueprint architect": "mental model for layout calculation process",
    "art gallery curator": "mental model for rendering and visual arrangement",
    "symptom-first approach": "debugging methodology starting from problems",
    "hierarchical visualization": "diagnostic technique for tree structures",
    "dimensional visualization": "diagnostic technique for box model",
    "flow visualization": "diagnostic technique for layout flow",
    "line-by-line analysis": "diagnostic technique for inline layout debugging",
    "command sequence analysis": "diagnostic technique for paint command inspection",
    "external validation": "debugging technique using reference implementations",
    "state machine instrumentation": "adding logging to parser transitions",
    "rule tracing": "debugging technique tracking CSS application",
    "progressive fallback": "rendering strategy with multiple quality levels",
    "flexbox": "CSS flexible box layout system",
    "CSS Grid": "two-dimensional layout system",
    "CSS transforms": "visual manipulation without layout changes",
    "incremental rendering": "optimization processing only changes",
    "layout caching": "preserving computed results",
    "multi-threaded processing": "parallel execution",
    "damage tracking": "identifying regions needing repaint",
    "progressive enhancement": "adding features with compatibility",
    "memory pressure": "resource exhaustion condition",
    "animation interpolation": "calculating intermediate keyframe values",
    "timing functions": "mathematical curves for animation pacing",
    "invalidation propagation": "cascading change notifications",
    "version tracking": "detecting changes through numbering",
    "performance profiling": "measuring system characteristics"
  }
}