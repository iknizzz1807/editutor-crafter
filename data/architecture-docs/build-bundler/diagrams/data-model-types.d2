title: Core Data Type Relationships {
  style.fill: "#0f3460"
}

# Core Data Types
ModuleNode: {
  shape: sql_table
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  id: "string"
  filePath: "string"
  imports: "ImportSpecifier[]"
  exports: "ExportSpecifier[]"
  ast: "ASTNode"
  originalSource: "string"
  transformedSource: "string"
  dependencies: "ModuleNode[]"
  dependents: "ModuleNode[]"
}

ModuleGraph: {
  shape: sql_table
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  nodes: "Map<string, ModuleNode>"
  entryPoints: "ModuleNode[]"
  visitedFiles: "Set<string>"
  moduleCache: "Map<string, ModuleNode>"
  addModule: "fn(filePath: string) -> ModuleNode"
  resolveDependencies: "fn(node: ModuleNode) -> void"
  getModule: "fn(id: string) -> ModuleNode | null"
  topologicalSort: "fn() -> ModuleNode[]"
}

BundleChunk: {
  shape: sql_table
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  id: "string"
  modules: "ModuleNode[]"
  generatedCode: "string"
  sourceMap: "object"
  outputPath: "string"
  size: "number"
  addModule: "fn(module: ModuleNode) -> void"
  generateCode: "fn() -> string"
  writeToDisk: "fn() -> void"
}

# Relationships
ModuleGraph -> ModuleNode: "contains 1..*" {
  style.stroke: "#3fb950"
  style.stroke-width: 3
  style.bold: true
}

ModuleNode -> ModuleNode: "depends on 0..*" {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

BundleChunk -> ModuleNode: "contains 0..*"
