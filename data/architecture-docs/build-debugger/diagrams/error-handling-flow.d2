direction: down

title: Error Handling and Recovery {
  style.font-size: 24
  style.fill: "#0f3460"
  style.font-color: "#e6edf3"
}

start: Start {
  shape: circle
  style.fill: "#3fb950"
  style.font-color: "#1a1a2e"
}

error_detection: Error Detection {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

classification: Error Classification {
  shape: diamond
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

infrastructure: Infrastructure Errors {
  ptrace_fail: ptrace() Failed {
    style.fill: "#d63031"
    style.font-color: "#ffffff"
    style.bold: true
  }
  
  process_lost: Target Process Lost {
    style.fill: "#d63031"
    style.font-color: "#ffffff"
    style.bold: true
  }
  
  memory_access: Memory Access Denied {
    style.fill: "#d63031"
    style.font-color: "#ffffff"
    style.bold: true
  }
  
  style.fill: "#1a1a2e"
  style.stroke: "#e17055"
}

data_corruption: Data Corruption {
  symbol_corrupt: Corrupted Symbol Table {
    style.fill: "#fdcb6e"
    style.font-color: "#1a1a2e"
  }
  
  dwarf_invalid: Invalid DWARF Data {
    style.fill: "#fdcb6e"
    style.font-color: "#1a1a2e"
  }
  
  breakpoint_lost: Lost Breakpoints {
    style.fill: "#fdcb6e"
    style.font-color: "#1a1a2e"
  }
  
  style.fill: "#1a1a2e"
  style.stroke: "#fdcb6e"
}

process_events: Process Events {
  segfault: Segmentation Fault {
    style.fill: "#74b9ff"
    style.font-color: "#1a1a2e"
  }
  
  signal_recv: Signal Received {
    style.fill: "#74b9ff"
    style.font-color: "#1a1a2e"
  }
  
  exit_unexpected: Unexpected Exit {
    style.fill: "#74b9ff"
    style.font-color: "#1a1a2e"
  }
  
  style.fill: "#1a1a2e"
  style.stroke: "#74b9ff"
}

recovery_strategy: Recovery Strategy {
  shape: diamond
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

immediate_response: Immediate Response {
  log_error: Log Error Details {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  safe_state: Preserve Safe State {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  notify_user: Notify User {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
}

graceful_degradation: Graceful Degradation {
  fallback_symbols: Use Fallback Symbols {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  limited_mode: Enter Limited Mode {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  retry_operation: Retry Operation {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  style.fill: "#1a1a2e"
  style.stroke: "#fdcb6e"
}

session_termination: Session Termination {
  cleanup: Cleanup Resources {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  save_state: Save Debug State {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  terminate: Terminate Session {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  
  style.fill: "#1a1a2e"
  style.stroke: "#e17055"
}

end: End {
  shape: circle
  style.fill: "#8b949e"
  style.font-color: "#1a1a2e"
}

start -> error_detection
error_detection -> classification
classification -> infrastructure: Critical
classification -> data_corruption: Recoverable
classification -> process_events: Expected

infrastructure -> recovery_strategy
data_corruption -> recovery_strategy
process_events -> recovery_strategy

recovery_strategy -> session_termination: Infrastructure
recovery_strategy -> graceful_degradation: Data/Process
recovery_strategy -> immediate_response: All Cases

immediate_response -> end
graceful_degradation -> end
session_termination -> end