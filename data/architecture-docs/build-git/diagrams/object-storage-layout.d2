title: Object Store File Layout

git_root: .git Directory {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  objects_dir: objects/ {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
    
    dir_a1: a1/ {
      style.fill: "#0f3460"
      style.stroke: "#8b949e"
      style.font-color: "#e6edf3"
      
      file_a1_1: b6c4c8f9a8d2e3... {
        shape: page
        style.fill: "#2d333b"
        style.stroke: "#8b949e"
        style.font-color: "#e6edf3"
      }
      file_a1_2: 7f8e9d2c1a5b4... {
        shape: page
        style.fill: "#2d333b"
        style.stroke: "#8b949e"
        style.font-color: "#e6edf3"
      }
    }
    
    dir_d6: d6/ {
      style.fill: "#0f3460"
      style.stroke: "#8b949e"
      style.font-color: "#e6edf3"
      
      file_d6_1: 70f02151b7e3a... {
        shape: page
        style.fill: "#2d333b"
        style.stroke: "#8b949e"
        style.font-color: "#e6edf3"
      }
    }
    
    dir_3f: 3f/ {
      style.fill: "#0f3460"
      style.stroke: "#8b949e"
      style.font-color: "#e6edf3"
      
      file_3f_1: a5b2c3d4e5f6... {
        shape: page
        style.fill: "#2d333b"
        style.stroke: "#8b949e"
        style.font-color: "#e6edf3"
      }
      file_3f_2: 12345abcdef... {
        shape: page
        style.fill: "#2d333b"
        style.stroke: "#8b949e"
        style.font-color: "#e6edf3"
      }
      file_3f_3: 9876fedcba... {
        shape: page
        style.fill: "#2d333b"
        style.stroke: "#8b949e"
        style.font-color: "#e6edf3"
      }
    }
  }
}

mapping_example: SHA-1 Hash Mapping {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
  
  full_hash: a1b6c4c8f9a8d2e3f4a5b6c7d8e9f0123456789a {
    shape: page
    style.fill: "#d63031"
    style.font-color: "#ffffff"
    style.stroke: "#e17055"
    style.bold: true
  }
  
  dir_part: First 2 chars: "a1" {
    shape: oval
    style.fill: "#0984e3"
    style.font-color: "#ffffff"
    style.stroke: "#74b9ff"
  }
  
  file_part: Remaining 38 chars:\n"b6c4c8f9a8d2e3f4a5b6c7d8e9f0123456789a" {
    shape: oval
    style.fill: "#00b894"
    style.font-color: "#ffffff"
    style.stroke: "#55efc4"
  }
  
  file_path: .git/objects/a1/b6c4c8f9a8d2e3f4a5b6c7d8e9f0123456789a {
    shape: page
    style.fill: "#6c5ce7"
    style.font-color: "#ffffff"
    style.stroke: "#a29bfe"
    style.bold: true
  }
}

full_hash -> dir_part: split
full_hash -> file_part: split
dir_part -> file_path: directory
file_part -> file_path: filename

git_root.objects_dir -> mapping_example: "Hash-to-path mapping" {
  style.stroke: "#3fb950"
  style.bold: true
}

explanation: |md
  ## Directory Structure Rules
  - First 2 chars of SHA-1 → directory name
  - Remaining 38 chars → filename
  - Prevents too many files per directory
  - Enables efficient object lookup
| {
  shape: page
  style.fill: "#2d333b"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}