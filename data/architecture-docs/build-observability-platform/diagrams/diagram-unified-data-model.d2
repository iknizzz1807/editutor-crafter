title: Unified Data Model Relationships

classes: {
  class_style: {
    shape: class
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  container_style: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  note_style: {
    shape: page
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

title_text: "Unified Data Model Relationships - Inspired by OpenTelemetry Semantic Conventions" {
  shape: text
  style.bold: true
  style.font-size: 20
  style.font-color: "#3fb950"
  style.underline: true
  near: top-center
}

note: "Key Design Principle - Every piece of telemetry carries a universal identification card" {
  class: note_style
  near: top-right
}

Resource: {
  class: class_style
  label: "Resource"
  - service_name
  - service_instance_id
  - service_version
  - deployment_environment
  - cloud_provider
  - cloud_region
  - host_name
  - telemetry_sdk_name
  - telemetry_sdk_version
}

Span: {
  class: class_style
  label: "Span"
  - trace_id
  - span_id
  - parent_span_id
  - name
  - kind
  - start_time
  - end_time
  - attributes
  - events
  - status
}

LogRecord: {
  class: class_style
  label: "LogRecord"
  - timestamp
  - observed_timestamp
  - severity_number
  - severity_text
  - body
  - attributes
  - trace_id
  - span_id
}

MetricPoint: {
  class: class_style
  label: "MetricPoint"
  - name
  - description
  - unit
  - type
  - value
  - timestamp
  - attributes
  - exemplars
}

Resource -> Span: "1..n emits" {
  style.stroke: "#3fb950"
  style.bold: true
  style.stroke-width: 2
}

Resource -> LogRecord: "1..n emits" {
  style.stroke: "#3fb950"
  style.bold: true
  style.stroke-width: 2
}

Resource -> MetricPoint: "1..n emits" {
  style.stroke: "#3fb950"
  style.bold: true
  style.stroke-width: 2
}

Span -> LogRecord: "0..n has many" {
  style.stroke: "#8b949e"
  source-arrowhead.label: "1"
  target-arrowhead.label: "n"
}

Span -> MetricPoint: "0..n optional exemplar links to" {
  style.stroke: "#8b949e"
  source-arrowhead.label: "1"
  target-arrowhead.label: "0..n"
  style.stroke-dash: 3
}

note2: "Correlation Path - trace_id connects Span to LogRecord and MetricPoint" {
  class: note_style
  near: bottom-center
}
