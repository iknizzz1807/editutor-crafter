vars: {
  d2-config: {
    layout-engine: elk
    theme-id: 200
  }
}
title: |md
  # VGA Attribute Byte Format
  **Memory-Mapped I/O Address: 0xB8000**
| {
  near: top-center
}
direction: right
byte_container: {
  style.fill: transparent
  style.stroke: "#333"
  style.stroke-width: 2
  grid-columns: 8
  grid-gap: 0
  b7: |md
    **7**
    BLINK
  | {
    style.fill: "#9B59B6"
    style.stroke: "#6C3483"
    style.font-color: white
  }
  b6: |md
    **6**
    BG2
  | {
    style.fill: "#3498DB"
    style.stroke: "#2471A3"
    style.font-color: white
  }
  b5: |md
    **5**
    BG1
  | {
    style.fill: "#3498DB"
    style.stroke: "#2471A3"
    style.font-color: white
  }
  b4: |md
    **4**
    BG0
  | {
    style.fill: "#3498DB"
    style.stroke: "#2471A3"
    style.font-color: white
  }
  b3: |md
    **3**
    INT
  | {
    style.fill: "#E67E22"
    style.stroke: "#A04000"
    style.font-color: white
  }
  b2: |md
    **2**
    FG2
  | {
    style.fill: "#27AE60"
    style.stroke: "#1E8449"
    style.font-color: white
  }
  b1: |md
    **1**
    FG1
  | {
    style.fill: "#27AE60"
    style.stroke: "#1E8449"
    style.font-color: white
  }
  b0: |md
    **0**
    FG0
  | {
    style.fill: "#27AE60"
    style.stroke: "#1E8449"
    style.font-color: white
  }
}
legend: {
  near: bottom-center
  grid-columns: 2
  grid-gap: 20
  fg_legend: {
    style.fill: "#27AE60"
    style.stroke: "#1E8449"
    style.font-color: white
    label: |md
      **FG [2:0]**
      Foreground Color
      (0-7, 8-15 w/ INT)
    |
  }
  bg_legend: {
    style.fill: "#3498DB"
    style.stroke: "#2471A3"
    style.font-color: white
    label: |md
      **BG [2:0]**
      Background Color
      (0-7)
    |
  }
  int_legend: {
    style.fill: "#E67E22"
    style.stroke: "#A04000"
    style.font-color: white
    label: |md
      **INT (bit 3)**
      Intensity/Bright
      (foreground)
    |
  }
  blink_legend: {
    style.fill: "#9B59B6"
    style.stroke: "#6C3483"
    style.font-color: white
    label: |md
      **BLINK (bit 7)**
      Blink enable
      (or bright BG)
    |
  }
}
vga_cell: {
  near: right-center
  style.fill: transparent
  style.stroke: "#555"
  style.stroke-dash: 3
  cell_layout: |md
    ## VGA Cell Layout
    (2 bytes per character)
    | Offset | Size | Field      |
    |--------|------|------------|
    | +0     | 1    | ASCII char |
    | +1     | 1    | Attribute  |
    **Buffer: 80x25 = 2000 cells**
    **Total: 4000 bytes at 0xB8000**
  |
}
colors: {
  near: bottom-right
  style.fill: transparent
  color_table: |md
    ## Standard VGA Colors
    | Val | Color      | Bright (INT=1) |
    |-----|------------|----------------|
    | 0   | Black      | Dark Gray      |
    | 1   | Blue       | Light Blue     |
    | 2   | Green      | Light Green    |
    | 3   | Cyan       | Light Cyan     |
    | 4   | Red        | Light Red      |
    | 5   | Magenta    | Light Magenta  |
    | 6   | Brown      | Yellow         |
    | 7   | Light Grey | White          |
  |
}
example: {
  near: top-right
  style.fill: "#F8F9FA"
  style.stroke: "#DEE2E6"
  examples: |md
    ## Example Values
    | Hex  | Binary    | Result            |
    |------|-----------|-------------------|
    | 0x0F | 00001111  | White on Black    |
    | 0x1F | 00011111  | Bright White      |
    | 0x4E | 01001110  | Yellow on Red     |
    | 0x87 | 10000111  | Blinking Grey     |
    | 0xFC | 11111100  | Blink Red on White|
  |
}