[
  {
    "milestone_id": "build-os-m1",
    "criteria": [
      "Bootloader code fits within MBR constraints (512 bytes with 0x55AA signature at bytes 510-511) or implements two-stage loading",
      "Bootloader reads kernel binary from disk using BIOS INT 13h and loads it to physical address 0x100000 (1MB mark)",
      "A20 line is successfully enabled using at least one method (BIOS INT 15h/2401, fast A20 via port 0x92, or keyboard controller)",
      "GDT is configured with exactly 5 entries: null descriptor (index 0), kernel code segment (ring 0, base=0, limit=4GB, executable+readable), kernel data segment (ring 0, base=0, limit=4GB, writable), user code segment (ring 3), user data segment (ring 3)",
      "GDTR is loaded with lgdt instruction before setting CR0.PE",
      "Protected mode is entered by setting CR0.PE bit (bit 0 of CR0) to 1",
      "Far jump (jmp 0x08:label) is executed after CR0.PE is set to load CS with kernel code selector and flush the instruction pipeline",
      "All data segment registers (DS, ES, FS, GS, SS) are loaded with kernel data selector (0x10) after protected mode entry",
      "32-bit stack pointer (ESP) is initialized to a valid memory region below 1MB or above kernel load address",
      "Kernel entry point (in assembly) zeroes the BSS section from __bss_start to __bss_end as defined in linker script",
      "C entry point function is called with proper stack alignment and direction flag cleared (cld)",
      "VGA text mode driver writes characters with color attributes to memory-mapped buffer at 0xB8000",
      "Serial port COM1 (0x3F8) is initialized with 115200 baud, 8N1 configuration",
      "kprintf-style function supports basic format specifiers (%c, %s, %d, %x, %p) and outputs to both VGA and serial",
      "Linker script places .text section at 0x100000 with proper section alignment (4KB page-aligned sections)",
      "Kernel boots successfully in QEMU and displays welcome message on both VGA console and serial output",
      "Build system produces valid bootable disk image with bootloader in sector 0 and kernel starting at sector 2"
    ]
  }
]