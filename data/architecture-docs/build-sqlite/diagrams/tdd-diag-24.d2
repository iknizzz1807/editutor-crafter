direction: right

Closed: {
  shape: circle
  style: {
    fill: "#E8E8E8"
    stroke: "#666666"
    font-color: "#333333"
  }
}

Open: {
  shape: circle
  style: {
    fill: "#E3F2FD"
    stroke: "#1976D2"
    font-color: "#0D47A1"
  }
}

BeforeFirst: {
  shape: circle
  style: {
    fill: "#E8F5E9"
    stroke: "#388E3C"
    font-color: "#1B5E20"
  }
}

OnRow: {
  shape: circle
  style: {
    fill: "#FFF3E0"
    stroke: "#F57C00"
    font-color: "#E65100"
  }
}

AfterLast: {
  shape: circle
  style: {
    fill: "#FCE4EC"
    stroke: "#C2185B"
    font-color: "#880E4F"
  }
}

Closed -> Open: {
  label: "Open()"
  style: {
    stroke: "#1976D2"
    stroke-width: 3
  }
}

Open -> BeforeFirst: {
  label: "First()"
  style: {
    stroke: "#388E3C"
    stroke-width: 3
  }
}

BeforeFirst -> OnRow: {
  label: "rows exist"
  style: {
    stroke: "#F57C00"
    stroke-width: 3
  }
}

BeforeFirst -> AfterLast: {
  label: "empty table"
  style: {
    stroke: "#C2185B"
    stroke-width: 3
    stroke-dash: 3
  }
}

OnRow -> OnRow: {
  label: "Next() → more rows"
  style: {
    stroke: "#F57C00"
    stroke-width: 3
  }
}

OnRow -> AfterLast: {
  label: "Next() → exhausted"
  style: {
    stroke: "#C2185B"
    stroke-width: 3
  }
}

Open -> Closed: {
  label: "Close()"
  style: {
    stroke: "#666666"
    stroke-width: 2
    stroke-dash: 5
  }
}

BeforeFirst -> Closed: {
  label: "Close()"
  style: {
    stroke: "#666666"
    stroke-width: 2
    stroke-dash: 5
  }
}

OnRow -> Closed: {
  label: "Close()"
  style: {
    stroke: "#666666"
    stroke-width: 2
    stroke-dash: 5
  }
}

AfterLast -> Closed: {
  label: "Close()"
  style: {
    stroke: "#666666"
    stroke-width: 2
    stroke-dash: 5
  }
}

INVALID_TRANSITIONS: {
  shape: rectangle
  style: {
    fill: "#FFEBEE"
    stroke: "#D32F2F"
    stroke-width: 2
    font-color: "#B71C1C"
  }
  
  Invalid_Next_from_Closed: "❌ Next() from Closed"
  Invalid_First_from_Closed: "❌ First() from Closed"
  Invalid_Next_from_BeforeFirst: "❌ Next() from BeforeFirst"
  Invalid_Open_from_Open: "❌ Open() from Open"
  Invalid_First_from_OnRow: "❌ First() from OnRow"
  Invalid_First_from_AfterLast: "❌ First() from AfterLast"
}

LEGEND: {
  shape: rectangle
  style: {
    fill: "#F5F5F5"
    stroke: "#9E9E9E"
  }
  
  Valid: {
    shape: text
    style.font-color: "#333333"
    value: "━━▶ Valid Transition"
  }
  
  Invalid: {
    shape: text
    style.font-color: "#D32F2F"
    value: "- - ▶ Invalid/Edge Case"
  }
  
  Close: {
    shape: text
    style.font-color: "#666666"
    value: "- - - ▶ Close() (any state)"
  }
}