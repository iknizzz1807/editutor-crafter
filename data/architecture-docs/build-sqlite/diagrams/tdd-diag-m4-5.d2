direction: right
EVICTABLE: {
  label: "EVICTABLE\n(pin_count = 0)"
  style.fill: "#90EE90"
  style.stroke: "#228B22"
}
IN_USE: {
  label: "IN_USE\n(pin_count = 1)"
  style.fill: "#FFD700"
  style.stroke: "#DAA520"
}
NESTED_USE: {
  label: "NESTED_USE\n(pin_count ≥ 2)"
  style.fill: "#FFA500"
  style.stroke: "#FF8C00"
}
ERROR_UNDERFLOW: {
  label: "ERROR_UNDERFLOW\n(pin-- when count = 0)"
  style.fill: "#FF6B6B"
  style.stroke: "#CC0000"
  style.stroke-dash: 3
}
# Transitions from EVICTABLE
EVICTABLE -> IN_USE: {
  label: "pin++\n[page acquired]"
}
# Transitions from IN_USE
IN_USE -> NESTED_USE: {
  label: "pin++\n[nested reference]"
}
IN_USE -> EVICTABLE: {
  label: "pin--\n[release]"
}
# Self-loop for deeper nesting
NESTED_USE -> NESTED_USE: {
  label: "pin++\n[additional reference]"
}
# Transitions from NESTED_USE back
NESTED_USE -> IN_USE: {
  label: "pin--\n[count = 2 → 1]"
}
# Error transition
EVICTABLE -> ERROR_UNDERFLOW: {
  label: "pin--\n[INVALID]\n⚠️ underflow"
  style.stroke: "#CC0000"
  style.stroke-dash: 4
  style.font-color: "#CC0000"
}
# Initial state indicator
INIT: {
  shape: circle
  style.fill: "#000"
}
INIT -> EVICTABLE: {
  label: "page loaded"
  style.stroke-dash: 3
}