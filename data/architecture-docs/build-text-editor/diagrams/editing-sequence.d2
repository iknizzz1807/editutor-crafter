title: Text Editing Operation Sequence

shape: sequence_diagram

Input Handler
Text Buffer
Undo System  
Renderer

Input Handler -> Text Buffer: insertChar(pos, 'A') {
  style.stroke: "#3fb950"
  style.bold: true
}

Text Buffer -> Undo System: recordOperation(INSERT, pos, 'A') {
  style.stroke: "#8b949e"
}

Undo System -> Undo System: createUndoCommand(DELETE, pos) {
  style.stroke: "#8b949e"
}

Undo System -> Text Buffer: operationRecorded() {
  style.stroke: "#8b949e"
}

Text Buffer -> Text Buffer: updateBuffer(pos, 'A') {
  style.stroke: "#3fb950"
}

Text Buffer -> Text Buffer: incrementCursor() {
  style.stroke: "#3fb950"
}

Text Buffer -> Text Buffer: markModified() {
  style.stroke: "#3fb950"
}

Text Buffer -> Renderer: bufferChanged() {
  style.stroke: "#f79000"
}

Renderer -> Text Buffer: getCurrentState() {
  style.stroke: "#f79000"
}

Text Buffer -> Renderer: return(lines, cursor, viewport) {
  style.stroke: "#f79000"
}

Renderer -> Renderer: refreshDisplay() {
  style.stroke: "#f79000"
  style.bold: true
}

Input Handler.style.fill: "#1a1a2e"
Input Handler.style.font-color: "#e6edf3"
Input Handler.style.stroke: "#3fb950"

Text Buffer.style.fill: "#16213e"
Text Buffer.style.font-color: "#e6edf3"
Text Buffer.style.stroke: "#3fb950"

Undo System.style.fill: "#0f3460"
Undo System.style.font-color: "#e6edf3"
Undo System.style.stroke: "#3fb950"

Renderer.style.fill: "#1a1a2e"
Renderer.style.font-color: "#e6edf3"
Renderer.style.stroke: "#3fb950"