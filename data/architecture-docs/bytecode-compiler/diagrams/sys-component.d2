title: System Component Diagram

classes: {
  component: {
    shape: rectangle
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.border-radius: 8
  }
  storage: {
    shape: cylinder
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  interface: {
    shape: oval
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

compilation_orchestration: {
  ast: AST {
    class: interface
    label: |md
      **AST**
      Abstract Syntax Tree
      Source code representation
    |
  }

  compiler: Compiler {
    class: component
    label: |md
      **Compiler Driver**
      - Main entry point
      - Orchestrates compilation
      - Traverses AST
      - Delegates to specialized compilers
    |
  }
}

runtime_structures: {
  chunk: BytecodeChunk {
    class: storage
    label: |md
      **Bytecode Chunk**
      - Encoded instructions
      - Line information
      - Final output
    |
  }

  constant_pool: ConstantPool {
    class: storage
    label: |md
      **Constant Pool**
      - String literals
      - Numeric constants
      - Shared values
    |
  }

  symbol_table: SymbolTable {
    class: storage
    label: |md
      **Symbol Table**
      - Variable names
      - Function signatures
      - Scope information
    |
  }
}

compilation_orchestration.ast -> compilation_orchestration.compiler: "input"
compilation_orchestration.compiler -> runtime_structures.chunk: "writes bytecode"
compilation_orchestration.compiler -> runtime_structures.constant_pool: "adds constants"
compilation_orchestration.compiler <-> runtime_structures.symbol_table: "reads/writes symbols"
runtime_structures.chunk -> runtime_structures.constant_pool: "references"
