title: Error Reporting and Recovery {
  style.font-size: 24
  style.bold: true
  style.fill: "#1a1a2e"
  style.font-color: "#e6edf3"
}

lexer: Lexical Analysis {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  scanner: Token Scanner
  lexical_errors: Lexical Error Detection {
    invalid_char: Invalid Characters
    unterminated: Unterminated Strings
    malformed: Malformed Numbers
  }
  lexical_recovery: Recovery Strategy {
    skip_char: Skip Invalid Character
    insert_quote: Insert Missing Quote
    continue_scan: Continue Scanning
  }
}

parser: Syntactic Analysis {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  syntax_parser: Recursive Descent Parser
  parse_errors: Parse Error Detection {
    unexpected_token: Unexpected Token
    missing_delimiter: Missing Delimiter
    incomplete_expr: Incomplete Expression
  }
  parse_recovery: Recovery Strategy {
    synchronize: Synchronization Points
    insert_token: Insert Missing Token
    skip_to_boundary: Skip to Boundary
  }
}

type_checker: Type Analysis {
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  type_inference: Type Inference Engine
  type_errors: Type Error Detection {
    type_mismatch: Type Mismatch
    unresolved_var: Unresolved Variable
    constraint_violation: Constraint Violation
  }
  type_recovery: Recovery Strategy {
    substitute_type: Type Substitution
    mark_error: Mark Error Node
    continue_analysis: Continue Analysis
  }
}

runtime: Runtime Execution {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  vm_executor: Virtual Machine
  runtime_errors: Runtime Error Detection {
    null_deref: Null Dereference
    bounds_check: Array Bounds
    stack_overflow: Stack Overflow
  }
  runtime_recovery: Recovery Strategy {
    exception_handling: Exception Handling
    stack_unwinding: Stack Unwinding
    graceful_exit: Graceful Exit
  }
}

error_collector: Error Collection System {
  style.fill: "#2d1b69"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
  
  error_buffer: Error Buffer
  source_tracker: Source Location Tracker
  severity_classifier: Severity Classification
}

formatter: Error Formatting {
  style.fill: "#2d1b69"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  
  message_builder: Message Builder
  context_extractor: Context Extractor
  suggestion_engine: Suggestion Engine
}

reporter: Error Reporter {
  style.fill: "#2d1b69"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
  
  console_output: Console Output
  ide_integration: IDE Integration
  batch_reporting: Batch Reporting
}

recovery_coordinator: Recovery Coordinator {
  style.fill: "#5d4e75"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
  style.bold: true
  
  strategy_selector: Strategy Selector
  state_manager: Compilation State Manager
  phase_coordinator: Phase Coordinator
}

lexer.lexical_errors -> error_collector.error_buffer: collect lexical errors
parser.parse_errors -> error_collector.error_buffer: collect parse errors
type_checker.type_errors -> error_collector.error_buffer: collect type errors
runtime.runtime_errors -> error_collector.error_buffer: collect runtime errors

lexer.lexical_recovery <-> recovery_coordinator.strategy_selector: coordinate recovery
parser.parse_recovery <-> recovery_coordinator.strategy_selector: coordinate recovery
type_checker.type_recovery <-> recovery_coordinator.strategy_selector: coordinate recovery
runtime.runtime_recovery <-> recovery_coordinator.strategy_selector: coordinate recovery

error_collector -> formatter: format errors
formatter -> reporter: generate reports

recovery_coordinator -> lexer: recovery signals
recovery_coordinator -> parser: recovery signals
recovery_coordinator -> type_checker: recovery signals
recovery_coordinator -> runtime: recovery signals

error_collector.source_tracker -> formatter.context_extractor: source context
formatter.suggestion_engine -> reporter.console_output: actionable suggestions