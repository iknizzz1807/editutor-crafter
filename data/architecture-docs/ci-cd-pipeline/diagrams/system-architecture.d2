classes: {
  container: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  component: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  external: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  storage: {
    style.fill: "#0f3460"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

title: CI/CD Pipeline System Architecture {
  near: top-center
  style.font-size: 18
  style.bold: true
  style.font-color: "#e6edf3"
}

pipeline_core: Core Pipeline System {
  class: container
  
  parser: Pipeline Parser {
    class: component
    shape: rectangle
  }
  
  executor: Job Executor {
    class: component
    shape: rectangle
  }
  
  artifacts: Artifact Manager {
    class: component
    shape: rectangle
  }
  
  deployment: Deployment Engine {
    class: component
    shape: rectangle
  }
  
  parser -> executor: parsed jobs
  executor -> artifacts: store build outputs
  artifacts -> deployment: retrieve artifacts
  deployment -> executor: deployment feedback
}

external_deps: External Dependencies {
  class: container
  
  docker: Docker Engine {
    class: external
    shape: package
  }
  
  git: Git Repository {
    class: external
    shape: cylinder
  }
  
  registry: Container Registry {
    class: external
    shape: cylinder
  }
}

storage_systems: Storage Systems {
  class: container
  
  object_store: Object Storage {
    class: storage
    shape: cylinder
  }
  
  metadata_db: Metadata DB {
    class: storage
    shape: cylinder
  }
  
  cache: Build Cache {
    class: storage
    shape: cylinder
  }
}

git -> parser: YAML pipeline config
parser -> docker: job specifications
executor -> docker: run containers
executor -> object_store: upload artifacts
artifacts -> object_store: retrieve files
artifacts -> metadata_db: store metadata
executor -> cache: cache dependencies
deployment -> registry: pull images
artifacts -> registry: push images