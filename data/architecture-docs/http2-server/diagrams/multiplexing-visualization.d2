shape: sequence_diagram

Client: Client
HTTP2_Server: "HTTP/2 Server" {
  style.fill: "#1a1a2e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}
TCP_Connection: "TCP Connection" {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

Client -> HTTP2_Server: "HEADERS frame (Stream 1) - GET /api/users"
HTTP2_Server -> TCP_Connection: "Frame: HEADERS [Stream 1]"
Client -> HTTP2_Server: "HEADERS frame (Stream 3) - GET /api/posts"
HTTP2_Server -> TCP_Connection: "Frame: HEADERS [Stream 3]"
Client -> HTTP2_Server: "HEADERS frame (Stream 5) - POST /api/data"
HTTP2_Server -> TCP_Connection: "Frame: HEADERS [Stream 5]"
Client -> HTTP2_Server: "DATA frame (Stream 5) - Request body"
HTTP2_Server -> TCP_Connection: "Frame: DATA [Stream 5]"

HTTP2_Server -> HTTP2_Server: "Priority Scheduler\nStream 3 (weight: 200)\nStream 1 (weight: 100)\nStream 5 (weight: 50)"

HTTP2_Server -> Client: "HEADERS frame (Stream 3) - 200 OK"
TCP_Connection -> Client: "Frame: HEADERS [Stream 3]"
HTTP2_Server -> Client: "DATA frame (Stream 3) - Response chunk 1"
TCP_Connection -> Client: "Frame: DATA [Stream 3]"
HTTP2_Server -> Client: "HEADERS frame (Stream 1) - 200 OK"
TCP_Connection -> Client: "Frame: HEADERS [Stream 1]"
HTTP2_Server -> Client: "DATA frame (Stream 3) - Response chunk 2"
TCP_Connection -> Client: "Frame: DATA [Stream 3]"
HTTP2_Server -> Client: "DATA frame (Stream 1) - Response data"
TCP_Connection -> Client: "Frame: DATA [Stream 1]"
HTTP2_Server -> Client: "DATA frame (Stream 3) - Final chunk + END_STREAM"
TCP_Connection -> Client: "Frame: DATA [Stream 3] END_STREAM"
HTTP2_Server -> Client: "DATA frame (Stream 1) - Final data + END_STREAM"
TCP_Connection -> Client: "Frame: DATA [Stream 1] END_STREAM"
HTTP2_Server -> Client: "HEADERS frame (Stream 5) - 201 Created"
TCP_Connection -> Client: "Frame: HEADERS [Stream 5]"
HTTP2_Server -> Client: "DATA frame (Stream 5) - Response + END_STREAM"
TCP_Connection -> Client: "Frame: DATA [Stream 5] END_STREAM"