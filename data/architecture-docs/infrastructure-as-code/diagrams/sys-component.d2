title: System Component Diagram

config: Declarative Config {
  shape: page
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

engine: IaC Engine {
  style.fill: "#16213e"
  style.stroke: "#3fb950"
  style.stroke-width: 2

  parser: Parser {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }

  state_manager: State Manager {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }

  planner: Planner {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
    style.bold: true
  }

  executor: Executor {
    style.fill: "#1a1a2e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

provider: Provider SDK {
  shape: cylinder
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}

config -> parser: 1. Parse
parser -> planner: 2. Desired State
state_manager <-> planner: 3. Read/Write State
state_manager <-> executor: 4. Read/Write State
planner -> executor: 5. Execution Plan
executor -> provider: 6. Apply Changes

note: |md
  ## Infrastructure as Code Engine
  Parses declarative configs, manages state,
  computes diffs, and applies changes to infrastructure.
| {
  shape: page
  style.fill: "#0f3460"
  style.stroke: "#3fb950"
  style.font-color: "#e6edf3"
}