shape: sequence_diagram

classes: {
  actor_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  lifecycle_style: {
    style.stroke: "#8b949e"
    style.stroke-dash: 3
  }
  message_style: {
    style.stroke: "#e6edf3"
    style.font-color: "#e6edf3"
  }
  activation_style: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
  }
}

test_runner: Test Runner {
  class: actor_style
}

container_manager: Container Manager {
  class: actor_style
}

test_case_a: Test Case A {
  class: actor_style
}

test_case_b: Test Case B {
  class: actor_style
}

test_runner -> test_runner: Discovery Phase\nScan test files
test_runner -> container_manager: Start infrastructure\n(DB, services, etc.)
container_manager -> container_manager: Pull images\nCreate network
container_manager -> test_runner: Infrastructure ready

test_runner -> container_manager: Request test environment\nfor Test Case A
container_manager -> container_manager: Setup isolated\ntest data
container_manager -> test_runner: Environment prepared

test_runner -> test_case_a: Execute test
test_case_a -> test_case_a: Setup test fixtures
test_case_a -> container_manager: Query test services
container_manager -> test_case_a: Service responses
test_case_a -> test_case_a: Verify results
test_case_a -> test_runner: Test completed (PASS/FAIL)

test_runner -> container_manager: Cleanup Test Case A\nenvironment
container_manager -> container_manager: Reset test data\nRollback changes

test_runner -> container_manager: Request test environment\nfor Test Case B
container_manager -> container_manager: Setup fresh\ntest data
container_manager -> test_runner: Environment prepared

test_runner -> test_case_b: Execute test
test_case_b -> test_case_b: Setup test fixtures
test_case_b -> container_manager: Query test services
container_manager -> test_case_b: Service responses
test_case_b -> test_case_b: Verify results
test_case_b -> test_runner: Test completed (PASS/FAIL)

test_runner -> container_manager: Cleanup Test Case B\nenvironment
test_runner -> container_manager: Shutdown infrastructure
container_manager -> container_manager: Stop containers\nRemove network
container_manager -> test_runner: Cleanup complete

test_runner -> test_runner: Generate test report\nCollect metrics