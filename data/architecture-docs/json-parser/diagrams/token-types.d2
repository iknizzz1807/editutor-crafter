classes: {
  token_base: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  token_value: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  token_struct: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  token_util: {
    style.fill: "#2d1b69"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

title: Token Type Hierarchy {
  shape: text
  style.font-size: 18
  style.bold: true
  style.font-color: "#e6edf3"
  near: top-center
}

token: Token {
  shape: class
  - "token_type: TokenType"
  - "value: string"
  - "line: number"
  - "column: number"
  - "position: number"
  + "new(type: TokenType, value: string, line: number, column: number): Token"
  + "to_string(): string"
  class: token_base
}

token_type: TokenType {
  shape: class
  + "STRING"
  + "NUMBER"
  + "BOOLEAN"
  + "NULL"
  + "LBRACE"
  + "RBRACE"
  + "LBRACKET"
  + "RBRACKET"
  + "COLON"
  + "COMMA"
  + "EOF"
  + "INVALID"
  class: token_base
}

value_tokens: Value Tokens {
  string_token: StringToken {
    shape: class
    - "raw_value: string"
    - "parsed_value: string"
    + "unescape(): string"
    + "validate(): boolean"
    class: token_value
  }
  
  number_token: NumberToken {
    shape: class
    - "raw_value: string"
    - "numeric_value: number"
    - "is_integer: boolean"
    - "is_float: boolean"
    + "parse(): number"
    + "validate(): boolean"
    class: token_value
  }
  
  boolean_token: BooleanToken {
    shape: class
    - "raw_value: string"
    - "boolean_value: boolean"
    + "parse(): boolean"
    class: token_value
  }
  
  null_token: NullToken {
    shape: class
    - "raw_value: string"
    + "validate(): boolean"
    class: token_value
  }
}

structural_tokens: Structural Tokens {
  delimiter_token: DelimiterToken {
    shape: class
    - "delimiter_type: DelimiterType"
    - "opens_context: boolean"
    - "closes_context: boolean"
    + "is_opening(): boolean"
    + "is_closing(): boolean"
    class: token_struct
  }
  
  separator_token: SeparatorToken {
    shape: class
    - "separator_type: SeparatorType"
    + "is_colon(): boolean"
    + "is_comma(): boolean"
    class: token_struct
  }
}

utility_tokens: Utility Tokens {
  eof_token: EOFToken {
    shape: class
    - "reached_end: boolean"
    + "mark_end(): void"
    class: token_util
  }
  
  invalid_token: InvalidToken {
    shape: class
    - "error_message: string"
    - "unexpected_char: string"
    + "get_error(): string"
    class: token_util
  }
}

token -> token_type: uses
token -> value_tokens.string_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}
token -> value_tokens.number_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}
token -> value_tokens.boolean_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}
token -> value_tokens.null_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}
token -> structural_tokens.delimiter_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}
token -> structural_tokens.separator_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}
token -> utility_tokens.eof_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}
token -> utility_tokens.invalid_token: inherits {
  style.stroke: "#8b949e"
  style.stroke-dash: 5
}