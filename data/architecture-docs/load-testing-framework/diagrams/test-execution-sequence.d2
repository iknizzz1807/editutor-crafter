shape: sequence_diagram

coordinator: Coordinator
worker1: Worker 1
worker2: Worker 2
metrics_service: Metrics Service
report_gen: Report Generator

coordinator -> worker1: START_TEST {test_config, load_profile}
coordinator -> worker2: START_TEST {test_config, load_profile}

worker1 -> coordinator: ACK_READY
worker2 -> coordinator: ACK_READY

coordinator -> worker1: BEGIN_EXECUTION
coordinator -> worker2: BEGIN_EXECUTION

worker1 -> metrics_service: stream metrics
worker2 -> metrics_service: stream metrics

metrics_service -> coordinator: aggregated metrics

worker1 -> coordinator: LOAD_COMPLETE
worker2 -> coordinator: LOAD_COMPLETE

coordinator -> report_gen: GENERATE_REPORT {test_results}

report_gen -> coordinator: final_report

classes: {
  dark_theme: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

coordinator.class: dark_theme
worker1.class: dark_theme
worker2.class: dark_theme
metrics_service.class: dark_theme
report_gen.class: dark_theme