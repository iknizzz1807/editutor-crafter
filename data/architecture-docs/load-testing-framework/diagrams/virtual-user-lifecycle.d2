classes: {
  state: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  
  initial_state: {
    style.fill: "#3fb950"
    style.stroke: "#3fb950"
    style.font-color: "#1a1a2e"
    style.bold: true
  }
  
  final_state: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
    style.double-border: true
  }
  
  error_state: {
    style.fill: "#d63031"
    style.stroke: "#e17055"
    style.font-color: "#ffffff"
    style.bold: true
  }
  
  transition: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

title: Virtual User State Machine {
  near: top-center
  style.font-color: "#e6edf3"
  style.bold: true
}

init: {
  shape: circle
  label: ""
  class: initial_state
}

initialized: Initialized {
  shape: circle
  class: state
}

running: Running {
  shape: circle
  class: state
}

think_time: Think Time {
  shape: circle
  class: state
}

session_refresh: Session Refresh {
  shape: circle
  class: state
}

completed: Completed {
  shape: circle
  class: final_state
}

failed: Failed {
  shape: circle
  class: error_state
}

init -> initialized: Start User {
  class: transition
}

initialized -> running: Begin Scenario {
  class: transition
}

running -> think_time: Request Success {
  class: transition
}

running -> session_refresh: Session Expired {
  class: transition
}

running -> failed: Request Failed {
  class: transition
}

running -> completed: Scenario Complete {
  class: transition
}

think_time -> running: Think Time Elapsed {
  class: transition
}

session_refresh -> running: Session Refreshed {
  class: transition
}

session_refresh -> failed: Refresh Failed {
  class: transition
}

failed -> initialized: Retry User {
  class: transition
}