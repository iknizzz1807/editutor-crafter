title: Complete Parsing Pipeline Flow

classes: {
  input_stage: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  process_stage: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  output_stage: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  data_flow: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

markdown_input: Markdown Input {
  shape: page
  class: input_stage
}

tokenizer: Text Tokenizer {
  shape: rectangle
  class: process_stage
}

block_parser: Block Parser {
  shape: rectangle
  class: process_stage
}

inline_parser: Inline Parser {
  shape: rectangle
  class: process_stage
}

html_generator: HTML Generator {
  shape: rectangle
  class: process_stage
}

html_output: HTML Output {
  shape: page
  class: output_stage
}

token_stream: Token Stream {
  shape: cylinder
  class: process_stage
}

block_tree: Block AST {
  shape: cylinder
  class: process_stage
}

inline_tree: Complete AST {
  shape: cylinder
  class: process_stage
}

markdown_input -> tokenizer: Raw Text {
  class: data_flow
}

tokenizer -> token_stream: Characters & Metadata {
  class: data_flow
}

token_stream -> block_parser: Token Sequence {
  class: data_flow
}

block_parser -> block_tree: Block Structure {
  class: data_flow
}

block_tree -> inline_parser: Block Elements {
  class: data_flow
}

inline_parser -> inline_tree: Nested Elements {
  class: data_flow
}

inline_tree -> html_generator: Complete AST {
  class: data_flow
}

html_generator -> html_output: HTML Tags {
  class: data_flow
}