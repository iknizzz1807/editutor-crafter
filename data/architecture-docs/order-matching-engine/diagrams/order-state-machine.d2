title: Order State Transitions

classes: {
  state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  initial_state: {
    style.fill: "#3fb950"
    style.stroke: "#3fb950"
    style.font-color: "#1a1a2e"
    style.bold: true
  }
  final_state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
    style.double-border: true
  }
  transition: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

init: {
  shape: circle
  label: ""
  class: initial_state
}

pending: Pending {
  shape: circle
  class: state
}

resting: Resting {
  shape: circle
  class: state
}

partially_filled: PartiallyFilled {
  shape: circle
  class: state
}

filled: Filled {
  shape: circle
  class: final_state
}

cancelled: Cancelled {
  shape: circle
  class: final_state
}

init -> pending: order submitted {
  class: transition
}

pending -> resting: validation passed {
  class: transition
}

pending -> cancelled: validation failed {
  class: transition
}

resting -> partially_filled: partial match {
  class: transition
}

resting -> filled: full match {
  class: transition
}

resting -> cancelled: cancel request {
  class: transition
}

partially_filled -> filled: remaining quantity matched {
  class: transition
}

partially_filled -> cancelled: cancel request {
  class: transition
}