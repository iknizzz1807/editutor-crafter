title: Payment Intent State Machine

classes: {
  state: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  initial: {
    style.fill: "#3fb950"
    style.stroke: "#3fb950"
    style.font-color: "#1a1a2e"
  }
  final: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.double-border: true
  }
  transition: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

init: {
  shape: circle
  class: initial
  label: ""
}

created: Created {
  shape: circle
  class: state
}

requires_action: Requires Action {
  shape: circle
  class: state
}

processing: Processing {
  shape: circle
  class: state
}

succeeded: Succeeded {
  shape: circle
  class: final
}

canceled: Canceled {
  shape: circle
  class: final
}

init -> created: {
  class: transition
}

created -> requires_action: Authentication Required {
  class: transition
}

created -> processing: Payment Method Confirmed {
  class: transition
}

created -> canceled: Cancel Intent {
  class: transition
}

requires_action -> processing: Customer Action Completed {
  class: transition
}

requires_action -> canceled: Timeout / Cancel {
  class: transition
}

processing -> succeeded: Payment Successful {
  class: transition
}

processing -> requires_action: Additional Auth Required {
  class: transition
}

processing -> canceled: Payment Failed {
  class: transition
}