title: Symbol Resolution Process {
  style.font-size: 24
  style.bold: true
  style.font-color: "#e6edf3"
  near: top-center
}

classes: {
  process: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  decision: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  storage: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  
  arrow: {
    style.stroke: "#8b949e"
  }
}

start: Raw Address {
  shape: circle
  class: process
}

lookup: Address Lookup {
  class: process
}

mapping_check: Binary Mapping\nFound? {
  shape: diamond
  class: decision
}

no_symbol: No Symbol Available {
  class: process
  style.fill: "#d63031"
}

elf_parse: Parse ELF Headers {
  class: process
}

symbol_table: Check Symbol Table {
  class: process
}

symbol_found: Symbol in\nTable? {
  shape: diamond
  class: decision
}

dwarf_parse: Parse DWARF Debug Info {
  class: process
}

dwarf_check: Debug Info\nAvailable? {
  shape: diamond
  class: decision
}

resolve_symbol: Resolve Function Name\nand Line Number {
  class: process
}

cache_decision: Cache Symbol? {
  shape: diamond
  class: decision
}

symbol_cache: Symbol Cache {
  shape: cylinder
  class: storage
}

update_cache: Update Cache {
  class: process
}

resolved_symbol: Resolved Symbol\nwith Debug Info {
  class: process
  style.fill: "#00b894"
}

start -> lookup: {class: arrow}
lookup -> mapping_check: {class: arrow}
mapping_check -> no_symbol: No {class: arrow}
mapping_check -> elf_parse: Yes {class: arrow}
elf_parse -> symbol_table: {class: arrow}
symbol_table -> symbol_found: {class: arrow}
symbol_found -> dwarf_check: No {class: arrow}
symbol_found -> resolve_symbol: Yes {class: arrow}
dwarf_check -> dwarf_parse: Yes {class: arrow}
dwarf_check -> resolve_symbol: No {class: arrow}
dwarf_parse -> resolve_symbol: {class: arrow}
resolve_symbol -> cache_decision: {class: arrow}
cache_decision -> update_cache: Yes {class: arrow}
cache_decision -> resolved_symbol: No {class: arrow}
update_cache -> symbol_cache: {class: arrow}
update_cache -> resolved_symbol: {class: arrow}

symbol_cache -> lookup: Cache Hit {
  class: arrow
  style.stroke-dash: 3
}