shape: sequence_diagram

Admin: Policy Admin
Tester: Policy Tester  
Engine: Policy Engine
Snapshot: Policy Snapshot Store
Simulator: Policy Simulator
Analyzer: Differential Analyzer
Deployer: Safe Deployer
Audit: Audit Logger

Admin -> Snapshot: Create baseline snapshot
Snapshot -> Snapshot: Store current policies
Snapshot -> Admin: Snapshot ID created

Tester -> Engine: Request current policies
Engine -> Tester: Return active policies

Tester -> Simulator: Initialize test environment
Simulator -> Snapshot: Load baseline snapshot
Snapshot -> Simulator: Policy data loaded

Tester -> Simulator: Execute test scenarios
Simulator -> Simulator: Run authorization tests
Simulator -> Tester: Test results generated

Tester -> Analyzer: Analyze policy differences
Analyzer -> Snapshot: Get baseline results
Analyzer -> Simulator: Get test results
Analyzer -> Analyzer: Compare outcomes
Analyzer -> Tester: Differential report

Tester -> Deployer: Request deployment validation
Deployer -> Engine: Validate policy syntax
Engine -> Deployer: Syntax validation result
Deployer -> Simulator: Run safety checks
Simulator -> Deployer: Safety validation result

Deployer -> Engine: Deploy new policies
Engine -> Audit: Log policy deployment
Audit -> Deployer: Deployment logged

Deployer -> Tester: Deployment completed

Admin.style.fill: "#1a1a2e"
Admin.style.stroke: "#3fb950"
Admin.style.font-color: "#e6edf3"

Tester.style.fill: "#1a1a2e"
Tester.style.stroke: "#3fb950"
Tester.style.font-color: "#e6edf3"

Engine.style.fill: "#16213e"
Engine.style.stroke: "#3fb950"
Engine.style.font-color: "#e6edf3"
Engine.style.bold: true

Snapshot.style.fill: "#0f3460"
Snapshot.style.stroke: "#3fb950"
Snapshot.style.font-color: "#e6edf3"

Simulator.style.fill: "#16213e"
Simulator.style.stroke: "#3fb950"
Simulator.style.font-color: "#e6edf3"
Simulator.style.bold: true

Analyzer.style.fill: "#1a1a2e"
Analyzer.style.stroke: "#3fb950"
Analyzer.style.font-color: "#e6edf3"

Deployer.style.fill: "#16213e"
Deployer.style.stroke: "#3fb950"
Deployer.style.font-color: "#e6edf3"
Deployer.style.bold: true

Audit.style.fill: "#0f3460"
Audit.style.stroke: "#3fb950"
Audit.style.font-color: "#e6edf3"