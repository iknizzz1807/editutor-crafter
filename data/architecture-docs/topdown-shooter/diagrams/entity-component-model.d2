classes: {
  entity: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  component: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  core_component: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
}

title: Entity-Component Data Model {
  near: top-center
  style.font-size: 20
  style.bold: true
  style.font-color: "#e6edf3"
}

entities: Entities {
  class: entity
  
  player: Player {
    shape: class
    class: entity
    - "id: EntityID"
    - "active: boolean"
    + "spawn(position: Vector2): void"
    + "destroy(): void"
  }
  
  enemy: Enemy {
    shape: class
    class: entity
    - "id: EntityID"
    - "active: boolean"
    - "enemy_type: EnemyType"
    + "spawn(position: Vector2): void"
    + "destroy(): void"
  }
  
  projectile: Projectile {
    shape: class
    class: entity
    - "id: EntityID"
    - "active: boolean"
    - "owner: EntityID"
    + "fire(position: Vector2, direction: Vector2): void"
    + "destroy(): void"
  }
}

core_components: Core Components {
  class: core_component
  
  transform: Transform {
    shape: class
    class: core_component
    - "position: Vector2"
    - "rotation: float"
    - "scale: Vector2"
    + "translate(delta: Vector2): void"
    + "rotate(angle: float): void"
  }
  
  velocity: Velocity {
    shape: class
    class: core_component
    - "linear: Vector2"
    - "angular: float"
    - "max_speed: float"
    + "apply_force(force: Vector2): void"
    + "update(delta_time: float): void"
  }
  
  health: Health {
    shape: class
    class: core_component
    - "current: int"
    - "maximum: int"
    - "invulnerable: boolean"
    + "take_damage(amount: int): void"
    + "heal(amount: int): void"
    + "is_alive(): boolean"
  }
}

render_components: Render Components {
  class: component
  
  sprite: Sprite {
    shape: class
    class: component
    - "texture: Texture"
    - "frame: Rectangle"
    - "color: Color"
    - "layer: int"
    + "set_frame(index: int): void"
    + "set_color(color: Color): void"
  }
  
  animation: Animation {
    shape: class
    class: component
    - "current_clip: string"
    - "frame_time: float"
    - "loop: boolean"
    - "clips: \"Map<string, AnimationClip>\""
    + "play(clip_name: string): void"
    + "update(delta_time: float): void"
  }
}

gameplay_components: Gameplay Components {
  class: component
  
  collider: Collider {
    shape: class
    class: component
    - "bounds: Rectangle"
    - "collision_type: CollisionType"
    - "layer_mask: int"
    + "check_collision(other: Collider): boolean"
    + "get_bounds(): Rectangle"
  }
  
  weapon: Weapon {
    shape: class
    class: component
    - "damage: int"
    - "fire_rate: float"
    - "projectile_type: ProjectileType"
    - "last_fire_time: float"
    + "can_fire(): boolean"
    + "fire(direction: Vector2): void"
  }
  
  ai_behavior: AIBehavior {
    shape: class
    class: component
    - "state: AIState"
    - "target: EntityID"
    - "behavior_type: BehaviorType"
    + "update(delta_time: float): void"
    + "set_target(target: EntityID): void"
  }
}

player -> transform: has
player -> velocity: has
player -> health: has
player -> sprite: has
player -> collider: has
player -> weapon: has

enemy -> transform: has
enemy -> velocity: has
enemy -> health: has
enemy -> sprite: has
enemy -> animation: has
enemy -> collider: has
enemy -> ai_behavior: has

projectile -> transform: has
projectile -> velocity: has
projectile -> sprite: has
projectile -> collider: has