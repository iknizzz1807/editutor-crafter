shape: sequence_diagram

classes: {
  component_style: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  message_style: {
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
}

type_checker: Type Checker {
  class: component_style
}

constraint_gen: Constraint Generator {
  class: component_style
}

unification: Unification Engine {
  class: component_style
}

substitution: Substitution Engine {
  class: component_style
}

type_checker -> constraint_gen: analyze_expression(expr) {
  class: message_style
}

constraint_gen -> constraint_gen: visit_literals() {
  class: message_style
}

constraint_gen -> constraint_gen: visit_operators() {
  class: message_style
}

constraint_gen -> constraint_gen: visit_function_calls() {
  class: message_style
}

constraint_gen -> type_checker: constraints_set {
  class: message_style
}

type_checker -> unification: unify_constraints(constraints) {
  class: message_style
}

unification -> unification: find_common_types() {
  class: message_style
}

unification -> unification: check_consistency() {
  class: message_style
}

unification -> unification: resolve_variables() {
  class: message_style
}

unification -> type_checker: type_solution {
  class: message_style
}

type_checker -> substitution: apply_solution(solution, expr) {
  class: message_style
}

substitution -> substitution: replace_type_vars() {
  class: message_style
}

substitution -> substitution: propagate_types() {
  class: message_style
}

substitution -> type_checker: typed_expression {
  class: message_style
}