title: Type AST Structure

classes: {
  type_node: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  primitive_node: {
    style.fill: "#16213e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  compound_node: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
  }
  polymorphic_node: {
    style.fill: "#2d1b69"
    style.stroke: "#9f7aea"
    style.font-color: "#e6edf3"
  }
}

Type: {
  shape: class
  class: type_node
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
  + "free_variables(): Set<string>"
  + "pretty_print(): string"
}

PrimitiveType: {
  shape: class
  class: primitive_node
  - "name: string"
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
}

FunctionType: {
  shape: class
  class: compound_node
  - "parameter_types: List<Type>"
  - "return_type: Type"
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
  + "arity(): int"
}

TupleType: {
  shape: class
  class: compound_node
  - "element_types: List<Type>"
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
  + "size(): int"
}

ListType: {
  shape: class
  class: compound_node
  - "element_type: Type"
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
}

TypeVariable: {
  shape: class
  class: compound_node
  - "name: string"
  - "id: int"
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
  + "is_free(): boolean"
}

ForallType: {
  shape: class
  class: polymorphic_node
  - "bound_variables: List<string>"
  - "body_type: Type"
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
  + "instantiate(): Type"
}

TypeConstructor: {
  shape: class
  class: compound_node
  - "name: string"
  - "type_arguments: List<Type>"
  - "arity: int"
  + "equals(other: Type): boolean"
  + "substitute(subst: Substitution): Type"
  + "apply(args: List<Type>): Type"
}

Type -> PrimitiveType: inherits {
  style.stroke: "#3fb950"
}

Type -> FunctionType: inherits {
  style.stroke: "#3fb950"
}

Type -> TupleType: inherits {
  style.stroke: "#3fb950"
}

Type -> ListType: inherits {
  style.stroke: "#3fb950"
}

Type -> TypeVariable: inherits {
  style.stroke: "#3fb950"
}

Type -> ForallType: inherits {
  style.stroke: "#9f7aea"
}

Type -> TypeConstructor: inherits {
  style.stroke: "#3fb950"
}

FunctionType -> Type: contains {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

TupleType -> Type: contains {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

ListType -> Type: contains {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

ForallType -> Type: contains {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}

TypeConstructor -> Type: contains {
  style.stroke: "#8b949e"
  style.stroke-dash: 3
}