classes: {
  section: {
    style.fill: "#1a1a2e"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
  subsection: {
    style.fill: "#16213e"
    style.stroke: "#8b949e"
    style.font-color: "#e6edf3"
  }
  header: {
    style.fill: "#0f3460"
    style.stroke: "#3fb950"
    style.font-color: "#e6edf3"
    style.bold: true
  }
}

title: WebAssembly Binary Section Structure

wasm_module: WebAssembly Module {
  class: section
  
  header: Module Header {
    class: header
    magic: "WASM_MAGIC\n(0x6d736100)" {
      class: subsection
    }
    version: "WASM_VERSION\n(0x00000001)" {
      class: subsection
    }
  }
  
  type_section: Type Section {
    class: section
    section_id: "Section ID: 1" {
      class: subsection
    }
    func_types: Function Types {
      class: subsection
      sig1: "func(i32, i32) -> i32" {
        class: subsection
      }
      sig2: "func() -> void" {
        class: subsection
      }
    }
  }
  
  function_section: Function Section {
    class: section
    section_id: "Section ID: 3" {
      class: subsection
    }
    type_indices: Type Indices {
      class: subsection
      func1: "Function 0 -> Type 0" {
        class: subsection
      }
      func2: "Function 1 -> Type 1" {
        class: subsection
      }
    }
  }
  
  export_section: Export Section {
    class: section
    section_id: "Section ID: 7" {
      class: subsection
    }
    exports: Export Entries {
      class: subsection
      export1: "\"add\" -> Function 0" {
        class: subsection
      }
      export2: "\"main\" -> Function 1" {
        class: subsection
      }
    }
  }
  
  code_section: Code Section {
    class: section
    section_id: "Section ID: 10" {
      class: subsection
    }
    function_bodies: Function Bodies {
      class: subsection
      body1: "Function 0 Body\n(locals + instructions)" {
        class: subsection
      }
      body2: "Function 1 Body\n(locals + instructions)" {
        class: subsection
      }
    }
  }
}

header -> type_section: "Sequential Layout"
type_section -> function_section
function_section -> export_section
export_section -> code_section

type_section.func_types -> function_section.type_indices: "Type References"
function_section.type_indices -> export_section.exports: "Function References"
function_section.type_indices -> code_section.function_bodies: "Implementation Mapping"