id: i18n-l10n-system
name: i18n/l10n System
description: >
  Build a comprehensive internationalization and localization system supporting
  multiple languages, plural forms, date/time formats, currency, and right-to-left
  text handling.

difficulty: intermediate
estimated_hours: 30-45
domain: software-engineering

essence: >
  Multi-language support through message catalogs with ICU MessageFormat, locale-aware
  formatting for dates/times/numbers/currency, bidirectional text handling, plural
  and gender rules, and translation workflow management.

why_important: >
  Global products require robust i18n/l10n. Understanding localization systems is
  valuable for frontend/full-stack engineers at $130K-220K+ at global companies.

learning_outcomes:
  - Implement message catalog system with ICU MessageFormat
  - Build locale-aware date/time formatting
  - Implement number and currency formatting per locale
  - Handle plural forms (CLDR plural rules)
  - Implement bidirectional (RTL) text support
  - Build translation extraction and update workflow
  - Handle timezone conversions
  - Implement locale detection and fallback

skills:
  - Internationalization
  - ICU MessageFormat
  - Locale Formatting
  - Plural Rules
  - RTL Support
  - Timezone Handling
  - Translation Workflow
  - CLDR Integration

tags:
  - intermediate
  - i18n
  - l10n
  - localization
  - internationalization
  - translation

languages:
  recommended:
    - TypeScript
    - JavaScript
  also_possible:
    - Python
    - Go

resources:
  - name: "ICU MessageFormat"
    url: https://unicode-org.github.io/icu/userguide/format_parse/messages/
    type: documentation
  - name: "CLDR - Unicode Common Locale Data Repository"
    url: https://cldr.unicode.org/
    type: documentation
  - name: "MDN Internationalization"
    url: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl
    type: documentation
  - name: "formatjs (intl-messageformat)"
    url: https://formatjs.io/
    type: library

prerequisites:
  - type: skill
    name: JavaScript/TypeScript proficiency
  - type: skill
    name - Understanding of Unicode and character encodings
  - type: skill
    name: Basic understanding of locales
  - type: project
    name: web development experience

milestones:
  - id: i18n-m1
    name: Message Catalog & ICU MessageFormat
    description: >
      Build the core message catalog system with ICU MessageFormat
      support for translations.
    acceptance_criteria:
      - Message catalog loads translations per locale
      - ICU MessageFormat parsing: variables, plurals, selects
      - Message lookup with key and locale
      - Fallback chain (de-DE -> de -> en)
      - Missing translation warnings
      - Interpolation: {name}, {count, plural, ...}
    pitfalls:
      - ICU syntax is complex
      - Nested messages tricky to parse
      - Locale fallback order matters
      - Missing translations silent without warnings
    concepts:
      - Message catalogs
      - ICU MessageFormat
      - Locale fallback
      - Interpolation
    skills:
      - Catalog design
      - ICU parsing
      - Fallback logic
      - Variable interpolation
    deliverables:
      - Message catalog
      - ICU parser
      - Lookup function
      - Fallback handler
    estimated_hours: "8-10"

  - id: i18n-m2
    name: Date/Time & Number Formatting
    description: >
      Implement locale-aware formatting for dates, times,
      numbers, and currency.
    acceptance_criteria:
      - Date formatting: short, medium, long, full
      - Time formatting: 12/24 hour per locale
      - Timezone support with named timezones
      - Number formatting: decimal, percent
      - Currency formatting with symbol placement per locale
      - Relative time (2 hours ago, in 3 days)
    pitfalls:
      - Timezone handling is complex
      - Currency symbols vary by locale (â‚¬ placement)
      - Calendar systems differ (Gregorian vs others)
      - Day/month name translations
    concepts:
      - Date formatting
      - Timezone handling
      - Number formatting
      - Currency display
    skills:
      - Intl API usage
      - Timezone handling
      - Format patterns
      - Relative time
    deliverables:
      - Date formatter
      - Timezone support
      - Number formatter
      - Currency formatter
    estimated_hours: "6-8"

  - id: i18n-m3
    name: Plural Rules & Gender
    description: >
      Implement CLDR plural rules and gender-aware message
      selection.
    acceptance_criteria:
      - CLDR plural categories: zero, one, two, few, many, other
      - Plural rules per locale (English: one/other, Arabic: all 6)
      - Ordinal plurals (1st, 2nd, 3rd, 4th...)
      - Gender selection: masculine, feminine, neuter
      - Combined plural + gender forms
      - Rule data from CLDR
    pitfalls:
      - Plural rules vary dramatically by language
      - Some languages have no singular/plural distinction
      - Gender rules language-specific
      - Ordinal rules differ from cardinal
    concepts:
      - CLDR plural rules
      - Plural categories
      - Gender agreement
      - Ordinal forms
    skills:
      - CLDR integration
      - Rule implementation
      - Message selection
      - Complex forms
    deliverables:
      - Plural rule engine
      - CLDR data loader
      - Gender support
      - Ordinal support
    estimated_hours: "6-8"

  - id: i18n-m4
    name: Bidirectional (RTL) Text Support
    description: >
      Implement right-to-left text handling for Arabic, Hebrew,
      and other RTL languages.
    acceptance_criteria:
      - RTL locale detection (ar, he, fa, ur)
      - Text direction automatically set
      - Bidirectional text isolation for embedded LTR in RTL
      - UI mirroring for RTL layouts
      - Icon/image direction handling
      - Number direction in RTL context
    pitfalls:
      - Mixed direction text is complex
      - Numbers in RTL often stay LTR
      - Some icons shouldn't flip
      - Form fields direction
    concepts:
      - Text direction
      - RTL layouts
      - UI mirroring
      - Bidi isolation
    skills:
      - Direction detection
      - Layout mirroring
      - Bidi handling
      - RTL exceptions
    deliverables:
      - RTL detection
      - Direction handling
      - Layout mirroring
      - Bidi support
    estimated_hours: "6-8"

  - id: i18n-m5
    name: Translation Workflow
    description: >
      Build translation extraction, update, and management
      workflow tools.
    acceptance_criteria:
      - Extract messages from source code (regex/AST)
      - Generate JSON/PO message catalog templates
      - Merge updates without losing translations
      - Detect obsolete translations
      - Machine translation suggestions (optional)
      - Translation status reporting
    pitfalls:
      - Message ID changes lose translations
      - Dynamic message keys hard to extract
      - Context needed for same-string different-meaning
      - Translation quality varies
    concepts:
      - Message extraction
      - Catalog management
      - Merge strategy
      - Translation workflow
    skills:
      - AST/regex extraction
      - Catalog format
      - Merge algorithm
      - Status tracking
    deliverables:
      - Message extractor
      - Catalog generator
      - Merge tool
      - Status reporter
    estimated_hours: "6-8"
