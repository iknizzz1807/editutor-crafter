# ============================================================
# 40 PROJECTS ROADMAP
# Render: d2 roadmap.d2 roadmap.svg --theme 200 --layout elk
# ============================================================

direction: right

# ============================================================
# PHASE 1 — ~55-70h tổng
# ============================================================
ph1: "Phase 1 — Nền Tảng Thép\n4 projects · ~3-4 tuần · Beginner→Intermediate" {
  style: {
    fill: "#1a1a2e"
    stroke: "#e94560"
    font-color: "#e94560"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p01: "#1 Tokenizer\nLexer / Scanner\nRegex, FSM, token streams\n8-15h (~1-2 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p02: "#2 SHA-256 Hash\nBit Manipulation\nBitwise ops, padding, rounds\n10-15h (~1-2 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p03: "#3 HTTP Server\nTCP / Sockets\nSocket API, request parsing\n15-24h (~2-3 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p04: "#4 Event Loop\nepoll / Async I/O\nfd multiplexing, non-blocking\n22-35h (~3-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }

  p01 -> p03
  p02 -> p03
  p03 -> p04
}

# ============================================================
# PHASE 2 — ~220-290h tổng (~7-9 tuần)
# ============================================================
ph2: "Phase 2 — OS & Systems Mastery\n6 projects · ~8-10 tuần · Intermediate→Advanced" {
  style: {
    fill: "#1a1a2e"
    stroke: "#0f3460"
    font-color: "#4fc3f7"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p05: "#5 strace Clone\nSyscall Tracing\nptrace, syscall table\n22-35h (~3-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p06: "#6 Kernel Module\nKernel Programming\nkbuild, /proc, /sys\n22-32h (~3-4 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p07: "#7 Container Basic\nNamespaces & Cgroups\nclone(), cgroups v2\n25-40h (~3-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p08: "#8 Filesystem\nVFS Implementation\nInodes, block alloc, journaling\n65-85h (~2-3 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p09: "#9 Virtual Memory\nPage Tables & TLB\nPage faults, TLB, swapping\n25-40h (~3-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p10: "#10 Shell Advanced\nJob Control & Piping\nfork/exec, pipes, signals\n40-60h (~1-1.5 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }

  p05 -> p06
  p05 -> p07
  p06 -> p08
  p07 -> p10
  p09 -> p10
}

# ============================================================
# PHASE 3 — ~110-155h tổng (~3-5 tuần)
# ============================================================
ph3: "Phase 3 — Networking & Backend\n4 projects · ~4-6 tuần · Intermediate→Expert" {
  style: {
    fill: "#1a1a2e"
    stroke: "#533483"
    font-color: "#ce93d8"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p11: "#11 Auth System\nJWT / OAuth / Sessions\nToken signing, RBAC\n30-40h (~4-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p12: "#12 Message Queue\nPub/Sub & Persistence\nQueue semantics, DLQ\n30-40h (~4-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p13: "#13 Packet Sniffer\nRaw Packet Capture\nEthernet/IP/TCP, pcap\n20-30h (~3-4 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p14: "★ #14 TCP/IP Stack\nBuild from Scratch\n3-way handshake, sliding window\n80-120h (~2-3 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }

  p13 -> p14
}

# ============================================================
# MILESTONE 1
# ============================================================
m1: "MILESTONE 1\nTháng 3-4\nMid-level Engineer\nApply: Backend startup" {
  style: {
    fill: "#2d6a4f"
    font-color: "#fff"
    border-radius: 20
    font-size: 16
    bold: true
  }
}

# ============================================================
# PHASE 4 — ~115-160h tổng (~3-5 tuần)
# ============================================================
ph4: "Phase 4 — Data Storage Internals\n3 projects · ~4-6 tuần · Advanced" {
  style: {
    fill: "#1a1a2e"
    stroke: "#e94560"
    font-color: "#e94560"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p15: "#15 Write-Ahead Log\nCrash Recovery\nLog-structured, checkpointing\n20-30h (~3-4 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p16: "#16 Vector Database\nANN Search\nHNSW, IVF, cosine similarity\n~96h (~2 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p17: "#17 Query Optimizer\nCost-Based Planning\nParse → plan → optimize\n25-40h (~3-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }

  p15 -> p17
}

# ============================================================
# PHASE 5 — ~115-170h tổng (~4-6 tuần)
# ============================================================
ph5: "Phase 5 — Distributed Systems\n3 projects · ~5-7 tuần · Advanced→Expert" {
  style: {
    fill: "#1a1a2e"
    stroke: "#0f3460"
    font-color: "#4fc3f7"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p18: "#18 Gossip Protocol\nEpidemic Broadcast\nPush/pull gossip, failure detect\n20-30h (~3-4 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p19: "#19 Distributed Cache\nConsistent Hashing\nHash ring, replication\n35-50h (~1-1.5 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p20: "★ #20 Build Raft\nConsensus Protocol\nLeader election, log replication\n80-120h (~2-3 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }

  p18 -> p19
  p19 -> p20
}

# ============================================================
# MILESTONE 2
# ============================================================
m2: "MILESTONE 2\nTháng 6-8\nSenior Engineer\nApply: Senior backend, infra" {
  style: {
    fill: "#1b4332"
    font-color: "#fff"
    border-radius: 20
    font-size: 16
    bold: true
  }
}

# ============================================================
# PHASE 6 — ~265-380h tổng (~8-12 tuần)
# ============================================================
ph6: "Phase 6 — Performance & Nanosecond Engineering\n8 projects · ~9-13 tuần · Advanced→Expert" {
  style: {
    fill: "#1a1a2e"
    stroke: "#e94560"
    font-color: "#e94560"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p21: "#21 Memory Pool\nCustom Allocator\nSlab/pool/arena, fragmentation\n12-18h (~1-2 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p22: "#22 SIMD Library\nCPU Vectorization\nSSE/AVX intrinsics\n20-30h (~3-4 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p23: "#23 Cache-Optimized\nCache Line Mastery\nCache lines, SoA vs AoS\n~45h (~1 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p24: "#24 Lock-free\nAtomic Operations\nCAS, memory ordering, ABA\n~55h (~1 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p25: "#25 ECS Architecture\nData-Oriented Design\nEntity/Component/System\n25-40h (~3-5 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p26: "#26 io_uring Server\nZero-syscall Async I/O\nSubmission/completion rings\n40-55h (~1-1.5 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p27: "★ #27 Kernel Bypass\nDPDK-style Stack\nUserspace NIC, zero-copy\n100-140h (~3-4 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }
  p28: "#28 Zero-Copy IPC\nShared Memory Bus\nmmap, ring buffers\n50-70h (~1-1.5 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }

  p21 -> p22
  p22 -> p23
  p23 -> p25
  p24 -> p28
  p26 -> p27
}

# ============================================================
# PHASE 7 — ~230-310h tổng (~7-10 tuần)
# ============================================================
ph7: "Phase 7 — AI/ML Infrastructure\n5 projects · ~7-10 tuần · Intermediate→Expert" {
  style: {
    fill: "#1a1a2e"
    stroke: "#533483"
    font-color: "#ce93d8"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p29: "#29 Neural Net\nBackpropagation\nForward/backward, autograd\n18-28h (~2-4 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p30: "#30 Transformer\nAttention Mechanism\nSelf-attention, multi-head\n35-55h (~1-1.5 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p31: "★ #31 GPU Compute\nCUDA Programming\nKernels, warps, shared mem\n50-70h (~1-1.5 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }
  p32: "#32 Quantization\nINT8/FP16 Optim\nPTQ, QAT, mixed precision\n50-70h (~1-1.5 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p33: "#33 Dist. Training\nMulti-GPU Framework\nData/model parallel, AllReduce\n80-110h (~2-3 tuần)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }

  p29 -> p30
  p30 -> p31
  p31 -> p32
  p31 -> p33
}

# ============================================================
# MILESTONE 3
# ============================================================
m3: "MILESTONE 3\nTháng 10-14\nSenior @ Big Tech + ML Infra\nApply: Google L5, NVIDIA, Meta E5" {
  style: {
    fill: "#081c15"
    font-color: "#52b788"
    border-radius: 20
    font-size: 16
    bold: true
    stroke: "#52b788"
  }
}

# ============================================================
# PHASE 8 — ~390-545h tổng (~12-17 tuần)
# ============================================================
ph8: "Phase 8 — Capstone: Chứng Minh Đẳng Cấp\n7 projects · ~13-18 tuần · Expert" {
  style: {
    fill: "#1a1a2e"
    stroke: "#e94560"
    font-color: "#e94560"
    border-radius: 12
    font-size: 18
    bold: true
  }

  p34: "#34 Bytecode VM\nVirtual Machine\nOpcode dispatch, stack, GC\n~20h (~2-3 ngày)" {
    style: { fill: "#16213e"; font-color: "#eee"; border-radius: 8; font-size: 14 }
  }
  p35: "★ #35 Coroutine Runtime\nAsync Runtime\nStackful/stackless, scheduler\n80-100h (~2-3 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }
  p36: "★ #36 Build Redis\nIn-Memory Store\nEvent loop, RDB/AOF, RESP\n~65h (~1.5-2 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }
  p37: "★ #37 Build Docker\nContainer Runtime\nOverlay FS, image layers\n45-70h (~1-1.5 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }
  p38: "★ #38 Build Allocator\nMemory Allocator\nmalloc/free, buddy, slab\n40-60h (~1-1.5 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }
  p39: "★ #39 Build JIT\nJIT Compiler\nIR, codegen, register alloc\n60-90h (~1.5-2.5 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }
  p40: "★ #40 Order Matching\nHFT-Grade System\nPrice-time, lock-free, ns-latency\n120-160h (~3-4 tuần)" {
    style: { fill: "#0a1628"; font-color: "#e94560"; border-radius: 8; font-size: 14; stroke: "#e94560" }
  }

  p34 -> p39
  p35 -> p36
}

# ============================================================
# MILESTONE 4
# ============================================================
m4: "MILESTONE 4\nTháng 18-24\nStaff-level Knowledge\nApply: Staff, HFT, Principal" {
  style: {
    fill: "#0a0a0a"
    font-color: "#e94560"
    border-radius: 20
    font-size: 16
    bold: true
    stroke: "#e94560"
  }
}

# ============================================================
# PHASE FLOW
# ============================================================
ph1 -> ph2
ph2 -> ph3
ph3 -> m1
m1 -> ph4
ph4 -> ph5
ph5 -> m2
m2 -> ph6
ph6 -> ph7
ph7 -> m3
m3 -> ph8
ph8 -> m4
