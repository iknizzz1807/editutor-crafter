<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduTutor Crafter - Project Explorer</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-card: #1a1a24;
            --bg-hover: #22222e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b0;
            --text-muted: #606070;
            --accent-1: #6366f1;
            --accent-2: #8b5cf6;
            --accent-3: #ec4899;
            --accent-4: #06b6d4;
            --beginner: #22c55e;
            --intermediate: #eab308;
            --advanced: #f97316;
            --expert: #ef4444;
            --border: rgba(255,255,255,0.08);
            --glow: rgba(99, 102, 241, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-gradient {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(236, 72, 153, 0.05) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        header {
            padding: 40px 0 30px;
            text-align: center;
        }

        .logo {
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--accent-1);
            margin-bottom: 16px;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-1) 50%, var(--accent-2) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Search & Filters */
        .search-container {
            margin: 40px 0;
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .search-box {
            position: relative;
            flex: 1;
            max-width: 400px;
        }

        .search-box input {
            width: 100%;
            padding: 14px 20px 14px 48px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--accent-1);
            box-shadow: 0 0 0 3px var(--glow);
        }

        .search-box::before {
            content: '';
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23606070'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z'%3E%3C/path%3E%3C/svg%3E") center/contain no-repeat;
        }

        .filter-pills {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-pill {
            padding: 10px 18px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 100px;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-pill:hover {
            background: var(--bg-hover);
            border-color: var(--accent-1);
            color: var(--text-primary);
        }

        .filter-pill.active {
            background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
            border-color: transparent;
            color: white;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 24px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-1), var(--accent-4));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Domain Cards Grid */
        .domains-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 24px;
            margin-bottom: 60px;
        }

        .domain-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 28px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .domain-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-1), var(--accent-2), var(--accent-3));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .domain-card:hover {
            transform: translateY(-6px);
            border-color: var(--accent-1);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 60px var(--glow);
        }

        .domain-card:hover::before {
            opacity: 1;
        }

        .domain-icon {
            width: 56px;
            height: 56px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
        }

        .domain-name {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .domain-subdomains {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .project-counts {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .count-badge {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .count-badge.beginner { background: rgba(34, 197, 94, 0.15); color: var(--beginner); }
        .count-badge.intermediate { background: rgba(234, 179, 8, 0.15); color: var(--intermediate); }
        .count-badge.advanced { background: rgba(249, 115, 22, 0.15); color: var(--advanced); }
        .count-badge.expert { background: rgba(239, 68, 68, 0.15); color: var(--expert); }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 24px;
            overflow: hidden;
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .modal-header {
            padding: 24px 28px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .close-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--bg-hover);
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .close-btn:hover {
            background: var(--accent-1);
            color: white;
        }

        .modal-content {
            padding: 28px;
            overflow-y: auto;
            max-height: calc(85vh - 80px);
        }

        /* Project List */
        .level-section {
            margin-bottom: 32px;
        }

        .level-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .level-indicator {
            padding: 6px 14px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .level-indicator.beginner { background: var(--beginner); color: #000; }
        .level-indicator.intermediate { background: var(--intermediate); color: #000; }
        .level-indicator.advanced { background: var(--advanced); color: #000; }
        .level-indicator.expert { background: var(--expert); color: #fff; }

        .projects-list {
            display: grid;
            gap: 12px;
        }

        .project-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .project-item:hover {
            border-color: var(--accent-1);
            transform: translateX(8px);
        }

        .project-item.detailed {
            border-left: 3px solid var(--accent-1);
        }

        .project-info h4 {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .project-info p {
            font-size: 13px;
            color: var(--text-muted);
        }

        .project-arrow {
            color: var(--text-muted);
            transition: all 0.3s ease;
        }

        .project-item:hover .project-arrow {
            color: var(--accent-1);
            transform: translateX(4px);
        }

        /* Project Detail View */
        .project-detail {
            animation: slideIn 0.4s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 13px;
            cursor: pointer;
            margin-bottom: 24px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            border-color: var(--accent-1);
            color: var(--text-primary);
        }

        .detail-header {
            margin-bottom: 32px;
        }

        .detail-header h3 {
            font-size: 1.75rem;
            margin-bottom: 8px;
        }

        .detail-meta {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-1);
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border);
        }

        /* Milestones */
        .milestone {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .milestone:hover {
            border-color: rgba(99, 102, 241, 0.3);
        }

        .milestone-header {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 16px;
        }

        .milestone-number {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            flex-shrink: 0;
        }

        .milestone-title {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .milestone-desc {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .milestone-details {
            display: none;
        }

        .milestone.expanded .milestone-details {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .expand-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            background: var(--bg-hover);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .expand-btn:hover {
            background: var(--accent-1);
            border-color: var(--accent-1);
            color: white;
        }

        .criteria-list, .pitfalls-list, .concepts-list {
            list-style: none;
            margin-top: 12px;
        }

        .criteria-list li, .pitfalls-list li, .concepts-list li {
            padding: 8px 0 8px 24px;
            position: relative;
            font-size: 13px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
        }

        .criteria-list li:last-child, .pitfalls-list li:last-child, .concepts-list li:last-child {
            border-bottom: none;
        }

        .criteria-list li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--beginner);
        }

        .pitfalls-list li::before {
            content: '‚ö†';
            position: absolute;
            left: 0;
            color: var(--advanced);
        }

        .concepts-list li::before {
            content: '‚óÜ';
            position: absolute;
            left: 0;
            color: var(--accent-1);
        }

        /* Hints */
        .hints-container {
            margin-top: 16px;
        }

        .hint-level {
            background: var(--bg-hover);
            border-radius: 10px;
            margin-bottom: 8px;
            overflow: hidden;
        }

        .hint-header {
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            font-weight: 500;
        }

        .hint-header:hover {
            background: rgba(99, 102, 241, 0.1);
        }

        .hint-content {
            display: none;
            padding: 0 16px 16px;
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .hint-content pre {
            background: var(--bg-primary);
            padding: 12px;
            border-radius: 8px;
            overflow-x: auto;
            margin-top: 8px;
            font-size: 12px;
        }

        .hint-level.open .hint-content {
            display: block;
        }

        /* Resources */
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
        }

        .resource-link {
            display: block;
            padding: 16px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .resource-link:hover {
            border-color: var(--accent-1);
            transform: translateY(-2px);
        }

        .resource-link .type {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-2);
            margin-bottom: 4px;
        }

        .resource-link .name {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
        }

        /* Tags */
        .tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        .tag {
            padding: 4px 10px;
            background: rgba(99, 102, 241, 0.15);
            border-radius: 4px;
            font-size: 12px;
            color: var(--accent-1);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-muted);
        }

        .empty-state .icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 0;
            color: var(--text-muted);
            font-size: 13px;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .domains-grid {
                grid-template-columns: 1fr;
            }

            .search-container {
                flex-direction: column;
            }

            .search-box {
                max-width: 100%;
            }

            .stats-bar {
                gap: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-gradient"></div>

    <div class="container">
        <header>
            <div class="logo">EduTutor Crafter</div>
            <h1>Project Explorer</h1>
            <p class="subtitle">Explore 100+ "Build Your Own X" projects across 11 domains, from beginner to expert level</p>
        </header>

        <div class="search-container">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search projects, domains, or technologies...">
            </div>
            <div class="filter-pills">
                <button class="filter-pill active" data-filter="all">All Levels</button>
                <button class="filter-pill" data-filter="beginner">Beginner</button>
                <button class="filter-pill" data-filter="intermediate">Intermediate</button>
                <button class="filter-pill" data-filter="advanced">Advanced</button>
                <button class="filter-pill" data-filter="expert">Expert</button>
            </div>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-value" id="totalDomains">11</div>
                <div class="stat-label">Domains</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="totalProjects">0</div>
                <div class="stat-label">Projects</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="detailedProjects">0</div>
                <div class="stat-label">Detailed Specs</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="totalMilestones">0</div>
                <div class="stat-label">Milestones</div>
            </div>
        </div>

        <div class="domains-grid" id="domainsGrid"></div>

        <footer>
            Built with care for learners everywhere. Data from EduTutor Crafter curriculum v2.0
        </footer>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="modal" id="modal">
        <div class="modal-header">
            <h2 id="modalTitle"></h2>
            <button class="close-btn" id="closeModal">&times;</button>
        </div>
        <div class="modal-content" id="modalContent"></div>
    </div>

    <script>
    // Data from projects.yaml
    const projectsData = {
        domains: [
            {
                id: "app-dev",
                name: "Application Development",
                icon: "üåê",
                subdomains: ["Web Frontend", "Web Backend", "Full-stack", "Mobile", "Desktop & CLI"],
                projects: {
                    beginner: [
                        { id: "todo-app", name: "Todo App", description: "Basic CRUD application", detailed: true },
                        { id: "weather-app", name: "Weather App", description: "API consumption, async data", detailed: true },
                        { id: "portfolio-site", name: "Portfolio Website", description: "Static site, responsive design" },
                        { id: "calculator", name: "Calculator", description: "UI state management", detailed: true }
                    ],
                    intermediate: [
                        { id: "blog-platform", name: "Blog Platform", description: "Full CRUD, auth, markdown", detailed: true },
                        { id: "chat-app", name: "Real-time Chat", description: "WebSocket, real-time updates", detailed: true },
                        { id: "ecommerce-basic", name: "E-commerce (Basic)", description: "Cart, checkout flow" }
                    ],
                    advanced: [
                        { id: "social-network", name: "Social Network", description: "Feed, followers, notifications", detailed: true },
                        { id: "video-streaming", name: "Video Streaming", description: "HLS, adaptive bitrate" }
                    ],
                    expert: [
                        { id: "build-react", name: "Build Your Own React", description: "Virtual DOM, reconciliation, hooks, fiber", detailed: false },
                        { id: "build-bundler", name: "Build Your Own Bundler", description: "Module resolution, tree shaking, code splitting", detailed: false },
                        { id: "build-spreadsheet", name: "Build Your Own Spreadsheet", description: "Excel-like app with formulas", detailed: true },
                        { id: "build-web-framework", name: "Build Your Own Web Framework", description: "Express/Django clone", detailed: false }
                    ]
                }
            },
            {
                id: "systems",
                name: "Systems & Low-Level",
                icon: "‚öôÔ∏è",
                subdomains: ["Systems Programming", "Networking", "Operating Systems"],
                projects: {
                    beginner: [
                        { id: "cat-clone", name: "Cat Clone", description: "File reading, stdout" },
                        { id: "wc-clone", name: "Wc Clone", description: "Line/word/byte counting" },
                        { id: "grep-clone", name: "Grep Clone", description: "Pattern matching basics" },
                        { id: "file-copy", name: "File Copy (cp clone)", description: "File I/O, permissions" }
                    ],
                    intermediate: [
                        { id: "shell-basic", name: "Shell (Basic)", description: "Pipes, redirects" },
                        { id: "http-server-basic", name: "HTTP Server (Basic)", description: "Static file serving" },
                        { id: "memory-pool", name: "Memory Pool Allocator", description: "Fixed-size block allocation" },
                        { id: "process-spawner", name: "Process Spawner", description: "fork/exec, process lifecycle", bridge: true },
                        { id: "signal-handler", name: "Signal Handler", description: "SIGINT, SIGTERM, signal masks", bridge: true }
                    ],
                    advanced: [
                        { id: "http2-server", name: "HTTP/2 Server", description: "Multiplexing, HPACK" },
                        { id: "container-basic", name: "Container (Basic)", description: "Namespaces isolation" },
                        { id: "mini-shell", name: "Mini Shell", description: "Job control, background processes", bridge: true },
                        { id: "virtual-memory-sim", name: "Virtual Memory Simulator", description: "Page tables, TLB", bridge: true }
                    ],
                    expert: [
                        { id: "build-docker", name: "Build Your Own Docker", description: "Container runtime with namespaces, cgroups", detailed: true, languages: ["Go", "Rust", "C"] },
                        { id: "build-shell", name: "Build Your Own Shell", description: "Full Unix shell with job control", detailed: true, languages: ["C", "Rust", "Go"] },
                        { id: "build-allocator", name: "Build Your Own Memory Allocator", description: "malloc/free implementation", detailed: true, languages: ["C", "Rust", "Zig"] },
                        { id: "build-os", name: "Build Your Own OS", description: "Operating system kernel", detailed: true, languages: ["C", "Rust", "Zig"] },
                        { id: "build-tcp-stack", name: "Build Your Own TCP/IP Stack", description: "Network stack implementation", detailed: true, languages: ["C", "Rust", "Go"] }
                    ]
                }
            },
            {
                id: "data-storage",
                name: "Data & Storage",
                icon: "üóÑÔ∏è",
                subdomains: ["Databases", "Data Engineering"],
                projects: {
                    beginner: [
                        { id: "json-db", name: "JSON File Database", description: "File-based storage" },
                        { id: "kv-memory", name: "In-memory Key-Value Store", description: "Hash map based" }
                    ],
                    intermediate: [
                        { id: "btree-impl", name: "B-tree Implementation", description: "Insert, delete, rebalance" },
                        { id: "sql-parser", name: "SQL Parser", description: "SELECT, WHERE, JOIN" }
                    ],
                    advanced: [
                        { id: "query-optimizer", name: "Query Optimizer", description: "Cost estimation" },
                        { id: "wal-impl", name: "WAL Implementation", description: "Write-ahead logging" }
                    ],
                    expert: [
                        { id: "build-redis", name: "Build Your Own Redis", description: "In-memory data store with RESP protocol", detailed: true },
                        { id: "build-sqlite", name: "Build Your Own SQLite", description: "Embedded SQL database", detailed: true },
                        { id: "build-kafka", name: "Build Your Own Kafka", description: "Distributed message queue", detailed: false }
                    ]
                }
            },
            {
                id: "distributed",
                name: "Distributed & Cloud",
                icon: "‚òÅÔ∏è",
                subdomains: ["Distributed Systems", "Cloud & DevOps", "Consensus", "Blockchain"],
                projects: {
                    beginner: [
                        { id: "service-discovery", name: "Service Discovery", description: "Registry, health checks" },
                        { id: "rpc-basic", name: "RPC Framework (Basic)", description: "Remote procedure calls", bridge: true }
                    ],
                    intermediate: [
                        { id: "load-balancer-basic", name: "Load Balancer (Basic)", description: "Round-robin", detailed: true },
                        { id: "rate-limiter", name: "Rate Limiter", description: "Token bucket", detailed: true },
                        { id: "leader-election", name: "Leader Election", description: "Bully algorithm, ring election", bridge: true },
                        { id: "replicated-log", name: "Replicated Log", description: "Append-only log, basic replication", bridge: true },
                        { id: "vector-clocks", name: "Vector Clocks", description: "Logical time, causality", bridge: true }
                    ],
                    advanced: [
                        { id: "distributed-cache", name: "Distributed Cache", description: "Consistent hashing", detailed: true },
                        { id: "gossip-protocol", name: "Gossip Protocol", description: "Epidemic broadcast", bridge: true },
                        { id: "2pc-impl", name: "Two-Phase Commit", description: "Distributed transactions", bridge: true }
                    ],
                    expert: [
                        { id: "build-raft", name: "Build Your Own Raft", description: "Consensus algorithm", detailed: false, languages: ["Go", "Rust", "Java"] },
                        { id: "build-blockchain", name: "Build Your Own Blockchain", description: "Proof of work, P2P network", detailed: true, languages: ["Python", "Go", "Rust"] },
                        { id: "build-distributed-kv", name: "Build Your Own Distributed KV Store", description: "Partitioning, replication", detailed: false }
                    ]
                }
            },
            {
                id: "ai-ml",
                name: "AI & Machine Learning",
                icon: "üß†",
                subdomains: ["Classical ML", "Deep Learning", "NLP"],
                projects: {
                    beginner: [
                        { id: "linear-regression", name: "Linear Regression", description: "Gradient descent", detailed: true },
                        { id: "knn", name: "KNN Classifier", description: "Distance metrics", detailed: true }
                    ],
                    intermediate: [
                        { id: "neural-network-basic", name: "Neural Network (micrograd)", description: "Forward/backward pass" },
                        { id: "word2vec", name: "Word Embeddings", description: "Skip-gram, CBOW" }
                    ],
                    advanced: [
                        { id: "transformer-scratch", name: "Transformer from Scratch", description: "Attention mechanism" },
                        { id: "gan", name: "GAN", description: "Generator, discriminator" }
                    ],
                    expert: [
                        { id: "build-nn-framework", name: "Build Your Own Neural Network Framework", description: "PyTorch/TensorFlow clone", detailed: true },
                        { id: "build-transformer", name: "Build Your Own Transformer", description: "Full GPT implementation", detailed: true }
                    ]
                }
            },
            {
                id: "game-dev",
                name: "Game Development",
                icon: "üéÆ",
                subdomains: ["Game Programming", "Graphics", "Engine Development"],
                projects: {
                    beginner: [
                        { id: "pong", name: "Pong", description: "Basic game loop", detailed: true },
                        { id: "snake", name: "Snake", description: "Grid movement", detailed: true },
                        { id: "tetris", name: "Tetris", description: "Rotation, line clearing", detailed: true }
                    ],
                    intermediate: [
                        { id: "platformer", name: "Platformer", description: "Gravity, jumping" },
                        { id: "topdown-shooter", name: "Top-down Shooter", description: "Enemies, projectiles" }
                    ],
                    advanced: [
                        { id: "software-3d", name: "Software 3D Renderer", description: "No GPU, pure math" },
                        { id: "ecs-arch", name: "ECS Architecture", description: "Entity-component-system" }
                    ],
                    expert: [
                        { id: "build-game-engine", name: "Build Your Own Game Engine", description: "Full 2D/3D engine", detailed: true },
                        { id: "build-raytracer", name: "Build Your Own Ray Tracer", description: "Path tracing renderer", detailed: true }
                    ]
                }
            },
            {
                id: "compilers",
                name: "Languages & Compilers",
                icon: "üìù",
                subdomains: ["Parsing & Lexing", "Interpreters", "Compilers", "Runtime Systems"],
                projects: {
                    beginner: [
                        { id: "calculator-parser", name: "Calculator Parser", description: "Arithmetic expressions" },
                        { id: "json-parser", name: "JSON Parser", description: "Recursive descent", detailed: true },
                        { id: "tokenizer", name: "Tokenizer/Lexer", description: "Token types, state machine", bridge: true }
                    ],
                    intermediate: [
                        { id: "lisp-interp", name: "Lisp Interpreter", description: "S-expressions, eval" },
                        { id: "bytecode-vm", name: "Bytecode VM", description: "Stack-based" },
                        { id: "ast-builder", name: "AST Builder", description: "Parse expressions to AST", bridge: true },
                        { id: "ast-interpreter", name: "AST Tree-Walking Interpreter", description: "Evaluate AST directly", bridge: true }
                    ],
                    advanced: [
                        { id: "type-checker", name: "Type Checker", description: "Type inference" },
                        { id: "simple-gc", name: "Simple GC", description: "Mark-sweep" },
                        { id: "bytecode-compiler", name: "Bytecode Compiler", description: "AST to bytecode", bridge: true },
                        { id: "wasm-emitter", name: "WebAssembly Emitter", description: "Emit .wasm from AST", bridge: true }
                    ],
                    expert: [
                        { id: "build-interpreter", name: "Build Your Own Interpreter (Lox)", description: "Crafting Interpreters", detailed: true, languages: ["Java", "C", "Rust", "Go"] },
                        { id: "build-gc", name: "Build Your Own Garbage Collector", description: "Memory management", detailed: true, languages: ["C", "Rust", "Zig"] },
                        { id: "build-regex", name: "Build Your Own Regex Engine", description: "NFA/DFA, Thompson construction", detailed: true, languages: ["C", "Rust", "Go", "Python"] }
                    ]
                }
            },
            {
                id: "security",
                name: "Security",
                icon: "üîê",
                subdomains: ["Cryptography", "Web Security"],
                projects: {
                    beginner: [
                        { id: "hash-impl", name: "Hash Function", description: "SHA-256 from spec", detailed: true },
                        { id: "password-hashing", name: "Password Hashing", description: "bcrypt, salt" }
                    ],
                    intermediate: [
                        { id: "aes-impl", name: "AES Implementation", description: "Block cipher" },
                        { id: "jwt-impl", name: "JWT Library", description: "Sign, verify" }
                    ],
                    advanced: [
                        { id: "https-client", name: "HTTPS Client", description: "TLS handshake" }
                    ],
                    expert: [
                        { id: "build-tls", name: "Build Your Own TLS", description: "TLS 1.3 implementation", detailed: false }
                    ]
                }
            },
            {
                id: "cs-fundamentals",
                name: "CS Fundamentals",
                icon: "üéì",
                subdomains: ["Data Structures", "Algorithms"],
                projects: {
                    beginner: [
                        { id: "linked-list", name: "Linked List", description: "Single, double, circular", detailed: true },
                        { id: "stack-queue", name: "Stack & Queue", description: "Array and linked" }
                    ],
                    intermediate: [
                        { id: "bst", name: "Binary Search Tree", description: "Insert, delete, traversal" },
                        { id: "hash-table", name: "Hash Table", description: "Chaining, open addressing" }
                    ],
                    advanced: [
                        { id: "red-black-tree", name: "Red-Black Tree", description: "Balanced tree" },
                        { id: "graph-algos", name: "Graph Algorithms", description: "BFS, DFS, Dijkstra" }
                    ],
                    expert: [
                        { id: "build-btree", name: "Build Your Own B-tree", description: "Disk-friendly tree", detailed: false }
                    ]
                }
            },
            {
                id: "specialized",
                name: "Specialized",
                icon: "üîß",
                subdomains: ["Developer Tools", "Advanced Networking", "Embedded & Emulation"],
                projects: {
                    beginner: [],
                    intermediate: [],
                    advanced: [],
                    expert: [
                        { id: "build-git", name: "Build Your Own Git", description: "Version control", detailed: true },
                        { id: "build-text-editor", name: "Build Your Own Text Editor", description: "Vim-like editor", detailed: true },
                        { id: "build-bittorrent", name: "Build Your Own BitTorrent", description: "P2P file sharing", detailed: true },
                        { id: "build-dns", name: "Build Your Own DNS Server", description: "Recursive resolver", detailed: true },
                        { id: "build-debugger", name: "Build Your Own Debugger", description: "GDB-like", detailed: false },
                        { id: "build-lsp", name: "Build Your Own LSP Server", description: "Language server protocol", detailed: true },
                        { id: "build-emulator", name: "Build Your Own Emulator", description: "NES/GameBoy/CHIP-8", detailed: false },
                        { id: "build-browser", name: "Build Your Own Browser", description: "Browser engine", detailed: false }
                    ]
                }
            },
            {
                id: "software-engineering",
                name: "Software Engineering Practices",
                icon: "‚úÖ",
                subdomains: ["Testing & Quality", "CI/CD", "Observability", "Engineering Practices"],
                projects: {
                    beginner: [
                        { id: "unit-testing-basics", name: "Unit Testing Fundamentals", description: "pytest/jest basics" },
                        { id: "git-workflow", name: "Git Workflow Mastery", description: "Branching, PRs, rebasing" },
                        { id: "documentation-project", name: "Documentation Project", description: "README, API docs" }
                    ],
                    intermediate: [
                        { id: "tdd-kata", name: "TDD Kata Series", description: "Red-green-refactor" },
                        { id: "ci-pipeline", name: "CI Pipeline Setup", description: "GitHub Actions/Jenkins" },
                        { id: "logging-structured", name: "Structured Logging", description: "JSON logs, aggregation" },
                        { id: "code-review-practice", name: "Code Review Practice", description: "Review real PRs" }
                    ],
                    advanced: [
                        { id: "integration-testing", name: "Integration Testing Suite", description: "Test containers, mocking" },
                        { id: "cd-deployment", name: "CD with Blue-Green Deployment", description: "Zero-downtime deploys" },
                        { id: "metrics-dashboard", name: "Metrics & Alerting Dashboard", description: "Prometheus, Grafana" },
                        { id: "distributed-tracing", name: "Distributed Tracing", description: "OpenTelemetry, Jaeger" }
                    ],
                    expert: [
                        { id: "build-test-framework", name: "Build Your Own Test Framework", description: "pytest/jest clone", detailed: true },
                        { id: "build-ci-system", name: "Build Your Own CI System", description: "Pipeline executor", detailed: false },
                        { id: "build-observability-platform", name: "Build Your Own Observability Platform", description: "Logs/metrics/traces", detailed: false }
                    ]
                }
            }
        ],

        // Detailed Expert Projects
        expertProjects: {
            "build-redis": {
                name: "Build Your Own Redis",
                description: "Build an in-memory data structure store that implements the Redis protocol. You'll learn about TCP servers, protocol parsing, data structures, and persistence.",
                difficulty: "expert",
                estimatedHours: "40-60",
                prerequisites: ["TCP/IP networking basics", "Hash tables and data structures", "Concurrency fundamentals", "File I/O"],
                languages: { recommended: ["Go", "Rust", "C"], also: ["Python", "Java", "TypeScript"] },
                resources: [
                    { name: "CodeCrafters Redis Challenge", url: "https://app.codecrafters.io/courses/redis/overview", type: "interactive" },
                    { name: "Build Your Own Redis (Book)", url: "https://build-your-own.org/redis/", type: "book" },
                    { name: "Redis Protocol Specification (RESP)", url: "https://redis.io/docs/reference/protocol-spec/", type: "documentation" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "TCP Server + RESP Protocol",
                        description: "Create a TCP server that listens on port 6379 and responds to PING with +PONG. Implement basic RESP parsing.",
                        criteria: ["Server binds to port 6379", "Accepts TCP connections", "Responds to PING with +PONG\\r\\n", "Handles multiple sequential commands", "Clean shutdown on SIGINT"],
                        hints: {
                            level1: "Start with a simple TCP server using your language's net library. Accept connections in a loop.",
                            level2: "RESP Simple Strings start with '+', errors with '-'. PING expects '+PONG\\r\\n' response.",
                            level3: "RESP format examples:\n- Simple String: +OK\\r\\n\n- Error: -ERR unknown command\\r\\n\n- Integer: :1000\\r\\n\n- Bulk String: $5\\r\\nhello\\r\\n\n- Array: *2\\r\\n$4\\r\\nPING\\r\\n$4\\r\\nPONG\\r\\n"
                        },
                        pitfalls: ["Forgetting \\r\\n line endings (CRLF, not just LF)", "Not handling partial reads (TCP is a stream)", "Blocking the main thread on single client"],
                        concepts: ["TCP sockets and server lifecycle", "RESP protocol encoding/decoding", "Basic network I/O"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 2,
                        name: "GET/SET/DEL Commands",
                        description: "Implement basic key-value operations. Store data in an in-memory hash map.",
                        criteria: ["SET key value stores the key-value pair", "GET key returns the value or nil", "DEL key removes the key and returns 1 (or 0)", "Keys are case-sensitive", "Values can be any string (including binary)"],
                        hints: {
                            level1: "Use a hash map (dict/map) to store key-value pairs.",
                            level2: "Parse RESP arrays for commands. SET comes as *3\\r\\n$3\\r\\nSET\\r\\n$3\\r\\nkey\\r\\n$5\\r\\nvalue\\r\\n",
                            level3: "GET returns Bulk String ($length\\r\\nvalue\\r\\n) or Null Bulk String ($-1\\r\\n)"
                        },
                        pitfalls: ["Not handling binary-safe strings", "Forgetting null response for non-existent keys", "Case sensitivity issues"],
                        concepts: ["Hash table implementation", "RESP array parsing", "Command dispatch pattern"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Expiration (TTL)",
                        description: "Add key expiration support. Keys can be set with PX (milliseconds) or EX (seconds) options.",
                        criteria: ["SET key value PX milliseconds", "SET key value EX seconds", "GET returns nil for expired keys", "TTL key returns remaining time", "Expired keys are cleaned up"],
                        hints: {
                            level1: "Store expiration timestamp alongside each value.",
                            level2: "Check expiration on GET (lazy deletion). Optionally run background cleanup.",
                            level3: "Two deletion strategies:\n1. Lazy: Check on access, delete if expired\n2. Active: Background goroutine periodically scans\nRedis uses both."
                        },
                        pitfalls: ["Using relative time instead of absolute timestamp", "Not handling clock drift", "Memory leaks from never-accessed expired keys"],
                        concepts: ["TTL and expiration strategies", "Lazy vs active deletion", "Time handling and precision"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "Data Structures (List, Set, Hash)",
                        description: "Implement Redis data structure commands beyond simple strings.",
                        criteria: ["LPUSH/RPUSH adds elements to list", "LPOP/RPOP removes and returns elements", "LRANGE returns range", "SADD/SMEMBERS for sets", "HSET/HGET for hashes"],
                        hints: {
                            level1: "Use native data structures: arrays for lists, sets for sets, nested maps for hashes.",
                            level2: "Lists in Redis are doubly-linked for O(1) push/pop at both ends.",
                            level3: "For sorted sets (ZADD), consider skip list or balanced tree for O(log n) operations."
                        },
                        pitfalls: ["Using array for list (O(n) insert at head)", "Not handling type errors", "LRANGE negative indices"],
                        concepts: ["Linked lists vs arrays", "Set data structure", "Skip lists (for sorted sets)"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 5,
                        name: "Persistence (RDB Snapshots)",
                        description: "Implement point-in-time snapshots using RDB format. SAVE blocks, BGSAVE forks.",
                        criteria: ["SAVE command creates RDB file synchronously", "BGSAVE forks child process", "Server loads RDB on startup", "RDB file format is binary with checksums"],
                        hints: {
                            level1: "Start with custom binary format. Later match Redis RDB format.",
                            level2: "BGSAVE uses fork() - child inherits memory snapshot via copy-on-write.",
                            level3: "RDB file structure:\n- Magic: \"REDIS\" + version\n- Database selector\n- Key-value pairs with type byte\n- EOF marker\n- CRC64 checksum"
                        },
                        pitfalls: ["Blocking main thread during save", "Not using fork() for BGSAVE", "Corrupted RDB from incomplete writes"],
                        concepts: ["Binary serialization", "Process forking and copy-on-write", "Atomic file operations"],
                        estimatedHours: "5-8"
                    },
                    {
                        id: 6,
                        name: "Persistence (AOF)",
                        description: "Implement Append-Only File logging for durability.",
                        criteria: ["All write commands appended to AOF file", "AOF file contains RESP-formatted commands", "Server replays AOF on startup", "BGREWRITEAOF compacts the file", "Configurable fsync policy"],
                        hints: {
                            level1: "Simply append each write command to a file in RESP format.",
                            level2: "BGREWRITEAOF: fork, iterate current state, write minimal commands.",
                            level3: "fsync strategies:\n- always: fsync after every write (safest, slowest)\n- everysec: fsync once per second (good balance)\n- no: let OS decide (fastest, riskier)"
                        },
                        pitfalls: ["AOF growing unbounded without rewrite", "Concurrent writes during BGREWRITEAOF", "Data loss from buffered writes"],
                        concepts: ["Write-ahead logging", "fsync and durability guarantees", "Log compaction"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 7,
                        name: "Pub/Sub",
                        description: "Implement publish/subscribe messaging pattern.",
                        criteria: ["SUBSCRIBE channel subscribes client", "PUBLISH channel message sends to all", "UNSUBSCRIBE removes subscription", "Pattern subscriptions (PSUBSCRIBE) optional"],
                        hints: {
                            level1: "Maintain map of channel -> list of subscriber connections.",
                            level2: "Subscribed clients enter special mode - only pub/sub commands allowed.",
                            level3: "Message format: *3\\r\\n$7\\r\\nmessage\\r\\n$channel\\r\\n$message\\r\\n"
                        },
                        pitfalls: ["Not blocking other commands in subscribed state", "Memory leaks from disconnected subscribers", "Race conditions in publish"],
                        concepts: ["Pub/Sub pattern", "Observer pattern", "Connection state management"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 8,
                        name: "Cluster Mode (Sharding)",
                        description: "Implement horizontal scaling with hash slot based sharding.",
                        criteria: ["16384 hash slots distributed across nodes", "CLUSTER SLOTS returns distribution", "-MOVED redirect for keys on other nodes", "Hash tags for multi-key operations"],
                        hints: {
                            level1: "CRC16(key) % 16384 gives the slot. Each node owns a range.",
                            level2: "On wrong node, return -MOVED slot ip:port. Client should retry.",
                            level3: "Hash tags: {user123}.profile and {user123}.settings go to same slot."
                        },
                        pitfalls: ["Not handling key migration", "Cross-slot operations", "Network partitions and split brain"],
                        concepts: ["Consistent hashing", "Hash slots and key routing", "Distributed systems fundamentals"],
                        estimatedHours: "8-12"
                    }
                ]
            },
            "build-interpreter": {
                name: "Build Your Own Interpreter (Lox)",
                description: "Build a complete interpreter for the Lox programming language. Based on the excellent 'Crafting Interpreters' book by Bob Nystrom.",
                difficulty: "expert",
                estimatedHours: "40-80",
                prerequisites: ["Basic programming language concepts", "Recursion", "Tree data structures", "Object-oriented programming"],
                languages: { recommended: ["Java", "C", "Rust"], also: ["Python", "Go", "TypeScript"] },
                resources: [
                    { name: "Crafting Interpreters (Free Online Book)", url: "https://craftinginterpreters.com", type: "book" },
                    { name: "Writing An Interpreter In Go", url: "https://interpreterbook.com", type: "book" },
                    { name: "CodeCrafters Interpreter Challenge", url: "https://app.codecrafters.io/courses/interpreter/overview", type: "interactive" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Scanner (Lexer)",
                        description: "Build a scanner that converts Lox source code into tokens. Chapter 4 of Crafting Interpreters.",
                        criteria: ["Recognizes all Lox tokens", "Handles string and number literals", "Tracks line numbers", "Ignores whitespace and comments", "Reports lexical errors"],
                        hints: {
                            level1: "Consume characters one by one. Match against known patterns.",
                            level2: "Token types: ( ) { } , . - + ; / * ! != = == > >= < <=\nKeywords: and class else false for fun if nil or print return super this true var while",
                            level3: "Use a switch on first character, then peek ahead for two-char tokens."
                        },
                        pitfalls: ["Confusing = and ==", "Not handling unterminated strings", "Newlines inside strings"],
                        concepts: ["Lexical analysis", "Token representation", "Error handling"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Representing Code (AST)",
                        description: "Define the abstract syntax tree classes for Lox. Chapter 5.",
                        criteria: ["Expression classes for binary, unary, grouping, literal", "Pretty-printer using visitor pattern", "Statement classes for print, expression, var"],
                        hints: {
                            level1: "Use the Visitor pattern for operations on AST nodes.",
                            level2: "Generate classes from grammar rules. Expr -> Binary, Unary, Literal, Grouping...",
                            level3: "Expr types:\n- Binary: left op right (1 + 2)\n- Unary: op right (-1, !true)\n- Literal: value (42, \"hello\")\n- Grouping: expression ((1 + 2))"
                        },
                        pitfalls: ["Visitor pattern boilerplate", "Mutable vs immutable AST nodes", "Parent/child references creating cycles"],
                        concepts: ["Abstract Syntax Trees", "Visitor pattern", "Expression vs Statement"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Parsing Expressions",
                        description: "Build a recursive descent parser for expressions. Chapter 6.",
                        criteria: ["Parses arithmetic with correct precedence", "Handles parentheses for grouping", "Parses comparison and equality", "Reports syntax errors with context"],
                        hints: {
                            level1: "One function per precedence level. Lower precedence = higher in call stack.",
                            level2: "Precedence (low to high):\nequality (== !=)\ncomparison (< > <= >=)\nterm (+ -)\nfactor (* /)\nunary (! -)\nprimary (literals, grouping)",
                            level3: "Pratt parsing is elegant alternative. Each token has prefix/infix rules + precedence."
                        },
                        pitfalls: ["Left recursion causes infinite loop", "Forgetting closing paren", "Error recovery"],
                        concepts: ["Recursive descent parsing", "Operator precedence", "Error recovery"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 4,
                        name: "Evaluating Expressions",
                        description: "Build a tree-walking interpreter to evaluate expressions. Chapter 7.",
                        criteria: ["Evaluates arithmetic operations", "Handles unary minus and negation", "Implements truthiness", "String concatenation with +", "Runtime error for type mismatches"],
                        hints: {
                            level1: "Implement Visitor that returns evaluated value. Recursively evaluate children.",
                            level2: "Lox is dynamically typed. Operations check types at runtime.",
                            level3: "Truthiness: false and nil are falsy, everything else truthy.\nEquality: nil == nil, numbers by value, strings by content."
                        },
                        pitfalls: ["Division by zero", "String + non-string", "Java null vs Lox nil"],
                        concepts: ["Tree-walking interpretation", "Dynamic typing", "Runtime type checking"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 5,
                        name: "Statements and State",
                        description: "Add statements, variables, and assignment. Chapter 8.",
                        criteria: ["Print statement outputs to stdout", "Variable declarations with var", "Assignment expressions", "Expression statements", "Environment stores variable bindings"],
                        hints: {
                            level1: "Environment is a map from variable name to value.",
                            level2: "var a = 1; creates binding. a = 2; updates existing binding.",
                            level3: "Assignment is an expression (returns value) but lowest precedence."
                        },
                        pitfalls: ["Using undeclared variable", "Assignment to non-variable", "Scoping issues"],
                        concepts: ["Statement vs Expression", "Environment and bindings", "Assignment as expression"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 6,
                        name: "Control Flow",
                        description: "Add if, while, for, and logical operators. Chapter 9.",
                        criteria: ["if/else with proper scoping", "while loops", "for loops (desugared to while)", "Logical and/or with short-circuit"],
                        hints: {
                            level1: "for (init; cond; incr) body -> { init; while (cond) { body; incr; } }",
                            level2: "Short-circuit: a and b returns a if falsy, else b. a or b returns a if truthy, else b.",
                            level3: "No 'break' in Lox. Challenge: add it (requires unwinding)."
                        },
                        pitfalls: ["Dangling else", "Forgetting short-circuit", "Infinite loops without timeout"],
                        concepts: ["Conditional execution", "Loop desugaring", "Short-circuit evaluation"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 7,
                        name: "Functions",
                        description: "Add function declarations and calls. Chapter 10.",
                        criteria: ["fun keyword declares functions", "Parameters and return values", "Return statement exits early", "Functions are first-class values", "Call stack for recursion"],
                        hints: {
                            level1: "Function value stores: name, parameters, body AST, and defining environment.",
                            level2: "Call: create new environment for local vars, execute body, return result.",
                            level3: "Return implemented as exception/longjmp - unwinds call stack to caller."
                        },
                        pitfalls: ["Stack overflow from infinite recursion", "Not restoring environment after call", "Return outside function"],
                        concepts: ["First-class functions", "Call frames", "Return values"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 8,
                        name: "Closures",
                        description: "Implement lexical scoping and closures. Chapter 11.",
                        criteria: ["Functions capture enclosing environment", "Nested functions work correctly", "Closures persist after outer function returns", "Resolving variables at compile time"],
                        hints: {
                            level1: "Closure = function + captured environment. Environment chains to enclosing scopes.",
                            level2: "Resolver pass: determine which declaration each variable refers to.",
                            level3: "Example:\nfun makeCounter() {\n  var i = 0;\n  fun count() {\n    i = i + 1;\n    return i;\n  }\n  return count;\n}\nvar counter = makeCounter();\ncounter(); // 1\ncounter(); // 2"
                        },
                        pitfalls: ["Capturing variable vs capturing value", "Variable resolution with shadowing", "This in closures"],
                        concepts: ["Lexical scoping", "Closures", "Environment chains"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 9,
                        name: "Classes",
                        description: "Add class declarations, instances, and methods. Chapter 12.",
                        criteria: ["class keyword declares classes", "Instances created with ClassName()", "Properties accessed with dot notation", "Methods with implicit 'this'", "Initializer method: init()"],
                        hints: {
                            level1: "Class is a map of method names to functions. Instance has class + fields map.",
                            level2: "this bound when method is accessed. Method call binds this to instance.",
                            level3: "init() is constructor. Called automatically on instance creation."
                        },
                        pitfalls: ["this outside method", "Returning from init()", "Method vs function"],
                        concepts: ["Classes and instances", "This binding", "Constructors"],
                        estimatedHours: "4-5"
                    },
                    {
                        id: 10,
                        name: "Inheritance",
                        description: "Add class inheritance and super calls. Chapter 13.",
                        criteria: ["class Derived < Base syntax", "Methods inherited from superclass", "super.method() calls parent", "Proper method resolution order"],
                        hints: {
                            level1: "Subclass stores reference to superclass. Method lookup chains upward.",
                            level2: "super is looked up in enclosing class, not dynamically.",
                            level3: "class Doughnut {\n  cook() { print \"Fry\"; }\n}\nclass BostonCream < Doughnut {\n  cook() {\n    super.cook();\n    print \"Pipe cream\";\n  }\n}"
                        },
                        pitfalls: ["super outside class", "Inheriting from non-class", "Diamond inheritance"],
                        concepts: ["Single inheritance", "Super calls", "Method resolution"],
                        estimatedHours: "3-4"
                    }
                ]
            },
            "build-docker": {
                name: "Build Your Own Docker",
                description: "Build a container runtime that can run isolated processes using Linux primitives. You'll learn about namespaces, cgroups, and filesystem isolation.",
                difficulty: "expert",
                estimatedHours: "30-50",
                prerequisites: ["Linux system administration", "Process management (fork, exec)", "Filesystem concepts", "Basic networking"],
                languages: { recommended: ["Go", "C", "Rust"], also: [] },
                resources: [
                    { name: "Containers from Scratch", url: "https://ericchiang.github.io/post/containers-from-scratch/", type: "blog" },
                    { name: "Containers from Scratch (Video) - Liz Rice", url: "https://www.youtube.com/watch?v=8fi7uSYlOdc", type: "video" },
                    { name: "Linux Namespaces man page", url: "https://man7.org/linux/man-pages/man7/namespaces.7.html", type: "documentation" },
                    { name: "OCI Runtime Specification", url: "https://github.com/opencontainers/runtime-spec", type: "documentation" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Process Isolation (Namespaces)",
                        description: "Isolate a process using Linux namespaces (PID, UTS, mount).",
                        criteria: ["Process runs with its own PID namespace (PID 1)", "Process has its own hostname (UTS)", "Process has its own mount namespace", "Uses clone() or unshare() syscalls"],
                        hints: {
                            level1: "Use CLONE_NEWPID, CLONE_NEWUTS, CLONE_NEWNS flags with clone().",
                            level2: "unshare command in bash: unshare --pid --uts --mount --fork /bin/bash",
                            level3: "Linux namespace types:\n- PID: Process IDs\n- UTS: Hostname\n- Mount: Filesystem mounts\n- Net: Network stack\n- User: User/group IDs\n- IPC: Inter-process comm\n- Cgroup: Cgroup root"
                        },
                        pitfalls: ["Not using CLONE_NEWPID correctly", "/proc still showing host PIDs", "Permission issues (usually need root)"],
                        concepts: ["Linux namespaces", "Process isolation", "clone() syscall"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 2,
                        name: "Resource Limits (cgroups)",
                        description: "Limit container resources using cgroups (CPU, memory).",
                        criteria: ["Can limit memory usage (OOM-killed if exceeds)", "Can limit CPU shares/quota", "Cgroup filesystem properly set up", "Process added to cgroup before exec"],
                        hints: {
                            level1: "Create directory in /sys/fs/cgroup/memory/mycontainer. Write PID to tasks file.",
                            level2: "Set memory.limit_in_bytes for memory limit. Use cpu.cfs_quota_us for CPU.",
                            level3: "cgroup v2 paths:\n- /sys/fs/cgroup/mycontainer/memory.max\n- /sys/fs/cgroup/mycontainer/cpu.max\n- /sys/fs/cgroup/mycontainer/cgroup.procs"
                        },
                        pitfalls: ["cgroup v1 vs v2 differences", "Not cleaning up cgroups on exit", "Memory limits not accounting kernel memory"],
                        concepts: ["Control groups", "Resource limiting", "OOM killer"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 3,
                        name: "Filesystem Isolation (chroot/pivot_root)",
                        description: "Give container its own root filesystem using chroot or pivot_root.",
                        criteria: ["Container sees only its own filesystem", "Host filesystem is not accessible", "Proc filesystem mounted in container", "Works with any root filesystem (Alpine, Ubuntu)"],
                        hints: {
                            level1: "chroot /path/to/rootfs /bin/sh - simplest form",
                            level2: "pivot_root is more secure than chroot. Requires mount namespace.",
                            level3: "Setup steps:\n1. Create mount namespace\n2. Mount new root somewhere\n3. pivot_root newroot putold\n4. Unmount putold\n5. Mount /proc, /sys, etc."
                        },
                        pitfalls: ["chroot is escapable without mount namespace", "Forgetting to mount /proc", "Not having required binaries in rootfs"],
                        concepts: ["chroot jails", "pivot_root", "Root filesystem"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 4,
                        name: "Layered Filesystem (OverlayFS)",
                        description: "Implement layered filesystem for efficient image storage.",
                        criteria: ["Multiple read-only layers merged into single view", "Write layer captures all modifications", "Copy-on-write semantics", "Layers can be shared between containers"],
                        hints: {
                            level1: "OverlayFS: mount -t overlay overlay -o lowerdir=base,upperdir=changes,workdir=work target",
                            level2: "Multiple lower dirs: lowerdir=layer3:layer2:layer1 (later = higher priority)",
                            level3: "Docker layer structure:\n/var/lib/docker/overlay2/\n  <layer-id>/\n    diff/    # Layer contents\n    lower    # Link to parent\n    work/    # OverlayFS work dir"
                        },
                        pitfalls: ["OverlayFS doesn't support all filesystems", "Renaming directories has copy-up overhead", "Open file handles survive layer changes"],
                        concepts: ["Union filesystems", "Copy-on-write", "Docker image layers"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 5,
                        name: "Container Networking",
                        description: "Set up network namespace with virtual ethernet pair.",
                        criteria: ["Container has its own network stack", "veth pair connects container to host bridge", "Container can reach the internet (via NAT)", "Containers can communicate with each other"],
                        hints: {
                            level1: "ip netns add container; ip link add veth0 type veth peer name veth1",
                            level2: "Move one end of veth into container namespace. Connect other to bridge.",
                            level3: "Network setup:\n1. Create network namespace\n2. Create veth pair\n3. Move veth1 to container\n4. Attach veth0 to docker0 bridge\n5. Configure IP addresses\n6. Set up iptables NAT"
                        },
                        pitfalls: ["DNS resolution (need /etc/resolv.conf)", "iptables rules for masquerading", "Bridge vs host network"],
                        concepts: ["Network namespaces", "Virtual ethernet", "Linux bridge networking"],
                        estimatedHours: "5-8"
                    },
                    {
                        id: 6,
                        name: "Image Format and CLI",
                        description: "Implement OCI image format and Docker-compatible CLI.",
                        criteria: ["Pull images from Docker Hub", "Parse OCI image manifest", "Extract and layer filesystem", "docker run equivalent command"],
                        hints: {
                            level1: "OCI image is tarball with manifest.json pointing to layer tarballs.",
                            level2: "Docker Hub API: GET /v2/<name>/manifests/<tag>",
                            level3: "CLI commands to implement:\n- run: Create and start container\n- exec: Run command in existing container\n- ps: List running containers\n- images: List local images"
                        },
                        pitfalls: ["Image manifest v1 vs v2", "Content-addressable storage", "Image and layer deduplication"],
                        concepts: ["OCI specification", "Container registry protocol", "CLI design"],
                        estimatedHours: "6-10"
                    }
                ]
            },
            "build-git": {
                name: "Build Your Own Git",
                description: "Build a version control system that implements core Git operations. Understand content-addressable storage and the Git object model.",
                difficulty: "expert",
                estimatedHours: "30-50",
                prerequisites: ["File I/O and hashing", "Tree data structures", "Basic compression (zlib)", "Graph algorithms"],
                languages: { recommended: ["Python", "Rust", "Go", "C"], also: [] },
                resources: [
                    { name: "Write yourself a Git!", url: "https://wyag.thb.lt/", type: "tutorial" },
                    { name: "CodeCrafters Git Challenge", url: "https://app.codecrafters.io/courses/git/overview", type: "interactive" },
                    { name: "Git Internals - Git Objects", url: "https://git-scm.com/book/en/v2/Git-Internals-Git-Objects", type: "documentation" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Repository Initialization",
                        description: "Implement git init - create .git directory structure.",
                        criteria: ["Creates .git directory", "Creates .git/objects directory", "Creates .git/refs/heads directory", "Creates .git/HEAD file pointing to refs/heads/master"],
                        hints: {
                            level1: "mkdir -p for nested directories. HEAD contains 'ref: refs/heads/master'",
                            level2: ".git/objects stores all content. .git/refs stores branch pointers.",
                            level3: ".git structure:\n.git/\n  HEAD           # ref: refs/heads/master\n  objects/       # blob, tree, commit objects\n  refs/\n    heads/       # branch refs\n    tags/        # tag refs"
                        },
                        pitfalls: [],
                        concepts: ["Git repository structure", "References (HEAD, branches)"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 2,
                        name: "Object Storage (Blobs)",
                        description: "Implement hash-object and cat-file for blob objects.",
                        criteria: ["hash-object computes SHA-1 of content", "Stores compressed object in .git/objects/xx/yyyy", "cat-file retrieves and decompresses", "Object format: 'blob {size}\\0{content}'"],
                        hints: {
                            level1: "SHA-1 hash of 'blob {size}\\0{content}'. Store zlib-compressed.",
                            level2: "Object path: first 2 chars of hash = directory, rest = filename.",
                            level3: "def hash_object(data, type='blob'):\n  header = f'{type} {len(data)}\\0'.encode()\n  store = header + data\n  sha = hashlib.sha1(store).hexdigest()\n  path = f'.git/objects/{sha[:2]}/{sha[2:]}'\n  compressed = zlib.compress(store)\n  write_file(path, compressed)\n  return sha"
                        },
                        pitfalls: ["Forgetting null byte between header and content", "Not compressing before storage", "Binary vs text content"],
                        concepts: ["Content-addressable storage", "SHA-1 hashing", "Zlib compression"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Tree Objects",
                        description: "Implement tree objects that represent directory structure.",
                        criteria: ["Tree object stores list of (mode, name, hash) entries", "ls-tree displays tree contents", "write-tree creates tree from working directory", "Nested trees for subdirectories"],
                        hints: {
                            level1: "Tree entries: mode (100644 for file, 40000 for dir), name, 20-byte hash.",
                            level2: "Entries sorted by name. Each entry is binary: mode + space + name + null + hash.",
                            level3: "Tree format:\n\"tree {size}\\0\"\n{mode} {name}\\0{20-byte-sha}\n{mode} {name}\\0{20-byte-sha}\n..."
                        },
                        pitfalls: ["Hash stored as binary (20 bytes), not hex (40 chars)", "Sorting rules", "Mode formatting"],
                        concepts: ["Tree data structure", "Directory representation", "Binary formats"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 4,
                        name: "Commit Objects",
                        description: "Implement commit objects with tree, parent, author, message.",
                        criteria: ["commit-tree creates commit object", "Commit has tree hash, parent(s), author, committer, message", "Timestamp in Unix format with timezone", "Chained commits form history"],
                        hints: {
                            level1: "Commit points to tree. First commit has no parent.",
                            level2: "Format: tree, parent (optional), author, committer, blank line, message.",
                            level3: "Commit format:\ntree {tree-sha}\nparent {parent-sha}  # optional\nauthor {name} <{email}> {timestamp} {tz}\ncommitter {name} <{email}> {timestamp} {tz}\n\n{commit message}"
                        },
                        pitfalls: ["Timestamp format", "Handling merge commits", "Message can be multi-line"],
                        concepts: ["Commit graph", "Directed acyclic graph (DAG)", "Immutable history"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 5,
                        name: "References and Branches",
                        description: "Implement branches as references to commits.",
                        criteria: ["branch creates new branch (ref file)", "branch -d deletes branch", "Branches stored in .git/refs/heads/", "HEAD points to current branch", "Detached HEAD when pointing directly to commit"],
                        hints: {
                            level1: "Branch = file containing commit hash. HEAD = file containing 'ref: refs/heads/xxx'.",
                            level2: "update-ref command safely updates ref files.",
                            level3: "# Create branch\necho {commit-sha} > .git/refs/heads/{branch-name}\n# Switch branch (update HEAD)\necho \"ref: refs/heads/{branch}\" > .git/HEAD"
                        },
                        pitfalls: ["Symbolic refs vs direct refs", "Deleting branch you're on", "Ref file locking"],
                        concepts: ["Git references", "Symbolic references", "Branch management"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 6,
                        name: "Index (Staging Area)",
                        description: "Implement the staging area for preparing commits.",
                        criteria: ["add stages files to index", "status shows staged/unstaged changes", "Index is binary file .git/index", "Stores (mode, sha, flags, path) per entry"],
                        hints: {
                            level1: "Index caches file info for quick status checks.",
                            level2: "Binary format with header, entries, and optional extensions.",
                            level3: "Index format (simplified):\nHeader: DIRC, version (2-4), entry count\nEntries: ctime, mtime, dev, ino, mode, uid, gid, size, sha, flags, path"
                        },
                        pitfalls: ["Index is binary, not text", "Stat info for detecting changes", "Path encoding and sorting"],
                        concepts: ["Staging area concept", "Binary file formats", "File metadata caching"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 7,
                        name: "Diff Algorithm",
                        description: "Implement diff to show changes between versions.",
                        criteria: ["Shows line-by-line differences", "Unified diff format", "diff between working tree and index", "diff between commits"],
                        hints: {
                            level1: "Use Myers diff algorithm or Longest Common Subsequence.",
                            level2: "Unified diff: @@ -start,count +start,count @@ then - and + lines.",
                            level3: "Myers algorithm finds shortest edit script.\nKey insight: d-path on k-diagonal.\nO((N+M)D) where D is edit distance."
                        },
                        pitfalls: ["Binary files", "Line ending differences", "Large files / long diffs"],
                        concepts: ["Diff algorithms (Myers, LCS)", "Edit distance", "Unified diff format"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 8,
                        name: "Merge (Three-way)",
                        description: "Implement three-way merge with conflict detection.",
                        criteria: ["Finds common ancestor (merge base)", "Applies non-conflicting changes automatically", "Marks conflicts with <<<< ==== >>>> markers", "Creates merge commit with two parents"],
                        hints: {
                            level1: "Merge base = lowest common ancestor in commit graph.",
                            level2: "Three-way: if only one side changed, take that. If both changed same, conflict.",
                            level3: "For each file:\nbase = file in merge-base\nours = file in current branch\ntheirs = file in other branch\nif ours == theirs: keep ours\nelif ours == base: take theirs\nelif theirs == base: take ours\nelse: conflict"
                        },
                        pitfalls: ["Finding merge base in complex history", "Handling renames during merge", "Nested conflicts"],
                        concepts: ["Three-way merge", "Merge base calculation", "Conflict resolution"],
                        estimatedHours: "6-10"
                    }
                ]
            },
            "build-shell": {
                name: "Build Your Own Shell",
                description: "Build a Unix shell that can execute commands, handle pipes, redirections, and job control. A fundamental systems programming project.",
                difficulty: "advanced",
                estimatedHours: "25-40",
                prerequisites: ["C programming", "Unix process model (fork, exec)", "File descriptors", "Signal handling basics"],
                languages: { recommended: ["C", "Rust", "Go"], also: [] },
                resources: [
                    { name: "Write a Shell in C", url: "https://brennan.io/2015/01/16/write-a-shell-in-c/", type: "blog" },
                    { name: "CodeCrafters Shell Challenge", url: "https://app.codecrafters.io/courses/shell/overview", type: "interactive" },
                    { name: "GNU Implementing a Shell", url: "https://www.gnu.org/software/libc/manual/html_node/Implementing-a-Shell.html", type: "documentation" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Basic REPL and Command Execution",
                        description: "Read input, parse into command and arguments, execute with fork/exec.",
                        criteria: ["Displays prompt and reads user input", "Parses command and arguments", "Forks child process to execute command", "Parent waits for child to complete", "Handles command not found errors"],
                        hints: {
                            level1: "Use fgets() to read input, strtok() to split by spaces.",
                            level2: "fork() returns 0 in child. In child, call execvp(cmd, args). Parent calls waitpid().",
                            level3: "Basic loop:\nwhile (1) {\n  printf(\"> \");\n  fgets(line, sizeof(line), stdin);\n  char *args[] = parse(line);\n  pid_t pid = fork();\n  if (pid == 0) execvp(args[0], args);\n  else waitpid(pid, &status, 0);\n}"
                        },
                        pitfalls: ["Forgetting to null-terminate args array", "Not handling newline from fgets()", "Zombie processes"],
                        concepts: ["REPL pattern", "fork() and exec() family", "Process creation and waiting"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 2,
                        name: "Built-in Commands",
                        description: "Implement cd, exit, pwd, export, and other built-in commands.",
                        criteria: ["cd changes current directory", "cd with no args goes to $HOME", "exit terminates shell", "pwd prints working directory", "export sets environment variables"],
                        hints: {
                            level1: "Built-ins don't fork - they modify shell state directly.",
                            level2: "Use chdir() for cd, getcwd() for pwd, setenv() for export.",
                            level3: "Check if command is built-in BEFORE forking. Handle in parent process."
                        },
                        pitfalls: ["Trying to cd in child process (only affects child)", "Not expanding ~ to HOME", "Environment variables not inherited"],
                        concepts: ["Built-in vs external commands", "Working directory", "Environment variables"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "I/O Redirection",
                        description: "Implement input (<), output (>), and append (>>) redirection.",
                        criteria: ["cmd > file redirects stdout to file", "cmd >> file appends to file", "cmd < file reads stdin from file", "cmd 2> file redirects stderr", "Combinations work (cmd < in > out)"],
                        hints: {
                            level1: "Use open() to get file descriptor, dup2() to redirect.",
                            level2: "dup2(fd, STDOUT_FILENO) makes stdout point to fd. Do this in child before exec.",
                            level3: "In child, before exec:\nint fd = open(filename, O_WRONLY | O_CREAT | O_TRUNC, 0644);\ndup2(fd, STDOUT_FILENO);\nclose(fd);\nexecvp(cmd, args);"
                        },
                        pitfalls: ["Forgetting to close original fd after dup2", "Wrong open() flags", "File permissions on created files"],
                        concepts: ["File descriptors", "dup2() system call", "Unix I/O model"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "Pipes",
                        description: "Implement command pipelines (cmd1 | cmd2 | cmd3).",
                        criteria: ["Two command pipeline works (ls | grep foo)", "Multi-stage pipelines work", "Proper cleanup of file descriptors", "All pipeline stages run concurrently"],
                        hints: {
                            level1: "pipe() creates fd pair. pipe[0] for reading, pipe[1] for writing.",
                            level2: "Fork for each command. Connect stdout of cmd1 to stdin of cmd2 via pipe.",
                            level3: "For cmd1 | cmd2:\nint pipefd[2];\npipe(pipefd);\nif (fork() == 0) {  // cmd1\n  dup2(pipefd[1], STDOUT_FILENO);\n  close(pipefd[0]); close(pipefd[1]);\n  exec(cmd1);\n}\nif (fork() == 0) {  // cmd2\n  dup2(pipefd[0], STDIN_FILENO);\n  close(pipefd[0]); close(pipefd[1]);\n  exec(cmd2);\n}\nclose(pipefd[0]); close(pipefd[1]);\nwait(); wait();"
                        },
                        pitfalls: ["Not closing unused pipe ends (causes hang)", "Parent not closing pipe fds", "Order of fork/close operations"],
                        concepts: ["Unix pipes", "Process communication", "File descriptor inheritance"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 5,
                        name: "Background Jobs",
                        description: "Run commands in background with &, implement job listing.",
                        criteria: ["cmd & runs in background, shell returns immediately", "jobs command lists background processes", "Shell notifies when background job completes", "Background jobs have job numbers [1], [2], etc."],
                        hints: {
                            level1: "Don't waitpid() immediately for background jobs. Store PID in job list.",
                            level2: "Use SIGCHLD handler to detect when background jobs finish.",
                            level3: "Use waitpid(-1, &status, WNOHANG) in SIGCHLD handler to reap zombies."
                        },
                        pitfalls: ["Zombie processes from background jobs", "Race condition in SIGCHLD handler", "Reaping wrong child"],
                        concepts: ["Background execution", "Asynchronous process management", "Zombie processes"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 6,
                        name: "Job Control (fg, bg, Ctrl+Z)",
                        description: "Full job control with suspend, resume, foreground/background.",
                        criteria: ["Ctrl+Z suspends foreground job", "fg brings job to foreground", "bg resumes suspended job in background", "Proper terminal control group management"],
                        hints: {
                            level1: "Handle SIGTSTP (Ctrl+Z). Suspended jobs need to be resumed with SIGCONT.",
                            level2: "Use setpgid() to put job in its own process group. Use tcsetpgrp() for foreground.",
                            level3: "Job control flow:\n1. Create job, put in new process group\n2. If foreground: tcsetpgrp(terminal, job_pgid)\n3. On Ctrl+Z: shell regains terminal, job is stopped\n4. fg: tcsetpgrp to job, send SIGCONT, wait\n5. bg: send SIGCONT, don't wait"
                        },
                        pitfalls: ["Terminal control group confusion", "Orphaned process groups", "Signal handling race conditions"],
                        concepts: ["Process groups", "Terminal control", "Signal handling (SIGTSTP, SIGCONT)"],
                        estimatedHours: "5-8"
                    }
                ]
            },
            "build-text-editor": {
                name: "Build Your Own Text Editor",
                description: "Build a terminal-based text editor from scratch. Based on the kilo editor (~1000 lines of C).",
                difficulty: "advanced",
                estimatedHours: "20-30",
                prerequisites: ["Terminal I/O", "C or systems language", "Basic data structures"],
                languages: { recommended: ["C", "Rust", "Go"], also: [] },
                resources: [
                    { name: "Build Your Own Text Editor", url: "https://viewsourcecode.org/snaptoken/kilo/", type: "tutorial" },
                    { name: "antirez/kilo source", url: "https://github.com/antirez/kilo", type: "reference" },
                    { name: "Hecto (Rust version)", url: "https://philippflenker.com/hecto/", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Raw Mode and Input",
                        description: "Put terminal in raw mode and read keypresses.",
                        criteria: ["Disables canonical mode (line buffering)", "Disables echo", "Reads individual keypresses", "Handles Ctrl+Q to quit", "Restores terminal state on exit"],
                        hints: {
                            level1: "Use tcgetattr/tcsetattr to modify terminal settings.",
                            level2: "Disable ICANON and ECHO flags. Save original termios to restore later.",
                            level3: "struct termios raw;\ntcgetattr(STDIN_FILENO, &raw);\nraw.c_lflag &= ~(ECHO | ICANON | ISIG | IEXTEN);\nraw.c_iflag &= ~(IXON | ICRNL | BRKINT | INPCK | ISTRIP);\nraw.c_oflag &= ~(OPOST);\ntcsetattr(STDIN_FILENO, TCSAFLUSH, &raw);"
                        },
                        pitfalls: ["Not restoring terminal on crash", "Ctrl+C killing before cleanup", "Different terminal emulators"],
                        concepts: ["Terminal modes (canonical vs raw)", "termios structure", "Signal handling for cleanup"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Screen Refresh",
                        description: "Clear screen and position cursor using escape sequences.",
                        criteria: ["Clears screen on refresh", "Draws rows with ~ for empty lines", "Positions cursor correctly", "Uses escape sequences (VT100)"],
                        hints: {
                            level1: "\\x1b[2J clears screen. \\x1b[H positions cursor at top-left.",
                            level2: "\\x1b[K clears line from cursor. Build screen in buffer, write once.",
                            level3: "Common escape sequences:\n\\x1b[2J    - Clear entire screen\n\\x1b[H     - Move cursor to 1,1\n\\x1b[{r};{c}H - Move cursor to row,col\n\\x1b[K     - Clear line from cursor\n\\x1b[?25l  - Hide cursor\n\\x1b[?25h  - Show cursor"
                        },
                        pitfalls: ["Flickering (write small chunks vs one big write)", "Off-by-one in cursor positioning (1-indexed)", "Screen size detection"],
                        concepts: ["VT100 escape sequences", "Screen buffers", "Terminal graphics"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "File Viewing",
                        description: "Load and display file contents with scrolling.",
                        criteria: ["Opens file from command line argument", "Displays file contents", "Scrolls with arrow keys", "Shows filename in status bar", "Handles files larger than screen"],
                        hints: {
                            level1: "Store lines in dynamic array. Track row offset for scrolling.",
                            level2: "Only render visible rows (offset to offset+screen_rows).",
                            level3: "typedef struct {\n  char *chars;\n  int size;\n} Row;\nRow *rows;\nint numrows;\nint rowoff;  // scroll offset"
                        },
                        pitfalls: ["Memory allocation for lines", "Horizontal scrolling (long lines)", "Tabs rendering"],
                        concepts: ["File I/O", "Dynamic arrays", "Viewport scrolling"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 4,
                        name: "Text Editing",
                        description: "Insert and delete characters, handle Enter and Backspace.",
                        criteria: ["Insert character at cursor", "Delete with Backspace and Delete keys", "Enter creates new line", "Track 'dirty' state (modified)"],
                        hints: {
                            level1: "Insert: shift chars right, insert at cursor. Delete: shift chars left.",
                            level2: "Enter: split current line at cursor, insert new row.",
                            level3: "void insertChar(Row *row, int at, int c) {\n  row->chars = realloc(row->chars, row->size + 2);\n  memmove(&row->chars[at + 1], &row->chars[at], row->size - at + 1);\n  row->chars[at] = c;\n  row->size++;\n}"
                        },
                        pitfalls: ["Cursor at end of line edge cases", "Deleting at beginning of line (join with previous)", "Memory reallocation"],
                        concepts: ["Text buffer operations", "Gap buffer or simple array", "Change tracking"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 5,
                        name: "Save and Undo",
                        description: "Save file to disk and implement undo functionality.",
                        criteria: ["Ctrl+S saves file", "Prompts for filename if new file", "Confirms before quit with unsaved changes", "Basic undo with Ctrl+Z"],
                        hints: {
                            level1: "Convert rows back to string with newlines, write to file.",
                            level2: "Undo: keep stack of operations. Each edit pushes inverse operation.",
                            level3: "Undo approaches:\n1. Memento: save entire state (memory heavy)\n2. Command pattern: save operations and inverse\n3. Piece table: inherently supports undo"
                        },
                        pitfalls: ["Handling write errors", "Undo across multiple edits", "Memory for undo history"],
                        concepts: ["File writing", "Undo architectures", "Command pattern"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 6,
                        name: "Search",
                        description: "Implement incremental search functionality.",
                        criteria: ["Ctrl+F enters search mode", "Highlights matches as you type", "Enter goes to next match", "Escape cancels search"],
                        hints: {
                            level1: "Simple strstr() for each line.",
                            level2: "Incremental: search on each keypress, restore cursor on cancel.",
                            level3: "For incremental search:\n- Save original cursor position\n- On each char: search forward from current position\n- If found: move cursor, highlight\n- On Enter: stay at match\n- On Escape: restore original position"
                        },
                        pitfalls: ["Search wrapping at end of file", "Case sensitivity", "Restoring state on cancel"],
                        concepts: ["Text searching", "Incremental search UX", "State management"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 7,
                        name: "Syntax Highlighting",
                        description: "Add syntax highlighting for common languages.",
                        criteria: ["Highlights keywords in different color", "Highlights strings and comments", "Different rules per file type", "Multi-line comment handling"],
                        hints: {
                            level1: "For each row, track highlighting state per character.",
                            level2: "State machine: normal, string, comment. Different color per state.",
                            level3: "Highlight types:\n- HL_NORMAL\n- HL_KEYWORD1 (if, while, for)\n- HL_KEYWORD2 (int, char, void)\n- HL_STRING\n- HL_COMMENT\n- HL_MLCOMMENT\n- HL_NUMBER"
                        },
                        pitfalls: ["Multi-line strings and comments", "Escape sequences in strings", "Performance on large files"],
                        concepts: ["Syntax highlighting algorithms", "State machines", "ANSI color codes"],
                        estimatedHours: "4-6"
                    }
                ]
            },
            "build-raytracer": {
                name: "Build Your Own Ray Tracer",
                description: "Build a path tracing renderer following Ray Tracing in One Weekend. Renders photorealistic images with reflections, refractions, and soft shadows.",
                difficulty: "advanced",
                estimatedHours: "20-40",
                prerequisites: ["Linear algebra (vectors, matrices)", "Basic geometry", "Some physics (light, optics)"],
                languages: { recommended: ["C++", "Rust", "Go"], also: ["Python", "JavaScript"] },
                resources: [
                    { name: "Ray Tracing in One Weekend", url: "https://raytracing.github.io/books/RayTracingInOneWeekend.html", type: "book" },
                    { name: "Ray Tracing: The Next Week", url: "https://raytracing.github.io/books/RayTracingTheNextWeek.html", type: "book" },
                    { name: "Physically Based Rendering (PBRT)", url: "https://pbr-book.org/", type: "reference" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Output an Image",
                        description: "Generate a simple PPM image with gradient colors.",
                        criteria: ["Outputs valid PPM image file", "Shows color gradient", "Correct image dimensions", "Opens in image viewer"],
                        hints: {
                            level1: "PPM format: P3 header, width height, max color, then R G B values.",
                            level2: "Iterate y from top to bottom, x from left to right.",
                            level3: "PPM format:\nP3\n{width} {height}\n255\nr g b r g b r g b ..."
                        },
                        pitfalls: [],
                        concepts: ["Image file formats", "Color representation", "Coordinate systems"],
                        estimatedHours: "1"
                    },
                    {
                        id: 2,
                        name: "Ray Class and Background",
                        description: "Define ray class and render background gradient.",
                        criteria: ["Ray has origin and direction", "point_at_t(t) returns position along ray", "Background gradient based on ray direction", "Camera shoots rays through pixel centers"],
                        hints: {
                            level1: "Ray: P(t) = origin + t * direction. t=0 at origin, t=1 at origin+direction.",
                            level2: "Background: lerp between white and blue based on y component of unit direction.",
                            level3: "Color ray_color(Ray& r) {\n  Vec3 unit_dir = normalize(r.direction);\n  float t = 0.5 * (unit_dir.y + 1.0);\n  return (1-t)*white + t*blue;\n}"
                        },
                        pitfalls: [],
                        concepts: ["Ray representation", "Linear interpolation (lerp)", "Camera model basics"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 3,
                        name: "Sphere Intersection",
                        description: "Add a sphere and test ray-sphere intersection.",
                        criteria: ["Sphere defined by center and radius", "Ray-sphere intersection using quadratic formula", "Returns closest positive hit", "Sphere visible in rendered image"],
                        hints: {
                            level1: "Sphere equation: |P - C|^2 = r^2. Substitute ray equation, solve quadratic.",
                            level2: "at^2 + bt + c = 0 where a=d.d, b=2*d.(o-c), c=(o-c).(o-c)-r^2",
                            level3: "discriminant = b*b - 4*a*c\nif (discriminant < 0) return false;\nt = (-b - sqrt(discriminant)) / (2*a);\nif (t < 0) t = (-b + sqrt(discriminant)) / (2*a);"
                        },
                        pitfalls: ["Choosing correct root (closest positive)", "Numeric precision issues", "Sphere behind camera"],
                        concepts: ["Ray-sphere intersection", "Quadratic formula", "Hit detection"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 4,
                        name: "Surface Normals and Multiple Objects",
                        description: "Compute normals and support multiple objects with closest hit.",
                        criteria: ["Normal at hit point computed correctly", "Normals visualized as colors", "Multiple spheres in scene", "Finds closest intersection"],
                        hints: {
                            level1: "Normal at hit point on sphere: (hit_point - center) / radius",
                            level2: "Hittable interface with hit() method. Scene is list of hittables.",
                            level3: "Track t_min, t_max. Update t_max when hit found to find closest."
                        },
                        pitfalls: [],
                        concepts: ["Surface normals", "Object-oriented design", "Closest hit algorithm"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 5,
                        name: "Antialiasing",
                        description: "Add antialiasing by shooting multiple rays per pixel.",
                        criteria: ["Multiple samples per pixel", "Random offset within pixel", "Average color of all samples", "Smooth edges on spheres"],
                        hints: {
                            level1: "For each pixel, shoot N rays with random offset. Average results.",
                            level2: "Offset: (x + random()) / width instead of x / width",
                            level3: "for (int s = 0; s < samples_per_pixel; s++) {\n  float u = (x + random_float()) / (width - 1);\n  float v = (y + random_float()) / (height - 1);\n  color += ray_color(camera.get_ray(u, v));\n}\ncolor /= samples_per_pixel;"
                        },
                        pitfalls: [],
                        concepts: ["Antialiasing", "Monte Carlo sampling", "Random number generation"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 6,
                        name: "Diffuse Materials",
                        description: "Implement Lambertian (diffuse) material.",
                        criteria: ["Scattered ray goes in random hemisphere direction", "Color attenuates with each bounce", "Maximum bounce depth", "Soft shadows from diffuse surfaces"],
                        hints: {
                            level1: "On hit, spawn new ray in random direction in hemisphere around normal.",
                            level2: "Lambertian: direction = normal + random_unit_vector()",
                            level3: "Color ray_color(Ray& r, int depth) {\n  if (depth <= 0) return black;\n  if (world.hit(r, hit_record)) {\n    Vec3 target = hit_point + normal + random_unit_vector();\n    return 0.5 * ray_color(Ray(hit_point, target - hit_point), depth-1);\n  }\n  return background;\n}"
                        },
                        pitfalls: ["Infinite recursion without depth limit", "Shadow acne (self-intersection)", "Correct hemisphere sampling"],
                        concepts: ["Lambertian reflection", "Recursive ray tracing", "Material scattering"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 7,
                        name: "Metal and Reflections",
                        description: "Implement metallic (reflective) materials with fuzz.",
                        criteria: ["Perfect reflections (mirror)", "Fuzzy reflections with adjustable roughness", "Reflection formula: r = d - 2*(d.n)*n", "Material assigned per object"],
                        hints: {
                            level1: "Reflect direction around normal. Incident = incoming ray direction.",
                            level2: "Fuzz: add random vector scaled by fuzziness to reflected direction.",
                            level3: "Vec3 reflect(Vec3& v, Vec3& n) {\n  return v - 2*dot(v, n)*n;\n}\nVec3 scattered = reflect(ray.dir, normal) + fuzz*random_in_unit_sphere();"
                        },
                        pitfalls: [],
                        concepts: ["Specular reflection", "Roughness/fuzz", "Material system"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 8,
                        name: "Dielectrics (Glass)",
                        description: "Implement glass with refraction and Fresnel effects.",
                        criteria: ["Snell's law for refraction", "Total internal reflection at critical angle", "Schlick approximation for Fresnel", "Realistic glass appearance"],
                        hints: {
                            level1: "Snell's law: n1*sin(theta1) = n2*sin(theta2). Glass IOR ~ 1.5",
                            level2: "Total internal reflection when sin(theta2) > 1. Just reflect.",
                            level3: "Schlick approximation for reflectance:\nr0 = ((n1-n2)/(n1+n2))^2\nreflectance = r0 + (1-r0)*(1-cos(theta))^5"
                        },
                        pitfalls: ["Getting the IOR ratio right", "Hollow glass spheres (negative radius trick)", "Total internal reflection check"],
                        concepts: ["Refraction (Snell's law)", "Total internal reflection", "Fresnel equations"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 9,
                        name: "Positionable Camera",
                        description: "Implement camera with position, look-at, and field of view.",
                        criteria: ["Camera positioned anywhere in scene", "Points at specified target", "Adjustable field of view", "Up vector for camera orientation"],
                        hints: {
                            level1: "Camera basis vectors: w (back), u (right), v (up).",
                            level2: "vfov = vertical field of view. viewport_height = 2 * tan(vfov/2)",
                            level3: "w = normalize(lookfrom - lookat);\nu = normalize(cross(vup, w));\nv = cross(w, u);\nhorizontal = viewport_width * u;\nvertical = viewport_height * v;\nlower_left = origin - horizontal/2 - vertical/2 - w;"
                        },
                        pitfalls: [],
                        concepts: ["Camera coordinate system", "Field of view", "Look-at transformation"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 10,
                        name: "Depth of Field",
                        description: "Add defocus blur (depth of field) effect.",
                        criteria: ["Adjustable aperture size", "Focus distance setting", "Objects at focus distance are sharp", "Objects closer/farther are blurred"],
                        hints: {
                            level1: "Random origin on lens disk, ray still goes through focus point.",
                            level2: "Larger aperture = more blur. Aperture = 0 = pinhole camera.",
                            level3: "Vec3 rd = lens_radius * random_in_unit_disk();\nVec3 offset = u * rd.x + v * rd.y;\nreturn Ray(origin + offset, lower_left + s*horizontal + t*vertical - origin - offset);"
                        },
                        pitfalls: [],
                        concepts: ["Thin lens model", "Depth of field", "Aperture and focus"],
                        estimatedHours: "2-3"
                    }
                ]
            },
            "build-sqlite": {
                name: "Build Your Own SQLite",
                description: "Build an embedded SQL database that stores data in a single file. You'll learn about SQL parsing, B-trees, query execution, and transactions.",
                difficulty: "expert",
                estimatedHours: "60-100",
                prerequisites: ["B-tree data structure", "SQL basics", "File I/O and binary formats", "Basic compiler concepts"],
                languages: { recommended: ["C", "Rust", "Go"], also: ["Python", "Java"] },
                resources: [
                    { name: "Let's Build a Simple Database", url: "https://cstack.github.io/db_tutorial/", type: "tutorial" },
                    { name: "CodeCrafters SQLite Challenge", url: "https://app.codecrafters.io/courses/sqlite/overview", type: "interactive" },
                    { name: "SQLite File Format", url: "https://www.sqlite.org/fileformat2.html", type: "documentation" },
                    { name: "CMU 15-445 Database Systems", url: "https://15445.courses.cs.cmu.edu", type: "course" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "SQL Tokenizer",
                        description: "Build a lexer that converts SQL text into tokens.",
                        criteria: ["Tokenizes keywords (SELECT, FROM, WHERE, INSERT, etc.)", "Handles identifiers (table names, column names)", "Parses string and numeric literals", "Handles operators", "Ignores whitespace and comments"],
                        hints: {
                            level1: "Use a state machine or regular expressions for each token type.",
                            level2: "SQL keywords are case-insensitive. Normalize to uppercase.",
                            level3: "Token types to implement:\n- KEYWORD: SELECT, FROM, WHERE, INSERT, UPDATE, DELETE, CREATE\n- IDENTIFIER: table/column names\n- STRING: 'hello'\n- NUMBER: 123, 3.14\n- OPERATOR: =, <>, <, >\n- PUNCTUATION: (, ), ,, ;"
                        },
                        pitfalls: ["Not handling escaped quotes in strings ('it''s')", "Case sensitivity", "Unicode identifiers"],
                        concepts: ["Lexical analysis", "Finite state machines", "Token representation"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 2,
                        name: "SQL Parser (AST)",
                        description: "Build a parser that converts tokens into an Abstract Syntax Tree.",
                        criteria: ["Parses SELECT statements with columns, FROM, WHERE", "Parses INSERT statements", "Parses CREATE TABLE with column definitions", "Handles expressions", "Reports syntax errors with line/column"],
                        hints: {
                            level1: "Use recursive descent parsing - one function per grammar rule.",
                            level2: "For expressions, use Pratt parsing or precedence climbing for operators.",
                            level3: "Grammar sketch:\nselect := SELECT columns FROM table [WHERE expr]\ncolumns := * | column (, column)*\nexpr := term ((AND|OR) term)*\nterm := value (op value)?"
                        },
                        pitfalls: ["Left recursion in grammar", "Operator precedence (AND vs OR)", "Not handling parentheses"],
                        concepts: ["Recursive descent parsing", "AST design", "Operator precedence"],
                        estimatedHours: "5-8"
                    },
                    {
                        id: 3,
                        name: "B-tree Page Format",
                        description: "Implement the on-disk B-tree page structure.",
                        criteria: ["Fixed page size (4096 bytes default)", "Page header with cell count, free space pointer", "Cell pointer array for variable-size cells", "Interior nodes store keys + child page pointers", "Leaf nodes store keys + values"],
                        hints: {
                            level1: "Each page is a node in the B-tree. Start with leaf nodes only.",
                            level2: "Page layout:\n[Header (8-12 bytes)]\n[Cell Pointer Array (2 bytes each)]\n[Free space]\n[Cells (grow from bottom)]",
                            level3: "SQLite uses B+ tree variant where all data is in leaves, interior nodes only have keys."
                        },
                        pitfalls: ["Cell overflow (value too large for page)", "Page fragmentation after deletions", "Endianness"],
                        concepts: ["B-tree structure", "Page-based storage", "Variable-length records"],
                        estimatedHours: "6-10"
                    },
                    {
                        id: 4,
                        name: "Table Storage",
                        description: "Store table rows in B-tree leaves with rowid as key.",
                        criteria: ["Each table has its own B-tree", "Rowid is auto-incrementing primary key", "Rows stored as serialized column values", "CREATE TABLE creates new B-tree root page", "Table schema stored in sqlite_master table"],
                        hints: {
                            level1: "Simplest: rowid -> serialized row bytes. Key is rowid, value is row.",
                            level2: "sqlite_master stores schema: CREATE TABLE statements as text.",
                            level3: "Record format (simplified):\n[Header size][Type1][Type2]...[Value1][Value2]...\nTypes: NULL, INT8/16/32/64, FLOAT, BLOB, TEXT"
                        },
                        pitfalls: ["Not handling NULL values", "Rowid gaps after deletes", "Variable-length integer encoding"],
                        concepts: ["Row storage formats", "Schema management", "Type serialization"],
                        estimatedHours: "4-6"
                    },
                    {
                        id: 5,
                        name: "SELECT Execution (Table Scan)",
                        description: "Execute SELECT queries by scanning all rows.",
                        criteria: ["SELECT * FROM table returns all rows", "SELECT col1, col2 returns specific columns", "Rows returned in rowid order", "Handle non-existent tables with error"],
                        hints: {
                            level1: "Iterate B-tree leaves from leftmost to rightmost.",
                            level2: "Deserialize each row, project requested columns.",
                            level3: "Use cursor abstraction: open, next, get_column, close."
                        },
                        pitfalls: ["Column name case sensitivity", "NULL handling in output", "Memory management for large result sets"],
                        concepts: ["B-tree traversal", "Projection operator", "Cursor pattern"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 6,
                        name: "INSERT/UPDATE/DELETE",
                        description: "Implement data modification operations.",
                        criteria: ["INSERT INTO table VALUES (...) adds row", "INSERT with column list", "UPDATE table SET col=val WHERE condition", "DELETE FROM table WHERE condition", "Proper rowid assignment for inserts"],
                        hints: {
                            level1: "INSERT: serialize row, insert into B-tree with next rowid.",
                            level2: "DELETE: find matching rows, remove from B-tree, handle rebalancing.",
                            level3: "UPDATE: can be DELETE + INSERT, or in-place if size unchanged."
                        },
                        pitfalls: ["B-tree rebalancing after delete", "Updating primary key", "Constraint violations"],
                        concepts: ["B-tree insertion and deletion", "Record modification", "Constraint checking"],
                        estimatedHours: "5-8"
                    },
                    {
                        id: 7,
                        name: "WHERE Clause and Indexes",
                        description: "Implement filtering and secondary indexes.",
                        criteria: ["WHERE with comparison operators", "WHERE with AND/OR", "CREATE INDEX creates secondary B-tree", "Query uses index when beneficial", "EXPLAIN shows query plan"],
                        hints: {
                            level1: "Full table scan with filter: scan all, test predicate, output matches.",
                            level2: "Index B-tree: key=indexed column, value=rowid. Lookup, then fetch row.",
                            level3: "Simple query planner: if WHERE on indexed column, use index seek."
                        },
                        pitfalls: ["Index not used for non-equality predicates", "Maintaining index on INSERT/UPDATE/DELETE", "Choosing between index scan vs table scan"],
                        concepts: ["Secondary indexes", "Query planning basics", "Filter predicates"],
                        estimatedHours: "6-10"
                    },
                    {
                        id: 8,
                        name: "Query Planner",
                        description: "Implement cost-based query optimization.",
                        criteria: ["Estimates row counts for tables", "Chooses between table scan and index scan", "Handles simple JOINs", "EXPLAIN QUERY PLAN shows chosen plan"],
                        hints: {
                            level1: "Store row count per table. Estimate selectivity of predicates.",
                            level2: "Cost model: table scan = N rows, index lookup = log(N) + matching rows.",
                            level3: "For JOINs, consider nested loop vs hash join. Start with nested loop."
                        },
                        pitfalls: ["Stale statistics", "Wrong cardinality estimates", "Exponential plan space for many JOINs"],
                        concepts: ["Cost-based optimization", "Cardinality estimation", "Join algorithms"],
                        estimatedHours: "8-12"
                    },
                    {
                        id: 9,
                        name: "Transactions (BEGIN/COMMIT/ROLLBACK)",
                        description: "Implement ACID transactions.",
                        criteria: ["BEGIN starts transaction", "COMMIT makes changes permanent", "ROLLBACK undoes all changes since BEGIN", "Changes not visible to other connections until commit", "Crash recovery maintains consistency"],
                        hints: {
                            level1: "Shadow paging: copy pages before modify, commit = swap pointers.",
                            level2: "Or WAL: write changes to separate log, replay on recovery.",
                            level3: "ACID properties:\n- Atomicity: all or nothing (rollback support)\n- Consistency: constraints always valid\n- Isolation: concurrent txns don't interfere\n- Durability: committed = permanent (fsync)"
                        },
                        pitfalls: ["Partial writes (torn pages)", "Lock ordering deadlocks", "Long-running transactions blocking others"],
                        concepts: ["ACID properties", "Shadow paging vs WAL", "Crash recovery"],
                        estimatedHours: "8-12"
                    },
                    {
                        id: 10,
                        name: "WAL Mode",
                        description: "Implement Write-Ahead Logging for better concurrency.",
                        criteria: ["WAL file stores changes before applying to main DB", "Readers don't block writers", "Checkpointing merges WAL into main DB", "Crash recovery replays committed WAL entries"],
                        hints: {
                            level1: "WAL append-only: each commit appends frames with changed pages.",
                            level2: "Read: check WAL first (most recent), fallback to main DB.",
                            level3: "WAL advantages over rollback journal:\n- Readers and writer concurrent\n- Faster commits (sequential writes)\n- Better crash recovery"
                        },
                        pitfalls: ["WAL growing unbounded without checkpoint", "Readers pinning old WAL frames", "WAL file corruption detection"],
                        concepts: ["Write-ahead logging", "MVCC basics", "Checkpointing"],
                        estimatedHours: "8-12"
                    }
                ]
            },

            // APPLICATION DEVELOPMENT - BEGINNER
            "todo-app": {
                name: "Todo App",
                description: "Build a classic todo application with CRUD operations. Learn fundamental web development patterns including state management, local storage, and DOM manipulation.",
                difficulty: "beginner",
                estimatedHours: "8-12",
                prerequisites: ["HTML/CSS basics", "JavaScript fundamentals", "DOM manipulation basics"],
                languages: { recommended: ["JavaScript", "TypeScript"], also: ["Python", "React", "Vue"] },
                resources: [
                    { name: "MDN Todo App Tutorial", url: "https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_todo_list_beginning", type: "tutorial" },
                    { name: "JavaScript Todo App - freeCodeCamp", url: "https://www.freecodecamp.org/news/how-to-build-a-todo-app-with-javascript/", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Project Setup & Basic HTML Structure",
                        description: "Set up the project and create the basic HTML structure for the todo app.",
                        criteria: ["HTML page with input field for new todos", "Add button to create todos", "Empty list container for todos", "Basic CSS styling applied"],
                        hints: {
                            level1: "Start with a simple HTML file with an input, button, and ul element.",
                            level2: "Use semantic HTML: main, section, form elements for better structure.",
                            level3: "HTML structure:\n<form id=\"todo-form\">\n  <input type=\"text\" id=\"todo-input\" placeholder=\"Add a todo...\">\n  <button type=\"submit\">Add</button>\n</form>\n<ul id=\"todo-list\"></ul>"
                        },
                        pitfalls: ["Forgetting to prevent default form submission", "Not using semantic HTML elements", "Hardcoding styles instead of using CSS classes"],
                        concepts: ["HTML forms", "Semantic HTML", "CSS basics"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 2,
                        name: "Add Todo Functionality",
                        description: "Implement the ability to add new todos to the list.",
                        criteria: ["User can type in input field", "Pressing Enter or clicking Add creates new todo", "New todo appears in the list", "Input field clears after adding", "Empty todos are not allowed"],
                        hints: {
                            level1: "Listen for form submit event, get input value, create list item.",
                            level2: "Use createElement or template literals to build todo HTML dynamically.",
                            level3: "function addTodo(text) {\n  const li = document.createElement('li');\n  li.textContent = text;\n  todoList.appendChild(li);\n}"
                        },
                        pitfalls: ["Not trimming whitespace from input", "Memory leaks from not removing event listeners", "XSS vulnerability if using innerHTML without sanitization"],
                        concepts: ["Event handling", "DOM manipulation", "Input validation"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 3,
                        name: "Complete & Delete Todos",
                        description: "Add ability to mark todos as complete and delete them.",
                        criteria: ["Clicking a todo toggles its completed state", "Completed todos have visual distinction (strikethrough)", "Delete button removes todo from list", "Confirmation before delete (optional)"],
                        hints: {
                            level1: "Add click event to toggle a 'completed' class on the todo item.",
                            level2: "Use event delegation: listen on parent, check event.target.",
                            level3: "todoList.addEventListener('click', (e) => {\n  if (e.target.matches('.delete-btn')) {\n    e.target.parentElement.remove();\n  } else if (e.target.matches('li')) {\n    e.target.classList.toggle('completed');\n  }\n});"
                        },
                        pitfalls: ["Adding event listeners to each item (use delegation instead)", "Not handling click on child elements of li", "Removing wrong element from DOM"],
                        concepts: ["Event delegation", "CSS classes for state", "DOM element removal"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 4,
                        name: "Local Storage Persistence",
                        description: "Save todos to localStorage so they persist across page refreshes.",
                        criteria: ["Todos saved to localStorage on every change", "Todos loaded from localStorage on page load", "Completed state persists", "Works even if localStorage is empty"],
                        hints: {
                            level1: "Use JSON.stringify to save array, JSON.parse to load.",
                            level2: "Create a save function, call it after every add/delete/toggle.",
                            level3: "function saveTodos() {\n  const todos = Array.from(todoList.children).map(li => ({\n    text: li.textContent,\n    completed: li.classList.contains('completed')\n  }));\n  localStorage.setItem('todos', JSON.stringify(todos));\n}"
                        },
                        pitfalls: ["Forgetting to handle null from localStorage.getItem", "Not updating localStorage after every change", "Storing DOM elements instead of data"],
                        concepts: ["localStorage API", "JSON serialization", "Data persistence"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 5,
                        name: "Filter & Polish",
                        description: "Add filtering options and polish the user experience.",
                        criteria: ["Filter buttons: All, Active, Completed", "Show count of remaining todos", "Clear completed button", "Smooth animations for add/remove", "Responsive design"],
                        hints: {
                            level1: "Filter by showing/hiding items based on their completed state.",
                            level2: "Keep track of current filter, re-render list when filter changes.",
                            level3: "function filterTodos(filter) {\n  const todos = todoList.querySelectorAll('li');\n  todos.forEach(todo => {\n    const isCompleted = todo.classList.contains('completed');\n    const show = filter === 'all' ||\n      (filter === 'active' && !isCompleted) ||\n      (filter === 'completed' && isCompleted);\n    todo.style.display = show ? '' : 'none';\n  });\n}"
                        },
                        pitfalls: ["Not updating count when filtering", "CSS transitions causing layout shifts", "Accessibility issues with filter buttons"],
                        concepts: ["UI state management", "CSS transitions", "Responsive design"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            "weather-app": {
                name: "Weather App",
                description: "Build a weather application that fetches real-time weather data from an API. Learn about async JavaScript, API consumption, and handling loading/error states.",
                difficulty: "beginner",
                estimatedHours: "10-15",
                prerequisites: ["HTML/CSS basics", "JavaScript fundamentals", "Understanding of async/await"],
                languages: { recommended: ["JavaScript", "TypeScript"], also: ["Python", "React", "Vue"] },
                resources: [
                    { name: "OpenWeatherMap API", url: "https://openweathermap.org/api", type: "documentation" },
                    { name: "Build a Weather App with Vanilla JS", url: "https://www.youtube.com/watch?v=WZNG8UomjSI", type: "video" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "API Setup & Basic Fetch",
                        description: "Set up API key and make basic weather API calls.",
                        criteria: ["Sign up for OpenWeatherMap API key", "Successfully fetch weather data for a hardcoded city", "Log weather data to console", "Handle API errors gracefully"],
                        hints: {
                            level1: "Use fetch() with your API key as a query parameter.",
                            level2: "Store API key in a config file, not hardcoded in fetch URL.",
                            level3: "const API_KEY = 'your_api_key';\nasync function getWeather(city) {\n  const response = await fetch(\n    `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`\n  );\n  if (!response.ok) throw new Error('City not found');\n  return response.json();\n}"
                        },
                        pitfalls: ["Exposing API key in client-side code (use env vars in production)", "Not handling network errors", "Forgetting units parameter (default is Kelvin)"],
                        concepts: ["REST APIs", "Fetch API", "Async/await", "Error handling"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Search Functionality",
                        description: "Allow users to search for weather by city name.",
                        criteria: ["Search input field for city name", "Search triggers on Enter or button click", "Loading indicator while fetching", "Error message for invalid city"],
                        hints: {
                            level1: "Add event listener for form submit, get input value, call API.",
                            level2: "Show a loading spinner while waiting for API response.",
                            level3: "searchForm.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const city = cityInput.value.trim();\n  if (!city) return;\n  showLoading();\n  try {\n    const data = await getWeather(city);\n    displayWeather(data);\n  } catch (error) {\n    showError(error.message);\n  } finally {\n    hideLoading();\n  }\n});"
                        },
                        pitfalls: ["Not debouncing rapid searches", "Not clearing previous errors", "Accessibility: missing form labels"],
                        concepts: ["Form handling", "Loading states", "Error states"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Display Weather Data",
                        description: "Create a beautiful UI to display weather information.",
                        criteria: ["Display city name and country", "Show current temperature", "Show weather condition with icon", "Display humidity, wind speed", "Show feels-like temperature"],
                        hints: {
                            level1: "Map API response fields to UI elements.",
                            level2: "Use weather icon codes from API to show appropriate icons.",
                            level3: "function displayWeather(data) {\n  cityEl.textContent = `${data.name}, ${data.sys.country}`;\n  tempEl.textContent = `${Math.round(data.main.temp)}¬∞C`;\n  iconEl.src = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;\n  descEl.textContent = data.weather[0].description;\n}"
                        },
                        pitfalls: ["Not handling missing data fields", "Icon URL format changes with API version", "Not rounding temperature values"],
                        concepts: ["Data mapping", "Dynamic content", "API response structure"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "Geolocation & Current Location",
                        description: "Use browser geolocation to get weather for current location.",
                        criteria: ["Button to get current location weather", "Request geolocation permission", "Fetch weather using lat/lon coordinates", "Handle permission denied gracefully"],
                        hints: {
                            level1: "Use navigator.geolocation.getCurrentPosition() API.",
                            level2: "API supports lat/lon params instead of city name.",
                            level3: "function getCurrentLocationWeather() {\n  navigator.geolocation.getCurrentPosition(\n    async (position) => {\n      const { latitude, longitude } = position.coords;\n      const data = await getWeatherByCoords(latitude, longitude);\n      displayWeather(data);\n    },\n    (error) => showError('Location access denied')\n  );\n}"
                        },
                        pitfalls: ["Geolocation requires HTTPS in production", "Not handling timeout for slow GPS", "High accuracy option drains battery"],
                        concepts: ["Geolocation API", "Permissions", "Coordinate-based queries"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            "calculator": {
                name: "Calculator",
                description: "Build a functional calculator with a clean UI. Learn about UI state management, event handling, and handling edge cases in user input.",
                difficulty: "beginner",
                estimatedHours: "8-12",
                prerequisites: ["HTML/CSS basics", "JavaScript fundamentals"],
                languages: { recommended: ["JavaScript", "TypeScript"], also: ["Python", "React", "Vue"] },
                resources: [
                    { name: "Build a Calculator - The Odin Project", url: "https://www.theodinproject.com/lessons/foundations-calculator", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "UI Layout",
                        description: "Create the calculator interface with buttons and display.",
                        criteria: ["Display area for input and result", "Number buttons (0-9)", "Operator buttons (+, -, *, /)", "Equals and clear buttons", "Responsive grid layout"],
                        hints: {
                            level1: "Use CSS Grid for button layout - perfect for calculators.",
                            level2: "Use data attributes to store button values.",
                            level3: ".calculator {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 4px;\n}\n.display { grid-column: 1 / -1; }\n.btn-zero { grid-column: span 2; }"
                        },
                        pitfalls: ["Buttons too small for touch", "Display overflow for long numbers", "Not aligning numbers to the right"],
                        concepts: ["CSS Grid", "Button styling", "Layout design"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Basic Operations",
                        description: "Implement basic arithmetic operations.",
                        criteria: ["Numbers append to display when clicked", "Operators store current value and operation", "Equals performs calculation", "Clear resets calculator", "Only one decimal point allowed"],
                        hints: {
                            level1: "Track: currentValue, previousValue, currentOperator.",
                            level2: "Calculate when equals pressed or new operator selected.",
                            level3: "function calculate(a, b, operator) {\n  switch(operator) {\n    case '+': return a + b;\n    case '-': return a - b;\n    case '*': return a * b;\n    case '/': return b !== 0 ? a / b : 'Error';\n  }\n}"
                        },
                        pitfalls: ["Division by zero", "Multiple decimal points", "Floating point precision (0.1 + 0.2)"],
                        concepts: ["State management", "Arithmetic operations", "Edge case handling"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Chained Operations",
                        description: "Allow chaining multiple operations (e.g., 5 + 3 * 2).",
                        criteria: ["Pressing operator after operator changes operation", "Result shown after each operator press", "Can continue calculating without equals", "Backspace/delete functionality"],
                        hints: {
                            level1: "When new operator pressed, first calculate previous if exists.",
                            level2: "Track display mode: 'input' vs 'result' to know when to clear.",
                            level3: "function handleOperator(op) {\n  if (previousValue && currentOperator && displayMode === 'input') {\n    currentValue = calculate(previousValue, parseFloat(display), currentOperator);\n    updateDisplay(currentValue);\n  }\n  previousValue = parseFloat(display);\n  currentOperator = op;\n  displayMode = 'result';\n}"
                        },
                        pitfalls: ["Losing previous value when changing operators", "Not updating display after intermediate calculation", "Order of operations (this calculator is left-to-right)"],
                        concepts: ["State transitions", "Calculator logic", "User experience"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "Keyboard Support & Polish",
                        description: "Add keyboard input and polish the calculator.",
                        criteria: ["Number keys type numbers", "Operator keys work (+, -, *, /)", "Enter = equals, Escape = clear", "Backspace deletes last digit", "Visual feedback on button press"],
                        hints: {
                            level1: "Listen for keydown events, map key to button action.",
                            level2: "Add visual feedback: briefly highlight button on keypress.",
                            level3: "document.addEventListener('keydown', (e) => {\n  if (e.key >= '0' && e.key <= '9') handleNumber(e.key);\n  else if (['+', '-', '*', '/'].includes(e.key)) handleOperator(e.key);\n  else if (e.key === 'Enter') handleEquals();\n  else if (e.key === 'Escape') handleClear();\n  else if (e.key === 'Backspace') handleBackspace();\n});"
                        },
                        pitfalls: ["Preventing default for some keys (like backspace navigating away)", "Different key codes for numpad vs main keys", "Focus management"],
                        concepts: ["Keyboard events", "Event key codes", "Visual feedback"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            // GAME DEVELOPMENT - BEGINNER
            "snake": {
                name: "Snake",
                description: "Build the classic Snake game. Learn about grid-based movement, growing arrays, and collision detection with self.",
                difficulty: "beginner",
                estimatedHours: "10-14",
                prerequisites: ["Basic programming", "Array manipulation", "HTML5 Canvas or similar"],
                languages: { recommended: ["JavaScript", "Python", "C#"], also: ["Rust", "Go", "Lua"] },
                resources: [
                    { name: "Snake with JavaScript", url: "https://www.youtube.com/watch?v=7Azlj0f9vas", type: "video" },
                    { name: "Python Snake with Pygame", url: "https://realpython.com/pygame-a-primer/", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Grid Setup & Snake Rendering",
                        description: "Set up the grid and render the snake.",
                        criteria: ["Game grid drawn on canvas", "Snake represented as array of segments", "Snake renders as connected blocks", "Grid-based positioning", "Clear visual distinction for head"],
                        hints: {
                            level1: "Snake is array of {x, y} coordinates. Head is index 0.",
                            level2: "Grid cell size (e.g., 20px). Snake position in grid units.",
                            level3: "const GRID_SIZE = 20;\nlet snake = [\n  { x: 15, y: 10 }, // head\n  { x: 14, y: 10 },\n  { x: 13, y: 10 }\n];\n\nfunction draw() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  snake.forEach((segment, i) => {\n    ctx.fillStyle = i === 0 ? 'darkgreen' : 'green';\n    ctx.fillRect(segment.x * GRID_SIZE, segment.y * GRID_SIZE, GRID_SIZE - 1, GRID_SIZE - 1);\n  });\n}"
                        },
                        pitfalls: ["Drawing snake in wrong order", "Off-by-one in grid positioning", "Not leaving gap between segments"],
                        concepts: ["Grid-based games", "Array representation", "Canvas rendering"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Movement & Direction",
                        description: "Implement snake movement with keyboard controls.",
                        criteria: ["Snake moves automatically in current direction", "Arrow keys change direction", "Cannot reverse direction (no 180¬∞ turns)", "Movement updates at regular interval", "Smooth, grid-aligned movement"],
                        hints: {
                            level1: "Use setInterval for fixed movement timing, not requestAnimationFrame.",
                            level2: "Queue direction changes, apply at next movement tick.",
                            level3: "let direction = { x: 1, y: 0 };\nlet nextDirection = { x: 1, y: 0 };\n\ndocument.addEventListener('keydown', e => {\n  switch(e.key) {\n    case 'ArrowUp': if (direction.y !== 1) nextDirection = {x: 0, y: -1}; break;\n    case 'ArrowDown': if (direction.y !== -1) nextDirection = {x: 0, y: 1}; break;\n    case 'ArrowLeft': if (direction.x !== 1) nextDirection = {x: -1, y: 0}; break;\n    case 'ArrowRight': if (direction.x !== -1) nextDirection = {x: 1, y: 0}; break;\n  }\n});\n\nfunction moveSnake() {\n  direction = nextDirection;\n  const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };\n  snake.unshift(head);\n  snake.pop();\n}"
                        },
                        pitfalls: ["Reversing and dying immediately", "Multiple direction changes between ticks", "Movement too fast or slow"],
                        concepts: ["Timer-based updates", "Direction queuing", "Movement constraints"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Food & Growth",
                        description: "Add food spawning and snake growth.",
                        criteria: ["Food appears at random location", "Food not spawned on snake", "Eating food grows snake", "New food spawns after eating", "Score tracking"],
                        hints: {
                            level1: "To grow: don't remove tail when eating food.",
                            level2: "Generate food position, check it's not on snake, regenerate if needed.",
                            level3: "function spawnFood() {\n  let pos;\n  do {\n    pos = {\n      x: Math.floor(Math.random() * GRID_WIDTH),\n      y: Math.floor(Math.random() * GRID_HEIGHT)\n    };\n  } while (snake.some(s => s.x === pos.x && s.y === pos.y));\n  return pos;\n}\n\nfunction moveSnake() {\n  const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };\n  snake.unshift(head);\n  if (head.x === food.x && head.y === food.y) {\n    score++;\n    food = spawnFood();\n  } else {\n    snake.pop();\n  }\n}"
                        },
                        pitfalls: ["Food spawning on snake", "Infinite loop if snake fills grid", "Growth happening wrong direction"],
                        concepts: ["Random positioning", "Collision with objects", "Array growth"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "Collision & Game Over",
                        description: "Implement collision detection and game over.",
                        criteria: ["Collision with walls ends game", "Collision with self ends game", "Game over screen with score", "Restart option", "High score tracking"],
                        hints: {
                            level1: "Wall collision: head.x < 0 || head.x >= GRID_WIDTH.",
                            level2: "Self collision: check if head matches any other segment.",
                            level3: "function checkCollision() {\n  const head = snake[0];\n  // Wall collision\n  if (head.x < 0 || head.x >= GRID_WIDTH || head.y < 0 || head.y >= GRID_HEIGHT) {\n    return true;\n  }\n  // Self collision (skip head at index 0)\n  for (let i = 1; i < snake.length; i++) {\n    if (head.x === snake[i].x && head.y === snake[i].y) return true;\n  }\n  return false;\n}"
                        },
                        pitfalls: ["Checking collision before movement", "Self collision including head", "High score not persisting"],
                        concepts: ["Self-collision", "Game states", "Local storage"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            "pong": {
                name: "Pong",
                description: "Build the classic Pong game. Learn game loop fundamentals, collision detection, and basic game AI.",
                difficulty: "beginner",
                estimatedHours: "8-12",
                prerequisites: ["Basic programming", "HTML5 Canvas or similar graphics"],
                languages: { recommended: ["JavaScript", "Python", "C#"], also: ["Rust", "Go", "Lua"] },
                resources: [
                    { name: "Pong with JavaScript", url: "https://www.youtube.com/watch?v=nl0KXCa5pJk", type: "video" },
                    { name: "HTML5 Canvas Tutorial", url: "https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial", type: "documentation" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Game Setup & Ball Movement",
                        description: "Set up the game canvas and implement ball movement.",
                        criteria: ["Canvas renders at 60fps", "Ball appears on screen", "Ball moves in a direction", "Ball bounces off top and bottom walls", "Ball resets when going off sides"],
                        hints: {
                            level1: "Use requestAnimationFrame for smooth 60fps game loop.",
                            level2: "Ball velocity: { vx, vy }. Update position: x += vx, y += vy.",
                            level3: "const ball = { x: 400, y: 300, vx: 5, vy: 3, radius: 10 };\n\nfunction update() {\n  ball.x += ball.vx;\n  ball.y += ball.vy;\n  // Bounce off top/bottom\n  if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {\n    ball.vy = -ball.vy;\n  }\n  // Reset if off sides\n  if (ball.x < 0 || ball.x > canvas.width) {\n    resetBall();\n  }\n}"
                        },
                        pitfalls: ["Ball getting stuck in walls", "Variable frame rate affecting speed", "Not clearing canvas each frame"],
                        concepts: ["Game loop", "Velocity and position", "Wall collision"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Paddles & Controls",
                        description: "Add player paddles with keyboard controls.",
                        criteria: ["Two paddles on left and right", "Player 1 uses W/S keys", "Player 2 uses Arrow keys", "Paddles stay within screen bounds", "Smooth paddle movement"],
                        hints: {
                            level1: "Track key states: keyDown sets flag, keyUp clears it.",
                            level2: "Move paddles in update loop based on key states, not in event handler.",
                            level3: "const keys = {};\ndocument.addEventListener('keydown', e => keys[e.key] = true);\ndocument.addEventListener('keyup', e => keys[e.key] = false);\n\nfunction updatePaddles() {\n  if (keys['w'] && paddle1.y > 0) paddle1.y -= paddle1.speed;\n  if (keys['s'] && paddle1.y < canvas.height - paddle1.height) paddle1.y += paddle1.speed;\n}"
                        },
                        pitfalls: ["Paddle going off screen", "Jerky movement from event-based updates", "Key repeat delay issues"],
                        concepts: ["Keyboard input", "Input buffering", "Bounds checking"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Paddle Collision & Scoring",
                        description: "Implement ball-paddle collision and scoring system.",
                        criteria: ["Ball bounces off paddles", "Angle changes based on hit position", "Score increments when ball passes paddle", "Score displayed on screen", "Game resets after score"],
                        hints: {
                            level1: "AABB collision: check if ball rectangle overlaps paddle rectangle.",
                            level2: "Hit position affects angle: hit at edge = steeper angle.",
                            level3: "function checkPaddleCollision(paddle) {\n  if (ball.x - ball.radius < paddle.x + paddle.width &&\n      ball.x + ball.radius > paddle.x &&\n      ball.y > paddle.y && ball.y < paddle.y + paddle.height) {\n    ball.vx = -ball.vx;\n    const hitPos = (ball.y - paddle.y) / paddle.height;\n    const angle = (hitPos - 0.5) * Math.PI / 3;\n    const speed = Math.sqrt(ball.vx * ball.vx + ball.vy * ball.vy);\n    ball.vy = Math.sin(angle) * speed;\n  }\n}"
                        },
                        pitfalls: ["Ball passing through paddle at high speed", "Collision detected multiple times", "Infinite speed increase"],
                        concepts: ["AABB collision", "Hit detection", "Score system"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "AI Opponent & Polish",
                        description: "Add single-player mode with AI and polish the game.",
                        criteria: ["AI controls one paddle", "AI difficulty adjustable", "Start/pause menu", "Sound effects", "Win condition (first to 10)"],
                        hints: {
                            level1: "Simple AI: move paddle toward ball Y position.",
                            level2: "Add reaction delay and imperfection for difficulty levels.",
                            level3: "function updateAI() {\n  const targetY = ball.y - paddle2.height / 2;\n  const diff = targetY - paddle2.y;\n  const difficulty = 0.8;\n  const maxSpeed = paddle2.speed * difficulty;\n  if (Math.random() > 0.9) return; // Sometimes don't move\n  if (Math.abs(diff) > 5) {\n    paddle2.y += Math.sign(diff) * Math.min(Math.abs(diff), maxSpeed);\n  }\n}"
                        },
                        pitfalls: ["Perfect AI is unbeatable", "AI reacting to ball behind it", "Sound playing too frequently"],
                        concepts: ["Basic game AI", "Difficulty scaling", "Game states"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            "tetris": {
                name: "Tetris",
                description: "Build the classic Tetris game. Learn about piece rotation, line clearing, and more complex game state management.",
                difficulty: "beginner",
                estimatedHours: "15-20",
                prerequisites: ["Basic programming", "2D arrays", "HTML5 Canvas or similar"],
                languages: { recommended: ["JavaScript", "Python", "C#"], also: ["Rust", "Go", "C++"] },
                resources: [
                    { name: "Tetris with JavaScript", url: "https://www.youtube.com/watch?v=rAUn1Lom6dw", type: "video" },
                    { name: "Coding Challenges Tetris", url: "https://codingchallenges.fyi/challenges/challenge-tetris/", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Board & Tetrominoes",
                        description: "Create the game board and define tetromino shapes.",
                        criteria: ["10x20 game board", "7 standard tetromino shapes (I, O, T, S, Z, J, L)", "Each shape has distinct color", "Shapes defined as 2D arrays", "Board renders empty grid"],
                        hints: {
                            level1: "Board: 2D array of cell states (0=empty, 1-7=piece colors).",
                            level2: "Define pieces as 2D arrays, use rotation matrices or store all rotations.",
                            level3: "const PIECES = {\n  I: { shape: [[1,1,1,1]], color: 'cyan' },\n  O: { shape: [[1,1],[1,1]], color: 'yellow' },\n  T: { shape: [[0,1,0],[1,1,1]], color: 'purple' },\n  S: { shape: [[0,1,1],[1,1,0]], color: 'green' },\n  Z: { shape: [[1,1,0],[0,1,1]], color: 'red' },\n  J: { shape: [[1,0,0],[1,1,1]], color: 'blue' },\n  L: { shape: [[0,0,1],[1,1,1]], color: 'orange' }\n};"
                        },
                        pitfalls: ["Piece definition orientation inconsistent", "Board dimensions swapped", "Off-by-one in grid rendering"],
                        concepts: ["2D arrays", "Piece representation", "Grid rendering"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Piece Falling & Controls",
                        description: "Implement falling pieces and player controls.",
                        criteria: ["Current piece falls automatically", "Left/Right moves piece", "Down accelerates fall", "Space hard drops", "Cannot move outside board"],
                        hints: {
                            level1: "Track current piece position separately from board state.",
                            level2: "Validate move before applying: check bounds and collisions.",
                            level3: "function isValidPosition(piece, offsetX = 0, offsetY = 0) {\n  const shape = PIECES[piece.type].shape;\n  for (let row = 0; row < shape.length; row++) {\n    for (let col = 0; col < shape[row].length; col++) {\n      if (shape[row][col]) {\n        const newX = piece.x + col + offsetX;\n        const newY = piece.y + row + offsetY;\n        if (newX < 0 || newX >= 10 || newY >= 20) return false;\n        if (newY >= 0 && board[newY][newX]) return false;\n      }\n    }\n  }\n  return true;\n}"
                        },
                        pitfalls: ["Negative Y during spawn", "Piece moving into placed blocks", "Hard drop going through floor"],
                        concepts: ["Position validation", "Input handling", "Collision detection"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 3,
                        name: "Piece Rotation",
                        description: "Implement piece rotation with wall kicks.",
                        criteria: ["Up arrow rotates piece clockwise", "Rotation works for all pieces", "Cannot rotate into walls or pieces", "Wall kick: try offset positions if direct rotation fails", "O piece doesn't rotate"],
                        hints: {
                            level1: "Transpose and reverse rows to rotate 90¬∞ clockwise.",
                            level2: "If rotation fails, try offsets: (1,0), (-1,0), (0,-1).",
                            level3: "function rotateShape(shape) {\n  const rows = shape.length;\n  const cols = shape[0].length;\n  const rotated = Array(cols).fill(null).map(() => Array(rows).fill(0));\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      rotated[c][rows - 1 - r] = shape[r][c];\n    }\n  }\n  return rotated;\n}"
                        },
                        pitfalls: ["O piece rotation changing position", "I piece wall kick needs special handling", "Rotating into ceiling"],
                        concepts: ["Matrix rotation", "Wall kicks", "SRS (Super Rotation System)"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 4,
                        name: "Line Clearing & Scoring",
                        description: "Implement line clearing and scoring system.",
                        criteria: ["Filled rows are detected", "Filled rows are removed", "Rows above fall down", "Score based on lines cleared (1/2/3/4 = 100/300/500/800)", "Level increases with lines", "Speed increases with level"],
                        hints: {
                            level1: "Check each row: if all cells filled, remove and shift above down.",
                            level2: "Track lines cleared, increase level every 10 lines.",
                            level3: "function clearLines() {\n  let linesCleared = 0;\n  for (let row = board.length - 1; row >= 0; row--) {\n    if (board[row].every(cell => cell !== 0)) {\n      board.splice(row, 1);\n      board.unshift(Array(10).fill(0));\n      linesCleared++;\n      row++;\n    }\n  }\n  if (linesCleared > 0) {\n    const points = [0, 100, 300, 500, 800][linesCleared];\n    score += points * level;\n  }\n}"
                        },
                        pitfalls: ["Iterating wrong direction when removing", "Not re-checking row after splice", "Tetris (4 lines) scoring wrong"],
                        concepts: ["Row clearing", "Score systems", "Difficulty progression"],
                        estimatedHours: "3-4"
                    }
                ]
            },

            // APPLICATION DEVELOPMENT - INTERMEDIATE
            "blog-platform": {
                name: "Blog Platform",
                description: "Build a full-featured blog platform with authentication, markdown support, and CRUD operations. Learn full-stack web development fundamentals.",
                difficulty: "intermediate",
                estimatedHours: "25-35",
                prerequisites: ["HTML/CSS/JavaScript", "Basic backend knowledge (Node.js or Python)", "Database basics (SQL or MongoDB)"],
                languages: { recommended: ["JavaScript", "Python", "TypeScript"], also: ["Go", "Ruby", "PHP"] },
                resources: [
                    { name: "Build a Blog with Next.js", url: "https://nextjs.org/learn/basics/create-nextjs-app", type: "tutorial" },
                    { name: "Flask Mega-Tutorial", url: "https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Project Setup & Database Schema",
                        description: "Set up the project structure and design the database.",
                        criteria: ["Project initialized with chosen framework", "Database connection established", "User table (id, email, password_hash, name)", "Post table (id, title, content, author_id, created_at, updated_at)", "Migration system in place"],
                        hints: {
                            level1: "Start with SQLite for development, switch to PostgreSQL for production.",
                            level2: "Use an ORM (Prisma, SQLAlchemy, TypeORM) for database operations.",
                            level3: "// Prisma schema example\nmodel User {\n  id       Int    @id @default(autoincrement())\n  email    String @unique\n  name     String\n  password String\n  posts    Post[]\n}\nmodel Post {\n  id        Int      @id @default(autoincrement())\n  title     String\n  content   String\n  author    User     @relation(fields: [authorId], references: [id])\n  authorId  Int\n  createdAt DateTime @default(now())\n}"
                        },
                        pitfalls: ["Not indexing frequently queried columns", "Storing passwords in plain text", "Not using foreign key constraints"],
                        concepts: ["Database design", "ORM usage", "Migrations"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 2,
                        name: "User Authentication",
                        description: "Implement user registration and login with secure password handling.",
                        criteria: ["Registration with email/password", "Password hashed with bcrypt", "Login returns JWT or session", "Protected routes require authentication", "Logout functionality"],
                        hints: {
                            level1: "Use bcrypt with cost factor 10-12 for password hashing.",
                            level2: "JWT: sign with secret, include user id and expiry.",
                            level3: "app.post('/login', async (req, res) => {\n  const user = await User.findByEmail(req.body.email);\n  if (!user || !await bcrypt.compare(req.body.password, user.password)) {\n    return res.status(401).json({ error: 'Invalid credentials' });\n  }\n  const token = jwt.sign({ userId: user.id }, SECRET, { expiresIn: '7d' });\n  res.json({ token });\n});"
                        },
                        pitfalls: ["Storing JWT in localStorage (XSS vulnerable)", "Not validating email format", "Exposing whether email exists on failed login"],
                        concepts: ["Password hashing", "JWT authentication", "HTTP-only cookies", "CSRF protection"],
                        estimatedHours: "5-6"
                    },
                    {
                        id: 3,
                        name: "Blog CRUD Operations",
                        description: "Implement create, read, update, delete for blog posts.",
                        criteria: ["Create post with title and content", "View all posts (paginated)", "View single post", "Edit own posts only", "Delete own posts only", "Markdown support for content"],
                        hints: {
                            level1: "Use marked or markdown-it library for markdown rendering.",
                            level2: "Pagination: OFFSET/LIMIT or cursor-based for large datasets.",
                            level3: "app.get('/posts', async (req, res) => {\n  const page = parseInt(req.query.page) || 1;\n  const limit = 10;\n  const offset = (page - 1) * limit;\n  const [posts, total] = await Promise.all([\n    Post.findMany({ skip: offset, take: limit, orderBy: { createdAt: 'desc' } }),\n    Post.count()\n  ]);\n  res.json({ posts, pagination: { page, limit, total, pages: Math.ceil(total / limit) } });\n});"
                        },
                        pitfalls: ["XSS from rendering user markdown (sanitize HTML)", "N+1 queries when loading posts with authors", "Not checking ownership on edit/delete"],
                        concepts: ["CRUD operations", "Authorization", "Markdown rendering", "Pagination"],
                        estimatedHours: "6-8"
                    },
                    {
                        id: 4,
                        name: "Frontend UI",
                        description: "Build the frontend interface for the blog.",
                        criteria: ["Homepage with post list", "Post detail page", "Login/register forms", "Post editor with live preview", "Responsive design"],
                        hints: {
                            level1: "Use a component library or build minimal components.",
                            level2: "Split editor and preview into side-by-side panels.",
                            level3: "function PostEditor({ value, onChange }) {\n  return (\n    <div className=\"editor-container\">\n      <textarea value={value} onChange={(e) => onChange(e.target.value)} className=\"editor\" />\n      <div className=\"preview\" dangerouslySetInnerHTML={{ __html: marked(value) }} />\n    </div>\n  );\n}"
                        },
                        pitfalls: ["Not handling loading states", "No error boundaries", "SEO issues with client-side rendering"],
                        concepts: ["Component architecture", "Form handling", "State management"],
                        estimatedHours: "6-8"
                    }
                ]
            },

            "chat-app": {
                name: "Real-time Chat",
                description: "Build a real-time chat application using WebSockets. Learn about bi-directional communication, presence, and message persistence.",
                difficulty: "intermediate",
                estimatedHours: "25-35",
                prerequisites: ["JavaScript/Node.js", "Basic HTML/CSS", "Understanding of HTTP"],
                languages: { recommended: ["JavaScript", "TypeScript"], also: ["Go", "Python", "Rust"] },
                resources: [
                    { name: "Socket.io Chat Tutorial", url: "https://socket.io/get-started/chat", type: "tutorial" },
                    { name: "WebSocket API - MDN", url: "https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API", type: "documentation" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "WebSocket Server Setup",
                        description: "Set up WebSocket server and basic connection handling.",
                        criteria: ["Server accepts WebSocket connections", "Clients can connect and disconnect", "Server logs connection events", "Basic error handling"],
                        hints: {
                            level1: "Use ws library (Node.js) or gorilla/websocket (Go).",
                            level2: "Track connected clients in a Map or Set.",
                            level3: "const WebSocket = require('ws');\nconst wss = new WebSocket.Server({ port: 8080 });\nconst clients = new Set();\n\nwss.on('connection', (ws) => {\n  clients.add(ws);\n  console.log('Client connected', clients.size);\n  ws.on('close', () => {\n    clients.delete(ws);\n    console.log('Client disconnected', clients.size);\n  });\n});"
                        },
                        pitfalls: ["Not handling connection errors", "Memory leaks from not cleaning up closed connections", "Not implementing heartbeat/ping-pong"],
                        concepts: ["WebSocket protocol", "Connection lifecycle", "Event-driven architecture"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Message Broadcasting",
                        description: "Implement sending and receiving messages.",
                        criteria: ["Client can send text messages", "Server broadcasts to all connected clients", "Messages include sender and timestamp", "Message format is JSON"],
                        hints: {
                            level1: "Parse incoming messages as JSON, broadcast to all clients.",
                            level2: "Don't send message back to sender (unless you want echo).",
                            level3: "ws.on('message', (data) => {\n  const message = JSON.parse(data);\n  const broadcast = JSON.stringify({\n    type: 'message',\n    user: message.user,\n    text: message.text,\n    timestamp: Date.now()\n  });\n  clients.forEach(client => {\n    if (client !== ws && client.readyState === WebSocket.OPEN) {\n      client.send(broadcast);\n    }\n  });\n});"
                        },
                        pitfalls: ["Not checking readyState before sending", "Invalid JSON crashing server", "Missing message validation"],
                        concepts: ["Broadcasting pattern", "JSON message protocol", "Error handling"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 3,
                        name: "Chat Rooms",
                        description: "Implement multiple chat rooms/channels.",
                        criteria: ["Users can join/leave rooms", "Messages scoped to room", "List available rooms", "Create new rooms", "Show users in current room"],
                        hints: {
                            level1: "Use a Map: roomName -> Set of client connections.",
                            level2: "Each message includes room name, only broadcast to room members.",
                            level3: "const rooms = new Map();\n\nfunction joinRoom(ws, roomName) {\n  if (!rooms.has(roomName)) {\n    rooms.set(roomName, new Set());\n  }\n  rooms.get(roomName).add(ws);\n  ws.currentRoom = roomName;\n}\n\nfunction broadcastToRoom(roomName, message, sender) {\n  const room = rooms.get(roomName);\n  if (!room) return;\n  room.forEach(client => {\n    if (client !== sender && client.readyState === WebSocket.OPEN) {\n      client.send(JSON.stringify(message));\n    }\n  });\n}"
                        },
                        pitfalls: ["Not removing user from room on disconnect", "Room names not sanitized", "Empty rooms accumulating"],
                        concepts: ["Room-based messaging", "Namespaces", "User presence"],
                        estimatedHours: "4-5"
                    },
                    {
                        id: 4,
                        name: "User Authentication & Persistence",
                        description: "Add user authentication and message history.",
                        criteria: ["Users authenticate before connecting", "Messages stored in database", "Load message history on join", "User typing indicators", "Online/offline status"],
                        hints: {
                            level1: "Send JWT token on WebSocket connect, verify before accepting.",
                            level2: "Store last N messages per room, load on join.",
                            level3: "// Typing indicator with debounce\nws.on('message', (data) => {\n  const msg = JSON.parse(data);\n  if (msg.type === 'typing') {\n    broadcastToRoom(ws.currentRoom, { type: 'typing', user: ws.user.name }, ws);\n    clearTimeout(ws.typingTimeout);\n    ws.typingTimeout = setTimeout(() => {\n      broadcastToRoom(ws.currentRoom, { type: 'stopped_typing', user: ws.user.name }, ws);\n    }, 3000);\n  }\n});"
                        },
                        pitfalls: ["Loading too much history (pagination needed)", "Typing indicator spam", "Race conditions with presence"],
                        concepts: ["WebSocket authentication", "Message persistence", "Presence system"],
                        estimatedHours: "6-8"
                    }
                ]
            },

            // DISTRIBUTED & CLOUD - INTERMEDIATE
            "rate-limiter": {
                name: "Rate Limiter",
                description: "Build a rate limiter using the token bucket algorithm. Learn about request throttling and protecting services from abuse.",
                difficulty: "intermediate",
                estimatedHours: "10-15",
                prerequisites: ["Basic web server knowledge", "Concurrency basics", "Time handling"],
                languages: { recommended: ["Python", "Go", "JavaScript"], also: ["Java", "Rust"] },
                resources: [
                    { name: "Token Bucket Algorithm", url: "https://en.wikipedia.org/wiki/Token_bucket", type: "documentation" },
                    { name: "Rate Limiting Strategies", url: "https://blog.bytebytego.com/p/rate-limiting-fundamentals", type: "article" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Token Bucket Implementation",
                        description: "Implement the core token bucket algorithm.",
                        criteria: ["Bucket has configurable capacity", "Tokens added at configurable rate", "Consume tokens for requests", "Return allow/deny decision", "Thread-safe implementation"],
                        hints: {
                            level1: "Track tokens and last refill time.",
                            level2: "Refill tokens on each request based on elapsed time.",
                            level3: "import time, threading\n\nclass TokenBucket:\n    def __init__(self, capacity, refill_rate):\n        self.capacity = capacity\n        self.tokens = capacity\n        self.refill_rate = refill_rate\n        self.last_refill = time.time()\n        self.lock = threading.Lock()\n\n    def _refill(self):\n        now = time.time()\n        elapsed = now - self.last_refill\n        tokens_to_add = elapsed * self.refill_rate\n        self.tokens = min(self.capacity, self.tokens + tokens_to_add)\n        self.last_refill = now\n\n    def consume(self, tokens=1):\n        with self.lock:\n            self._refill()\n            if self.tokens >= tokens:\n                self.tokens -= tokens\n                return True\n            return False"
                        },
                        pitfalls: ["Race conditions without locking", "Integer overflow in token calculation", "Clock drift issues"],
                        concepts: ["Token bucket algorithm", "Thread safety", "Rate calculations"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 2,
                        name: "Per-Client Rate Limiting",
                        description: "Track rate limits per client (IP or API key).",
                        criteria: ["Each client has own bucket", "Identify clients by IP or key", "Clean up old buckets", "Memory-efficient storage", "Configurable per-client limits"],
                        hints: {
                            level1: "Use dict/map: client_id -> TokenBucket.",
                            level2: "Expire buckets not used for N minutes to save memory.",
                            level3: "class RateLimiter:\n    def __init__(self, capacity, refill_rate):\n        self.capacity = capacity\n        self.refill_rate = refill_rate\n        self.buckets = {}\n        self.lock = threading.Lock()\n\n    def is_allowed(self, client_id):\n        with self.lock:\n            if client_id not in self.buckets:\n                self.buckets[client_id] = TokenBucket(self.capacity, self.refill_rate)\n            return self.buckets[client_id].consume()"
                        },
                        pitfalls: ["Memory leak from never cleaning buckets", "Lock contention under load", "Client spoofing bypassing limits"],
                        concepts: ["Per-client tracking", "Memory management", "Background cleanup"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "HTTP Middleware Integration",
                        description: "Integrate rate limiter as HTTP middleware.",
                        criteria: ["Middleware intercepts requests", "Returns 429 Too Many Requests when limited", "Includes Retry-After header", "X-RateLimit headers show limit/remaining", "Works with Express/Flask/etc"],
                        hints: {
                            level1: "Middleware checks rate limiter, proceeds or returns 429.",
                            level2: "Calculate Retry-After from time until next token.",
                            level3: "# Flask middleware example\n@app.before_request\ndef rate_limit():\n    client_ip = request.remote_addr\n    if not limiter.is_allowed(client_ip):\n        response = jsonify({'error': 'Too many requests'})\n        response.status_code = 429\n        response.headers['Retry-After'] = str(limiter.get_retry_after(client_ip))\n        response.headers['X-RateLimit-Limit'] = str(limiter.capacity)\n        response.headers['X-RateLimit-Remaining'] = '0'\n        return response"
                        },
                        pitfalls: ["Not returning proper status code", "Missing Retry-After header", "Rate limit headers only on 429"],
                        concepts: ["HTTP middleware", "Rate limit headers", "429 response"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "Distributed Rate Limiting",
                        description: "Scale rate limiter across multiple server instances.",
                        criteria: ["Rate limit shared across instances", "Redis-backed storage", "Atomic operations", "Handles Redis failures gracefully", "Consistent under high concurrency"],
                        hints: {
                            level1: "Store bucket state in Redis instead of memory.",
                            level2: "Use Redis transactions (MULTI/EXEC) or Lua scripts.",
                            level3: "# Redis Lua script for atomic token bucket\nSCRIPT = '''\nlocal key = KEYS[1]\nlocal capacity = tonumber(ARGV[1])\nlocal refill_rate = tonumber(ARGV[2])\nlocal now = tonumber(ARGV[3])\nlocal requested = tonumber(ARGV[4])\n\nlocal bucket = redis.call('HMGET', key, 'tokens', 'last_refill')\nlocal tokens = tonumber(bucket[1]) or capacity\nlocal last_refill = tonumber(bucket[2]) or now\n\nlocal elapsed = now - last_refill\ntokens = math.min(capacity, tokens + elapsed * refill_rate)\n\nlocal allowed = 0\nif tokens >= requested then\n    tokens = tokens - requested\n    allowed = 1\nend\n\nredis.call('HMSET', key, 'tokens', tokens, 'last_refill', now)\nredis.call('EXPIRE', key, 3600)\nreturn {allowed, tokens}\n'''"
                        },
                        pitfalls: ["Non-atomic read-modify-write", "Redis connection failures", "Clock sync between servers"],
                        concepts: ["Distributed state", "Redis Lua scripts", "Atomic operations"],
                        estimatedHours: "3-4"
                    }
                ]
            },

            "load-balancer-basic": {
                name: "Load Balancer (Basic)",
                description: "Build a basic application load balancer with round-robin distribution. Learn about reverse proxying and server health management.",
                difficulty: "intermediate",
                estimatedHours: "15-20",
                prerequisites: ["HTTP protocol", "TCP networking", "Concurrency basics"],
                languages: { recommended: ["Go", "Python", "JavaScript"], also: ["Rust", "Java"] },
                resources: [
                    { name: "Build Your Own Load Balancer", url: "https://codingchallenges.fyi/challenges/challenge-load-balancer/", type: "tutorial" },
                    { name: "Load Balancer in Go", url: "https://kasvith.me/posts/lets-create-a-simple-lb-go/", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "HTTP Proxy Foundation",
                        description: "Build basic HTTP reverse proxy functionality.",
                        criteria: ["Accept incoming HTTP requests", "Forward to single backend server", "Return backend response to client", "Handle connection errors", "Log requests"],
                        hints: {
                            level1: "Read request from client, write to backend, read response, write to client.",
                            level2: "Use HTTP library to handle request/response parsing.",
                            level3: "from flask import Flask, request, Response\nimport requests\n\napp = Flask(__name__)\nBACKEND = 'http://localhost:8001'\n\n@app.route('/<path:path>', methods=['GET', 'POST', 'PUT', 'DELETE'])\ndef proxy(path):\n    url = f'{BACKEND}/{path}'\n    resp = requests.request(\n        method=request.method,\n        url=url,\n        headers={k: v for k, v in request.headers if k != 'Host'},\n        data=request.get_data(),\n        allow_redirects=False\n    )\n    return Response(resp.content, status=resp.status_code, headers=dict(resp.headers))"
                        },
                        pitfalls: ["Not forwarding all headers", "Not handling request body", "Connection timeouts"],
                        concepts: ["Reverse proxy", "HTTP forwarding", "Request/response handling"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 2,
                        name: "Round Robin Distribution",
                        description: "Distribute requests across multiple backends.",
                        criteria: ["Configure list of backend servers", "Round-robin selection algorithm", "Even distribution across backends", "Thread-safe counter", "Skip unavailable backends"],
                        hints: {
                            level1: "Keep counter, increment mod number of backends.",
                            level2: "Use atomic operations for thread safety.",
                            level3: "class RoundRobinBalancer:\n    def __init__(self, backends):\n        self.backends = backends\n        self.current = 0\n        self.lock = threading.Lock()\n\n    def get_next(self):\n        with self.lock:\n            backend = self.backends[self.current]\n            self.current = (self.current + 1) % len(self.backends)\n            return backend"
                        },
                        pitfalls: ["Race condition in counter", "Modulo with zero backends", "Uneven distribution after backend changes"],
                        concepts: ["Round robin algorithm", "Atomic operations", "Backend pool"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Health Checks",
                        description: "Implement active health checking of backends.",
                        criteria: ["Periodic health check requests", "Mark unhealthy backends", "Skip unhealthy backends in routing", "Recover backends when healthy", "Configurable check interval and threshold"],
                        hints: {
                            level1: "Background thread pings each backend periodically.",
                            level2: "Track consecutive failures, mark unhealthy after threshold.",
                            level3: "class HealthChecker:\n    def __init__(self, backends, threshold=3):\n        self.backends = backends\n        self.healthy = {b: True for b in backends}\n        self.failures = {b: 0 for b in backends}\n        self.threshold = threshold\n\n    def check_backend(self, backend):\n        try:\n            resp = requests.get(f'{backend}/health', timeout=2)\n            if resp.status_code == 200:\n                self.failures[backend] = 0\n                self.healthy[backend] = True\n                return\n        except: pass\n        self.failures[backend] += 1\n        if self.failures[backend] >= self.threshold:\n            self.healthy[backend] = False"
                        },
                        pitfalls: ["Health checks overwhelming backends", "No healthy backends available", "Thundering herd on recovery"],
                        concepts: ["Health checking", "Failure detection", "Graceful degradation"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 4,
                        name: "Additional Algorithms",
                        description: "Implement additional load balancing algorithms.",
                        criteria: ["Weighted round robin", "Least connections", "IP hash (sticky sessions)", "Random selection", "Algorithm configurable at runtime"],
                        hints: {
                            level1: "Least connections: track active requests per backend.",
                            level2: "IP hash: hash(client_ip) % len(backends) for consistency.",
                            level3: "class LeastConnectionsBalancer:\n    def __init__(self, backends):\n        self.backends = backends\n        self.connections = {b: 0 for b in backends}\n        self.lock = threading.Lock()\n\n    def get_next(self):\n        with self.lock:\n            healthy = [b for b in self.backends if health_checker.healthy[b]]\n            return min(healthy, key=lambda b: self.connections[b])\n\nclass IPHashBalancer:\n    def get_next(self, client_ip):\n        healthy = [b for b in self.backends if health_checker.healthy[b]]\n        return healthy[hash(client_ip) % len(healthy)]"
                        },
                        pitfalls: ["Least connections not updating on response", "IP hash inconsistent after backend changes", "Weighted round robin integer overflow"],
                        concepts: ["Load balancing algorithms", "Session affinity", "Algorithm tradeoffs"],
                        estimatedHours: "4-5"
                    }
                ]
            },

            // SECURITY - BEGINNER
            "hash-impl": {
                name: "Hash Function (SHA-256)",
                description: "Implement SHA-256 hash function from the NIST specification. Learn about cryptographic primitives and bitwise operations.",
                difficulty: "beginner",
                estimatedHours: "10-15",
                prerequisites: ["Binary and hexadecimal representation", "Bitwise operations", "Basic understanding of cryptography"],
                languages: { recommended: ["Python", "JavaScript", "C"], also: ["Rust", "Go", "Java"] },
                resources: [
                    { name: "SHA-256 Step by Step", url: "https://blog.boot.dev/cryptography/how-sha-2-works-step-by-step-sha-256/", type: "tutorial" },
                    { name: "NIST SHA-256 Specification", url: "https://csrc.nist.gov/publications/detail/fips/180/4/final", type: "specification" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Message Preprocessing",
                        description: "Implement message padding and parsing.",
                        criteria: ["Convert message to binary", "Append '1' bit", "Pad with zeros to 448 mod 512", "Append original length as 64-bit integer", "Parse into 512-bit blocks"],
                        hints: {
                            level1: "Message length in bits must end at 64 bits from 512 boundary.",
                            level2: "Padding: 1 + zeros + 64-bit length. Total = multiple of 512.",
                            level3: "def preprocess(message):\n    if isinstance(message, str):\n        message = message.encode()\n    original_bit_len = len(message) * 8\n    message += b'\\x80'\n    while (len(message) % 64) != 56:\n        message += b'\\x00'\n    message += original_bit_len.to_bytes(8, 'big')\n    return [message[i:i+64] for i in range(0, len(message), 64)]"
                        },
                        pitfalls: ["Wrong bit/byte conversion", "Endianness errors", "Off-by-one in padding calculation"],
                        concepts: ["Bit padding", "Message blocks", "Binary representation"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Message Schedule",
                        description: "Generate the message schedule from each 512-bit block.",
                        criteria: ["Parse 512-bit block into 16 words (32-bit each)", "Extend to 64 words using SHA-256 schedule", "Implement œÉ0 and œÉ1 functions", "Words stored as 32-bit unsigned integers"],
                        hints: {
                            level1: "First 16 words: direct from message block (big-endian).",
                            level2: "Words 16-63: W[i] = œÉ1(W[i-2]) + W[i-7] + œÉ0(W[i-15]) + W[i-16].",
                            level3: "def rotr(x, n):\n    return ((x >> n) | (x << (32 - n))) & 0xffffffff\n\ndef sigma0(x):\n    return rotr(x, 7) ^ rotr(x, 18) ^ (x >> 3)\n\ndef sigma1(x):\n    return rotr(x, 17) ^ rotr(x, 19) ^ (x >> 10)\n\ndef message_schedule(block):\n    W = [int.from_bytes(block[i*4:(i+1)*4], 'big') for i in range(16)]\n    for i in range(16, 64):\n        W.append((sigma1(W[i-2]) + W[i-7] + sigma0(W[i-15]) + W[i-16]) & 0xffffffff)\n    return W"
                        },
                        pitfalls: ["Not masking to 32 bits", "Right rotate vs right shift", "Wrong œÉ function parameters"],
                        concepts: ["Rotate operations", "XOR operations", "Word expansion"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Compression Function",
                        description: "Implement the main compression function.",
                        criteria: ["Initialize working variables (a-h) from hash values", "64 rounds of compression", "Implement Œ£0, Œ£1, Ch, Maj functions", "Use correct K constants", "Update hash values after compression"],
                        hints: {
                            level1: "Each round: T1 = h + Œ£1(e) + Ch(e,f,g) + K[i] + W[i].",
                            level2: "Ch(x,y,z) = (x AND y) XOR (NOT x AND z). Maj(x,y,z) = (x AND y) XOR (x AND z) XOR (y AND z).",
                            level3: "def compress(H, W):\n    a, b, c, d, e, f, g, h = H\n    for i in range(64):\n        S1 = rotr(e, 6) ^ rotr(e, 11) ^ rotr(e, 25)\n        ch = (e & f) ^ (~e & g)\n        T1 = (h + S1 + ch + K[i] + W[i]) & 0xffffffff\n        S0 = rotr(a, 2) ^ rotr(a, 13) ^ rotr(a, 22)\n        maj = (a & b) ^ (a & c) ^ (b & c)\n        T2 = (S0 + maj) & 0xffffffff\n        h, g, f, e, d, c, b, a = g, f, e, (d + T1) & 0xffffffff, c, b, a, (T1 + T2) & 0xffffffff\n    return [(H[i] + v) & 0xffffffff for i, v in enumerate([a,b,c,d,e,f,g,h])]"
                        },
                        pitfalls: ["Mixing up Œ£ and œÉ functions", "Wrong K constant values", "Not masking intermediate results"],
                        concepts: ["Compression function", "Round functions", "Hash state"],
                        estimatedHours: "4-5"
                    },
                    {
                        id: 4,
                        name: "Final Hash Output",
                        description: "Produce the final 256-bit hash output.",
                        criteria: ["Process all message blocks", "Concatenate final hash values", "Output as 64-character hex string", "Test against known vectors", "Handle empty input correctly"],
                        hints: {
                            level1: "Process blocks sequentially, each updates hash state.",
                            level2: "Final hash: concatenate all 8 hash values as big-endian.",
                            level3: "def sha256(message):\n    blocks = preprocess(message)\n    H = initial_hash_values.copy()\n    for block in blocks:\n        W = message_schedule(block)\n        H = compress(H, W)\n    return ''.join(h.to_bytes(4, 'big').hex() for h in H)\n\n# Test vectors\nassert sha256('') == 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855'\nassert sha256('abc') == 'ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad'"
                        },
                        pitfalls: ["Wrong hash for empty string", "Endianness in output", "Not resetting state between calls"],
                        concepts: ["Hash finalization", "Test vectors", "Hex encoding"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            // CS FUNDAMENTALS - BEGINNER
            "linked-list": {
                name: "Linked List",
                description: "Implement singly, doubly, and circular linked lists. Understand pointer manipulation and memory management.",
                difficulty: "beginner",
                estimatedHours: "8-12",
                prerequisites: ["Basic programming", "Understanding of pointers/references"],
                languages: { recommended: ["Python", "JavaScript", "C", "Java"], also: ["Rust", "Go", "C++"] },
                resources: [
                    { name: "Linked List - GeeksforGeeks", url: "https://www.geeksforgeeks.org/linked-list-data-structure/", type: "tutorial" },
                    { name: "Visualgo - Linked List", url: "https://visualgo.net/en/list", type: "interactive" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Singly Linked List Basics",
                        description: "Implement a basic singly linked list with insert and traversal.",
                        criteria: ["Node class with value and next pointer", "LinkedList class with head reference", "Insert at beginning (prepend)", "Insert at end (append)", "Print/traverse list", "Get length"],
                        hints: {
                            level1: "Node has two properties: value and next (reference to next node).",
                            level2: "Keep track of head. For append, traverse to end first.",
                            level3: "class Node:\n    def __init__(self, value):\n        self.value = value\n        self.next = None\n\nclass LinkedList:\n    def __init__(self):\n        self.head = None\n\n    def prepend(self, value):\n        new_node = Node(value)\n        new_node.next = self.head\n        self.head = new_node\n\n    def append(self, value):\n        new_node = Node(value)\n        if not self.head:\n            self.head = new_node\n            return\n        current = self.head\n        while current.next:\n            current = current.next\n        current.next = new_node"
                        },
                        pitfalls: ["Forgetting to handle empty list", "Losing reference to head", "Off-by-one in traversal"],
                        concepts: ["Node structure", "Head pointer", "Traversal"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Search & Delete",
                        description: "Implement search and delete operations.",
                        criteria: ["Find node by value", "Delete node by value", "Delete at index", "Handle not found cases", "Handle single-element list"],
                        hints: {
                            level1: "To delete, keep track of previous node.",
                            level2: "Special case: deleting head node.",
                            level3: "def find(self, value):\n    current = self.head\n    while current:\n        if current.value == value:\n            return current\n        current = current.next\n    return None\n\ndef delete(self, value):\n    if not self.head:\n        return False\n    if self.head.value == value:\n        self.head = self.head.next\n        return True\n    current = self.head\n    while current.next:\n        if current.next.value == value:\n            current.next = current.next.next\n            return True\n        current = current.next\n    return False"
                        },
                        pitfalls: ["Not handling delete at head", "Memory leak (in manual memory languages)", "Deleting wrong node"],
                        concepts: ["Two-pointer technique", "Edge cases", "Memory management"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Doubly Linked List",
                        description: "Implement a doubly linked list with bidirectional traversal.",
                        criteria: ["Node has prev and next pointers", "Maintain both head and tail", "Insert at beginning and end O(1)", "Delete from both ends O(1)", "Traverse forward and backward"],
                        hints: {
                            level1: "Each node has three fields: value, prev, next.",
                            level2: "Keep tail pointer for O(1) append.",
                            level3: "class DoublyNode:\n    def __init__(self, value):\n        self.value = value\n        self.prev = None\n        self.next = None\n\nclass DoublyLinkedList:\n    def __init__(self):\n        self.head = None\n        self.tail = None\n\n    def append(self, value):\n        new_node = DoublyNode(value)\n        if not self.tail:\n            self.head = self.tail = new_node\n        else:\n            new_node.prev = self.tail\n            self.tail.next = new_node\n            self.tail = new_node"
                        },
                        pitfalls: ["Not updating both prev and next", "Forgetting to update tail", "Inconsistent head/tail on single element"],
                        concepts: ["Bidirectional links", "Head and tail pointers", "Constant time operations"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 4,
                        name: "Circular & Advanced Operations",
                        description: "Implement circular linked list and advanced operations.",
                        criteria: ["Circular linked list (last points to first)", "Reverse a linked list", "Detect cycle (Floyd's algorithm)", "Find middle element", "Merge two sorted lists"],
                        hints: {
                            level1: "Circular: tail.next = head instead of null.",
                            level2: "Reverse: three pointers - prev, current, next.",
                            level3: "def reverse(self):\n    prev = None\n    current = self.head\n    while current:\n        next_node = current.next\n        current.next = prev\n        prev = current\n        current = next_node\n    self.head = prev\n\ndef has_cycle(self):\n    slow = fast = self.head\n    while fast and fast.next:\n        slow = slow.next\n        fast = fast.next.next\n        if slow == fast:\n            return True\n    return False\n\ndef find_middle(self):\n    slow = fast = self.head\n    while fast and fast.next:\n        slow = slow.next\n        fast = fast.next.next\n    return slow"
                        },
                        pitfalls: ["Infinite loop in circular list traversal", "Reverse losing nodes", "Cycle detection on empty list"],
                        concepts: ["Circular structures", "In-place reversal", "Floyd's cycle detection", "Two-pointer technique"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            // COMPILERS - BEGINNER
            "json-parser": {
                name: "JSON Parser",
                description: "Build a JSON parser using recursive descent parsing. Learn about tokenization and AST construction.",
                difficulty: "beginner",
                estimatedHours: "8-12",
                prerequisites: ["Basic programming", "Understanding of JSON format"],
                languages: { recommended: ["Python", "JavaScript", "C"], also: ["Rust", "Go"] },
                resources: [
                    { name: "JSON Specification", url: "https://www.json.org/json-en.html", type: "specification" },
                    { name: "Crafting Interpreters", url: "https://craftinginterpreters.com/", type: "book" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Tokenizer",
                        description: "Build a lexer that converts JSON string into tokens.",
                        criteria: ["Tokenize strings, numbers, booleans, null", "Tokenize punctuation ({, }, [, ], :, ,)", "Skip whitespace", "Handle escape sequences in strings"],
                        hints: {
                            level1: "Read char by char, emit tokens based on current char.",
                            level2: "Handle escape sequences in strings: \\n, \\t, \\\\, etc.",
                            level3: "class Tokenizer:\n    def __init__(self, text):\n        self.text = text\n        self.pos = 0\n\n    def tokenize(self):\n        tokens = []\n        while self.pos < len(self.text):\n            char = self.text[self.pos]\n            if char.isspace():\n                self.pos += 1\n            elif char == '\"':\n                tokens.append(self.read_string())\n            elif char.isdigit() or char == '-':\n                tokens.append(self.read_number())\n            elif char in '{}[]:,':\n                tokens.append(('PUNCT', char))\n                self.pos += 1\n            elif self.text[self.pos:self.pos+4] == 'true':\n                tokens.append(('BOOL', True))\n                self.pos += 4\n        return tokens"
                        },
                        pitfalls: ["Escape sequences in strings", "Negative numbers", "Scientific notation"],
                        concepts: ["Lexical analysis", "Token types", "State machine"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Parser",
                        description: "Parse tokens into native data structures.",
                        criteria: ["Parse objects and arrays", "Handle nested structures", "Return native data types", "Handle syntax errors gracefully"],
                        hints: {
                            level1: "Recursive descent: parse_value calls parse_object/parse_array.",
                            level2: "Object: {key: value, ...}. Array: [value, ...].",
                            level3: "class Parser:\n    def parse_value(self):\n        token = self.current()\n        if token[0] == 'PUNCT' and token[1] == '{':\n            return self.parse_object()\n        elif token[0] == 'PUNCT' and token[1] == '[':\n            return self.parse_array()\n        elif token[0] == 'STRING':\n            self.advance()\n            return token[1]\n        elif token[0] == 'NUMBER':\n            self.advance()\n            return token[1]\n        elif token[0] == 'BOOL':\n            self.advance()\n            return token[1]\n\n    def parse_object(self):\n        self.expect('{')\n        obj = {}\n        while self.current()[1] != '}':\n            key = self.expect_string()\n            self.expect(':')\n            value = self.parse_value()\n            obj[key] = value\n            if self.current()[1] == ',':\n                self.advance()\n        self.expect('}')\n        return obj"
                        },
                        pitfalls: ["Trailing comma handling", "Deep nesting stack overflow", "Empty object/array edge case"],
                        concepts: ["Recursive descent", "Grammar rules", "AST construction"],
                        estimatedHours: "3-4"
                    },
                    {
                        id: 3,
                        name: "Error Handling & Edge Cases",
                        description: "Add robust error handling and edge case support.",
                        criteria: ["Meaningful error messages with position", "Handle all JSON types correctly", "Validate number format", "Unicode string support"],
                        hints: {
                            level1: "Track line and column for error messages.",
                            level2: "Number format: optional minus, integer or decimal, optional exponent.",
                            level3: "class JSONError(Exception):\n    def __init__(self, message, line, col):\n        super().__init__(f'{message} at line {line}, column {col}')\n        self.line = line\n        self.col = col\n\ndef read_number(self):\n    start = self.pos\n    if self.current_char() == '-':\n        self.advance()\n    if self.current_char() == '0':\n        self.advance()\n    else:\n        while self.current_char().isdigit():\n            self.advance()\n    if self.current_char() == '.':\n        self.advance()\n        while self.current_char().isdigit():\n            self.advance()\n    if self.current_char() in 'eE':\n        self.advance()\n        if self.current_char() in '+-':\n            self.advance()\n        while self.current_char().isdigit():\n            self.advance()\n    return float(self.text[start:self.pos])"
                        },
                        pitfalls: ["Numbers with leading zeros (invalid in JSON)", "Unicode escapes \\u0000", "Duplicate keys in objects"],
                        concepts: ["Error recovery", "JSON specification compliance", "Unicode handling"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            // APPLICATION DEVELOPMENT - ADVANCED
            "social-network": {
                name: "Social Network",
                description: "Build a social network with user profiles, feeds, followers, and notifications. Learn about complex data relationships and real-time features at scale.",
                difficulty: "advanced",
                estimatedHours: "60-80",
                prerequisites: ["Full-stack web development", "Database design", "Caching concepts", "Real-time systems"],
                languages: { recommended: ["JavaScript", "Python", "Go"], also: ["Ruby", "Java", "Elixir"] },
                resources: [
                    { name: "Feed Architecture", url: "https://www.youtube.com/watch?v=QmX2NPkJTKg", type: "video" },
                    { name: "System Design Social Network", url: "https://www.youtube.com/results?search_query=system+design+social+network", type: "video" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "User Profiles & Follow System",
                        description: "Build user profiles and the follow/follower relationship.",
                        criteria: ["User profile with bio, avatar, links", "Follow/unfollow users", "Follower and following lists", "Follower/following counts", "Profile editing"],
                        hints: {
                            level1: "Follow is a self-referential many-to-many relationship.",
                            level2: "Store counts denormalized for performance.",
                            level3: "// Follow relationship\nmodel Follow {\n  id          Int      @id @default(autoincrement())\n  followerId  Int\n  followingId Int\n  createdAt   DateTime @default(now())\n  follower    User     @relation(\"follower\", ...)\n  following   User     @relation(\"following\", ...)\n  @@unique([followerId, followingId])\n  @@index([followingId])\n}\n\n// Denormalized counts on User\nmodel User {\n  followerCount  Int @default(0)\n  followingCount Int @default(0)\n}"
                        },
                        pitfalls: ["Self-follow allowed", "Count drift from denormalization", "N+1 queries for follower lists"],
                        concepts: ["Self-referential relations", "Denormalization", "Count caching"],
                        estimatedHours: "8-10"
                    },
                    {
                        id: 2,
                        name: "Posts & Feed (Fan-out on Write)",
                        description: "Implement posts and the home feed using fan-out on write.",
                        criteria: ["Create text/image posts", "User's own post list", "Home feed (posts from followed users)", "Feed pagination (cursor-based)", "Post timestamps"],
                        hints: {
                            level1: "Fan-out on write: when user posts, add to each follower's feed.",
                            level2: "Use a Feed table: { userId, postId, createdAt }.",
                            level3: "async function createPost(authorId, content) {\n  const post = await Post.create({ authorId, content });\n  const followers = await Follow.findMany({\n    where: { followingId: authorId },\n    select: { followerId: true }\n  });\n  await FeedItem.createMany({\n    data: followers.map(f => ({\n      userId: f.followerId,\n      postId: post.id,\n      createdAt: post.createdAt\n    }))\n  });\n  return post;\n}"
                        },
                        pitfalls: ["Fan-out blocking post creation (use queue)", "Celebrity problem (millions of followers)", "Offset pagination performance"],
                        concepts: ["Fan-out on write vs read", "Feed generation", "Cursor pagination"],
                        estimatedHours: "10-12"
                    },
                    {
                        id: 3,
                        name: "Likes, Comments & Interactions",
                        description: "Add social interactions to posts.",
                        criteria: ["Like/unlike posts", "Comment on posts", "Like counts (real-time update)", "Comment threads", "Share/repost"],
                        hints: {
                            level1: "Like: simple user-post relation. Comment: text + user + post.",
                            level2: "Use optimistic UI updates for likes.",
                            level3: "async function likePost(postId) {\n  // Optimistic update\n  setLiked(true);\n  setLikeCount(prev => prev + 1);\n  try {\n    await api.post(`/posts/${postId}/like`);\n  } catch (error) {\n    // Rollback on error\n    setLiked(false);\n    setLikeCount(prev => prev - 1);\n  }\n}"
                        },
                        pitfalls: ["Double-like race condition", "Comment ordering (newest vs oldest)", "Deep nested replies complexity"],
                        concepts: ["Social interactions", "Optimistic updates", "Comment systems"],
                        estimatedHours: "8-10"
                    },
                    {
                        id: 4,
                        name: "Notifications",
                        description: "Build a notification system for social activity.",
                        criteria: ["Notification for new follower", "Notification for likes/comments", "Notification badge count", "Mark as read", "Real-time notification delivery"],
                        hints: {
                            level1: "Notification table: { userId, type, data, read, createdAt }.",
                            level2: "Use WebSocket or SSE for real-time delivery.",
                            level3: "model Notification {\n  id        Int      @id\n  userId    Int      // recipient\n  type      String   // 'follow', 'like', 'comment'\n  actorId   Int      // who triggered it\n  targetId  Int?     // post id for likes/comments\n  read      Boolean  @default(false)\n  createdAt DateTime @default(now())\n  @@index([userId, read, createdAt])\n}\n\nasync function createLikeNotification(postId, likerId) {\n  const post = await Post.findUnique({ where: { id: postId } });\n  if (post.authorId === likerId) return;\n  await Notification.create({\n    data: { userId: post.authorId, type: 'like', actorId: likerId, targetId: postId }\n  });\n  notificationService.push(post.authorId, { type: 'like', ... });\n}"
                        },
                        pitfalls: ["Notification spam (batch similar notifications)", "Notifying yourself", "Notification count going negative"],
                        concepts: ["Notification system", "Real-time delivery", "Batching"],
                        estimatedHours: "8-10"
                    },
                    {
                        id: 5,
                        name: "Search & Discovery",
                        description: "Add search and content discovery features.",
                        criteria: ["Search users by name/username", "Search posts by content", "Trending posts/hashtags", "Suggested users to follow", "Explore page"],
                        hints: {
                            level1: "Simple search with LIKE. Use Elasticsearch for scale.",
                            level2: "Trending: count hashtags/posts in sliding window.",
                            level3: "async function getSuggestedUsers(userId) {\n  // Users followed by people I follow, that I don't follow\n  const suggestions = await prisma.$queryRaw`\n    SELECT u.*, COUNT(*) as mutual\n    FROM users u\n    JOIN follows f1 ON f1.following_id = u.id\n    JOIN follows f2 ON f2.follower_id = f1.follower_id\n    WHERE f2.following_id = ${userId}\n      AND u.id != ${userId}\n      AND u.id NOT IN (\n        SELECT following_id FROM follows WHERE follower_id = ${userId}\n      )\n    GROUP BY u.id\n    ORDER BY mutual DESC\n    LIMIT 10\n  `;\n  return suggestions;\n}"
                        },
                        pitfalls: ["Search too slow on large datasets", "Trending manipulation (spam)", "Recommendation bubbles"],
                        concepts: ["Search implementation", "Trending algorithms", "Recommendation systems"],
                        estimatedHours: "10-12"
                    },
                    {
                        id: 6,
                        name: "Performance & Scaling",
                        description: "Optimize for performance and prepare for scale.",
                        criteria: ["Redis caching for feeds", "Background job processing", "CDN for media", "Database indexing optimized", "Load testing done"],
                        hints: {
                            level1: "Cache hot data: user profiles, feed, follower counts.",
                            level2: "Use background jobs for fan-out, notifications, emails.",
                            level3: "async function getFeed(userId, cursor) {\n  const cacheKey = `feed:${userId}`;\n  let feedIds = await redis.zrevrange(cacheKey, 0, 19);\n  if (!feedIds.length) {\n    const feed = await FeedItem.findMany({\n      where: { userId },\n      orderBy: { createdAt: 'desc' },\n      take: 100\n    });\n    await redis.zadd(cacheKey, ...feed.flatMap(f => [f.createdAt.getTime(), f.postId]));\n    feedIds = feed.map(f => f.postId).slice(0, 20);\n  }\n  return Post.findMany({ where: { id: { in: feedIds } } });\n}"
                        },
                        pitfalls: ["Cache invalidation complexity", "Celebrity user problem", "Hot partition on popular content"],
                        concepts: ["Caching strategies", "Background jobs", "Performance optimization"],
                        estimatedHours: "12-15"
                    }
                ]
            },

            // AI/ML - BEGINNER
            "linear-regression": {
                name: "Linear Regression",
                description: "Implement linear regression with gradient descent from scratch. Understand the fundamentals of machine learning optimization.",
                difficulty: "beginner",
                estimatedHours: "8-12",
                prerequisites: ["Basic Python/NumPy", "High school math (derivatives)"],
                languages: { recommended: ["Python"], also: ["JavaScript", "Julia"] },
                resources: [
                    { name: "Linear Regression Tutorial", url: "https://scikit-learn.org/stable/modules/linear_model.html", type: "documentation" },
                    { name: "Gradient Descent Explained", url: "https://www.youtube.com/watch?v=sDv4f4s2SB8", type: "video" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Simple Linear Regression",
                        description: "Implement single-variable linear regression.",
                        criteria: ["Model y = mx + b", "Fit using closed-form solution", "Calculate predictions", "Calculate R¬≤ score"],
                        hints: {
                            level1: "Closed-form: m = cov(x,y)/var(x), b = mean(y) - m*mean(x)",
                            level2: "Use numpy for vectorized operations.",
                            level3: "def fit(X, y):\n    x_mean, y_mean = np.mean(X), np.mean(y)\n    numerator = np.sum((X - x_mean) * (y - y_mean))\n    denominator = np.sum((X - x_mean) ** 2)\n    m = numerator / denominator\n    b = y_mean - m * x_mean\n    return m, b\n\ndef r2_score(y_true, y_pred):\n    ss_res = np.sum((y_true - y_pred) ** 2)\n    ss_tot = np.sum((y_true - np.mean(y_true)) ** 2)\n    return 1 - (ss_res / ss_tot)"
                        },
                        pitfalls: ["Division by zero with constant X", "Data not being proper arrays", "Using float instead of numpy"],
                        concepts: ["Linear relationship", "Least squares", "Model evaluation"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 2,
                        name: "Gradient Descent",
                        description: "Implement gradient descent optimization.",
                        criteria: ["Cost function (MSE)", "Gradient calculation", "Iterative parameter update", "Convergence detection"],
                        hints: {
                            level1: "Cost = (1/n) * sum((y_pred - y)¬≤)",
                            level2: "Update: param = param - learning_rate * gradient",
                            level3: "def gradient_descent(X, y, learning_rate=0.01, iterations=1000):\n    m, b = 0, 0\n    n = len(X)\n    for _ in range(iterations):\n        y_pred = m * X + b\n        dm = -(2/n) * np.sum(X * (y - y_pred))\n        db = -(2/n) * np.sum(y - y_pred)\n        m -= learning_rate * dm\n        b -= learning_rate * db\n    return m, b"
                        },
                        pitfalls: ["Learning rate too high (divergence)", "Not normalizing features", "Stopping too early"],
                        concepts: ["Gradient descent", "Learning rate", "Cost function"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Multiple Linear Regression",
                        description: "Extend to multiple input features.",
                        criteria: ["Handle multiple features", "Matrix form: y = Xw", "Vectorized gradient descent", "Feature normalization"],
                        hints: {
                            level1: "Add bias term as column of 1s in X matrix.",
                            level2: "Gradient: ‚àáJ = (1/n) * X^T * (Xw - y)",
                            level3: "def multi_gradient_descent(X, y, lr=0.01, iters=1000):\n    X = np.c_[np.ones(len(X)), X]  # Add bias column\n    w = np.zeros(X.shape[1])\n    n = len(y)\n    for _ in range(iters):\n        y_pred = X @ w\n        gradient = (1/n) * (X.T @ (y_pred - y))\n        w -= lr * gradient\n    return w"
                        },
                        pitfalls: ["Features on different scales", "Matrix dimension mismatches", "Forgetting bias term"],
                        concepts: ["Matrix operations", "Feature scaling", "Vectorization"],
                        estimatedHours: "2-3"
                    }
                ]
            },

            "knn": {
                name: "KNN Classifier",
                description: "Implement K-Nearest Neighbors classification algorithm. Learn about distance metrics and non-parametric models.",
                difficulty: "beginner",
                estimatedHours: "6-10",
                prerequisites: ["Basic Python/NumPy", "Distance formulas"],
                languages: { recommended: ["Python"], also: ["JavaScript", "Julia"] },
                resources: [
                    { name: "KNN Explained", url: "https://scikit-learn.org/stable/modules/neighbors.html", type: "documentation" },
                    { name: "KNN from Scratch", url: "https://machinelearningmastery.com/tutorial-to-implement-k-nearest-neighbors-in-python-from-scratch/", type: "tutorial" }
                ],
                milestones: [
                    {
                        id: 1,
                        name: "Distance Calculation",
                        description: "Implement distance metrics for KNN.",
                        criteria: ["Euclidean distance", "Manhattan distance", "Distance to all training points", "Efficient computation"],
                        hints: {
                            level1: "Euclidean: sqrt(sum((a-b)¬≤))",
                            level2: "Manhattan: sum(|a-b|)",
                            level3: "def euclidean_distance(a, b):\n    return np.sqrt(np.sum((a - b) ** 2))\n\ndef manhattan_distance(a, b):\n    return np.sum(np.abs(a - b))\n\ndef compute_distances(X_train, x_test, metric='euclidean'):\n    distances = []\n    for x_train in X_train:\n        if metric == 'euclidean':\n            d = euclidean_distance(x_train, x_test)\n        else:\n            d = manhattan_distance(x_train, x_test)\n        distances.append(d)\n    return np.array(distances)"
                        },
                        pitfalls: ["Negative under square root", "Feature scaling differences", "Integer vs float types"],
                        concepts: ["Distance metrics", "Vector operations", "NumPy arrays"],
                        estimatedHours: "1-2"
                    },
                    {
                        id: 2,
                        name: "K-Nearest Neighbors Classification",
                        description: "Implement the full KNN classifier.",
                        criteria: ["Find k nearest neighbors", "Majority voting for classification", "Predict on new data", "Calculate accuracy"],
                        hints: {
                            level1: "Sort by distance, take first k, count labels.",
                            level2: "Use Counter for majority voting.",
                            level3: "from collections import Counter\n\nclass KNN:\n    def __init__(self, k=3):\n        self.k = k\n\n    def fit(self, X, y):\n        self.X_train = X\n        self.y_train = y\n\n    def predict_one(self, x):\n        distances = compute_distances(self.X_train, x)\n        k_indices = np.argsort(distances)[:self.k]\n        k_labels = self.y_train[k_indices]\n        most_common = Counter(k_labels).most_common(1)\n        return most_common[0][0]\n\n    def predict(self, X):\n        return [self.predict_one(x) for x in X]\n\n    def score(self, X, y):\n        predictions = self.predict(X)\n        return np.mean(predictions == y)"
                        },
                        pitfalls: ["K larger than dataset", "Ties in voting", "Empty neighbors"],
                        concepts: ["Classification", "Majority voting", "Accuracy metric"],
                        estimatedHours: "2-3"
                    },
                    {
                        id: 3,
                        name: "Improvements & Evaluation",
                        description: "Add improvements and proper evaluation.",
                        criteria: ["Weighted voting by distance", "Cross-validation", "Confusion matrix", "Finding optimal k"],
                        hints: {
                            level1: "Weight by 1/distance for closer neighbors.",
                            level2: "Use k-fold cross-validation to find best k.",
                            level3: "def weighted_predict(self, x):\n    distances = compute_distances(self.X_train, x)\n    k_indices = np.argsort(distances)[:self.k]\n    k_distances = distances[k_indices]\n    k_labels = self.y_train[k_indices]\n    # Weighted voting\n    weights = 1 / (k_distances + 1e-8)  # Avoid div by zero\n    label_weights = {}\n    for label, weight in zip(k_labels, weights):\n        label_weights[label] = label_weights.get(label, 0) + weight\n    return max(label_weights, key=label_weights.get)\n\ndef find_best_k(X, y, k_range=range(1, 21)):\n    best_k, best_score = 1, 0\n    for k in k_range:\n        knn = KNN(k=k)\n        score = cross_val_score(knn, X, y)  # Implement k-fold CV\n        if score > best_score:\n            best_k, best_score = k, score\n    return best_k"
                        },
                        pitfalls: ["Overfitting with small k", "Underfitting with large k", "Computational cost"],
                        concepts: ["Weighted voting", "Cross-validation", "Hyperparameter tuning"],
                        estimatedHours: "2-3"
                    }
                ]
            }
        }
    };

    // State
    let currentFilter = 'all';
    let searchQuery = '';
    let currentView = 'domains'; // 'domains', 'domain-detail', 'project-detail'
    let selectedDomain = null;
    let selectedProject = null;

    // DOM Elements
    const domainsGrid = document.getElementById('domainsGrid');
    const modalOverlay = document.getElementById('modalOverlay');
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalContent = document.getElementById('modalContent');
    const closeModal = document.getElementById('closeModal');
    const searchInput = document.getElementById('searchInput');
    const filterPills = document.querySelectorAll('.filter-pill');

    // Calculate stats
    function calculateStats() {
        let totalProjects = 0;
        let detailedProjects = 0;
        let totalMilestones = 0;

        projectsData.domains.forEach(domain => {
            ['beginner', 'intermediate', 'advanced', 'expert'].forEach(level => {
                const projects = domain.projects[level] || [];
                totalProjects += projects.length;
                projects.forEach(p => {
                    if (p.detailed) detailedProjects++;
                });
            });
        });

        Object.values(projectsData.expertProjects).forEach(project => {
            totalMilestones += project.milestones.length;
        });

        document.getElementById('totalProjects').textContent = totalProjects;
        document.getElementById('detailedProjects').textContent = detailedProjects;
        document.getElementById('totalMilestones').textContent = totalMilestones;
    }

    // Render domain cards
    function renderDomains() {
        const filteredDomains = projectsData.domains.filter(domain => {
            if (searchQuery) {
                const query = searchQuery.toLowerCase();
                const nameMatch = domain.name.toLowerCase().includes(query);
                const subdomainMatch = domain.subdomains.some(s => s.toLowerCase().includes(query));
                const projectMatch = ['beginner', 'intermediate', 'advanced', 'expert'].some(level =>
                    (domain.projects[level] || []).some(p =>
                        p.name.toLowerCase().includes(query) ||
                        p.description.toLowerCase().includes(query)
                    )
                );
                return nameMatch || subdomainMatch || projectMatch;
            }
            return true;
        });

        domainsGrid.innerHTML = filteredDomains.map(domain => {
            const counts = {
                beginner: (domain.projects.beginner || []).length,
                intermediate: (domain.projects.intermediate || []).length,
                advanced: (domain.projects.advanced || []).length,
                expert: (domain.projects.expert || []).length
            };

            const total = counts.beginner + counts.intermediate + counts.advanced + counts.expert;
            if (total === 0 && currentFilter !== 'all') return '';

            const filteredCounts = currentFilter === 'all' ? counts : { [currentFilter]: counts[currentFilter] };
            const filteredTotal = currentFilter === 'all' ? total : counts[currentFilter];

            if (filteredTotal === 0) return '';

            return `
                <div class="domain-card" data-domain-id="${domain.id}">
                    <div class="domain-icon">${domain.icon}</div>
                    <h3 class="domain-name">${domain.name}</h3>
                    <p class="domain-subdomains">${domain.subdomains.slice(0, 3).join(' ‚Ä¢ ')}${domain.subdomains.length > 3 ? ' ...' : ''}</p>
                    <div class="project-counts">
                        ${currentFilter === 'all' ? `
                            ${counts.beginner > 0 ? `<span class="count-badge beginner">${counts.beginner} Beginner</span>` : ''}
                            ${counts.intermediate > 0 ? `<span class="count-badge intermediate">${counts.intermediate} Intermediate</span>` : ''}
                            ${counts.advanced > 0 ? `<span class="count-badge advanced">${counts.advanced} Advanced</span>` : ''}
                            ${counts.expert > 0 ? `<span class="count-badge expert">${counts.expert} Expert</span>` : ''}
                        ` : `
                            <span class="count-badge ${currentFilter}">${filteredTotal} ${currentFilter.charAt(0).toUpperCase() + currentFilter.slice(1)}</span>
                        `}
                    </div>
                </div>
            `;
        }).join('');

        // Add click handlers
        document.querySelectorAll('.domain-card').forEach(card => {
            card.addEventListener('click', () => {
                const domainId = card.dataset.domainId;
                selectedDomain = projectsData.domains.find(d => d.id === domainId);
                openDomainModal(selectedDomain);
            });
        });
    }

    // Open domain modal
    function openDomainModal(domain) {
        modalTitle.innerHTML = `${domain.icon} ${domain.name}`;

        const levels = currentFilter === 'all'
            ? ['beginner', 'intermediate', 'advanced', 'expert']
            : [currentFilter];

        let content = '';

        levels.forEach(level => {
            const projects = domain.projects[level] || [];
            const filteredProjects = searchQuery
                ? projects.filter(p =>
                    p.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    p.description.toLowerCase().includes(searchQuery.toLowerCase())
                  )
                : projects;

            if (filteredProjects.length > 0) {
                content += `
                    <div class="level-section">
                        <div class="level-header">
                            <span class="level-indicator ${level}">${level}</span>
                            <span style="color: var(--text-muted); font-size: 14px;">${filteredProjects.length} project${filteredProjects.length !== 1 ? 's' : ''}</span>
                        </div>
                        <div class="projects-list">
                            ${filteredProjects.map(project => `
                                <div class="project-item ${project.detailed ? 'detailed' : ''}" data-project-id="${project.id}">
                                    <div class="project-info">
                                        <h4>${project.name}</h4>
                                        <p>${project.description}</p>
                                        ${project.languages ? `<div class="tags">${project.languages.map(l => `<span class="tag">${l}</span>`).join('')}</div>` : ''}
                                    </div>
                                    <span class="project-arrow">${project.detailed ? '‚Üí' : ''}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
        });

        if (!content) {
            content = `
                <div class="empty-state">
                    <div class="icon">üì≠</div>
                    <p>No projects match your current filter.</p>
                </div>
            `;
        }

        modalContent.innerHTML = content;

        // Add click handlers for detailed projects
        document.querySelectorAll('.project-item.detailed').forEach(item => {
            item.addEventListener('click', () => {
                const projectId = item.dataset.projectId;
                const projectData = projectsData.expertProjects[projectId];
                if (projectData) {
                    openProjectDetail(projectData);
                }
            });
        });

        showModal();
    }

    // Open project detail view
    function openProjectDetail(project) {
        modalTitle.innerHTML = `üî¨ ${project.name}`;

        let content = `
            <div class="project-detail">
                <button class="back-btn" id="backToList">‚Üê Back to list</button>

                <div class="detail-header">
                    <h3>${project.name}</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6;">${project.description}</p>
                    <div class="detail-meta">
                        <span class="meta-item">‚è±Ô∏è ${project.estimatedHours} hours</span>
                        <span class="meta-item">üìä ${project.milestones.length} milestones</span>
                    </div>
                    ${project.languages ? `
                        <div class="tags" style="margin-top: 16px;">
                            ${project.languages.recommended.map(l => `<span class="tag">${l}</span>`).join('')}
                            ${project.languages.also ? project.languages.also.map(l => `<span class="tag" style="opacity: 0.6">${l}</span>`).join('') : ''}
                        </div>
                    ` : ''}
                </div>

                ${project.prerequisites ? `
                    <div class="section">
                        <h4 class="section-title">Prerequisites</h4>
                        <ul class="concepts-list">
                            ${project.prerequisites.map(p => `<li>${p}</li>`).join('')}
                        </ul>
                    </div>
                ` : ''}

                ${project.resources && project.resources.length > 0 ? `
                    <div class="section">
                        <h4 class="section-title">Resources</h4>
                        <div class="resources-grid">
                            ${project.resources.map(r => `
                                <a href="${r.url}" target="_blank" class="resource-link">
                                    <div class="type">${r.type}</div>
                                    <div class="name">${r.name}</div>
                                </a>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}

                <div class="section">
                    <h4 class="section-title">Milestones</h4>
                    ${project.milestones.map((m, idx) => `
                        <div class="milestone" data-milestone-id="${idx}">
                            <div class="milestone-header">
                                <span class="milestone-number">${m.id || idx + 1}</span>
                                <div>
                                    <h4 class="milestone-title">${m.name}</h4>
                                    ${m.estimatedHours ? `<span style="font-size: 12px; color: var(--text-muted);">‚è±Ô∏è ${m.estimatedHours} hours</span>` : ''}
                                </div>
                            </div>
                            <p class="milestone-desc">${m.description}</p>
                            <button class="expand-btn">Show details ‚ñº</button>

                            <div class="milestone-details">
                                ${m.criteria && m.criteria.length > 0 ? `
                                    <h5 style="margin-top: 16px; font-size: 13px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px;">Acceptance Criteria</h5>
                                    <ul class="criteria-list">
                                        ${m.criteria.map(c => `<li>${c}</li>`).join('')}
                                    </ul>
                                ` : ''}

                                ${m.hints ? `
                                    <h5 style="margin-top: 20px; font-size: 13px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px;">Hints (Progressive)</h5>
                                    <div class="hints-container">
                                        <div class="hint-level">
                                            <div class="hint-header">
                                                <span>üí° Level 1 - Gentle nudge</span>
                                                <span>‚ñº</span>
                                            </div>
                                            <div class="hint-content"><pre>${m.hints.level1}</pre></div>
                                        </div>
                                        <div class="hint-level">
                                            <div class="hint-header">
                                                <span>üí° Level 2 - More detail</span>
                                                <span>‚ñº</span>
                                            </div>
                                            <div class="hint-content"><pre>${m.hints.level2}</pre></div>
                                        </div>
                                        <div class="hint-level">
                                            <div class="hint-header">
                                                <span>üí° Level 3 - Full guidance</span>
                                                <span>‚ñº</span>
                                            </div>
                                            <div class="hint-content"><pre>${m.hints.level3}</pre></div>
                                        </div>
                                    </div>
                                ` : ''}

                                ${m.pitfalls && m.pitfalls.length > 0 ? `
                                    <h5 style="margin-top: 20px; font-size: 13px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px;">Common Pitfalls</h5>
                                    <ul class="pitfalls-list">
                                        ${m.pitfalls.map(p => `<li>${p}</li>`).join('')}
                                    </ul>
                                ` : ''}

                                ${m.concepts && m.concepts.length > 0 ? `
                                    <h5 style="margin-top: 20px; font-size: 13px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px;">Key Concepts</h5>
                                    <ul class="concepts-list">
                                        ${m.concepts.map(c => `<li>${c}</li>`).join('')}
                                    </ul>
                                ` : ''}
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;

        modalContent.innerHTML = content;

        // Add back button handler
        document.getElementById('backToList').addEventListener('click', () => {
            openDomainModal(selectedDomain);
        });

        // Add expand button handlers
        document.querySelectorAll('.expand-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const milestone = e.target.closest('.milestone');
                milestone.classList.toggle('expanded');
                btn.textContent = milestone.classList.contains('expanded') ? 'Hide details ‚ñ≤' : 'Show details ‚ñº';
            });
        });

        // Add hint toggle handlers
        document.querySelectorAll('.hint-header').forEach(header => {
            header.addEventListener('click', () => {
                header.parentElement.classList.toggle('open');
            });
        });
    }

    // Show/hide modal
    function showModal() {
        modalOverlay.classList.add('active');
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function hideModal() {
        modalOverlay.classList.remove('active');
        modal.classList.remove('active');
        document.body.style.overflow = '';
    }

    // Event listeners
    closeModal.addEventListener('click', hideModal);
    modalOverlay.addEventListener('click', hideModal);

    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') hideModal();
    });

    filterPills.forEach(pill => {
        pill.addEventListener('click', () => {
            filterPills.forEach(p => p.classList.remove('active'));
            pill.classList.add('active');
            currentFilter = pill.dataset.filter;
            renderDomains();
        });
    });

    searchInput.addEventListener('input', (e) => {
        searchQuery = e.target.value;
        renderDomains();
    });

    // Initialize
    calculateStats();
    renderDomains();
    </script>
</body>
</html>
